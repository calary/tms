{"version":3,"sources":["webpack:///dist/app.js","webpack:///webpack/bootstrap b59745d1e4de0491b51a","webpack:///./src/index.js","webpack:///./src/app.module.js","webpack:///./src/formly/index.js","webpack:///./src/formly/configs.js","webpack:///./src/formly/wrapper/hasError.js","webpack:///./src/formly/wrapper/hasError.html","webpack:///./src/formly/wrapper/horizontalWrapper.js","webpack:///./src/formly/wrapper/horizontalWrapper.html","webpack:///./src/formly/wrapper/horizontalLabel.js","webpack:///./src/formly/wrapper/horizontalLabel.html","webpack:///./src/formly/types/checkbox2.js","webpack:///./src/formly/types/input2.js","webpack:///./src/formly/types/plainTimeRange.js","webpack:///./src/formly/types/timeRange.js","webpack:///./src/formly/types/timeRange2.js","webpack:///./src/formly/types/select2.js","webpack:///./src/formly/types/static2.js","webpack:///./src/formly/types/repeatSection.js","webpack:///./src/formly/types/repeatSection.html","webpack:///./src/formly/types/uiSelect.js","webpack:///./src/formly/types/uiSelect.html","webpack:///./src/formly/types/uiSelect2.js","webpack:///./src/formly/types/uiSelectAsync.js","webpack:///./src/formly/types/uiSelectAsync.html","webpack:///./src/formly/types/uiSelectAsync2.js","webpack:///./src/global/index.js","webpack:///./src/global/base-modal.component.js","webpack:///./src/global/base-modal.component.html","webpack:///./src/global/datetime-modal.component.js","webpack:///./src/global/datetime-modal.component.html","webpack:///./src/global/base-modal.service.js","webpack:///./src/global/datetime-modal.service.js","webpack:///./src/global/date.service.js","webpack:///./src/global/date2.filter.js","webpack:///./src/global/input-file.directive.js","webpack:///./src/global/xx-click.directive.js","webpack:///./src/global/xx-bind-html.directive.js","webpack:///./src/global/xx-table.directive.js","webpack:///./src/global/xx-table.directive.html","webpack:///./src/global/datetime-picker.directive.js","webpack:///./src/global/datetime-picker.directive.html","webpack:///./src/global/datetime-range.directive.js","webpack:///./src/global/datetime-range.directive.html","webpack:///./src/global/configs.js","webpack:///./src/global/datetime-modal.timepicker.html","webpack:///./src/main/index.js","webpack:///./src/main/app.component.js","webpack:///./src/main/app.component.html","webpack:///./src/main/constants.js","webpack:///./src/main/states.js","webpack:///./src/main/configs.js","webpack:///./src/main/filters.js","webpack:///./src/tasks/index.js","webpack:///./src/tasks/task-list.component.js","webpack:///./src/tasks/task-list.component.html","webpack:///./src/tasks/edit-task.component.js","webpack:///./src/tasks/edit-task.component.html","webpack:///./src/tasks/test.component.js","webpack:///./src/tasks/test.component.html","webpack:///./src/tasks/states.js","webpack:///./src/tasks/services.js","webpack:///./src/rules/index.js","webpack:///./src/rules/new-rule.component.js","webpack:///./src/rules/new-rule.component.html","webpack:///./src/rules/new-rule-list.component.js","webpack:///./src/rules/new-rule-list.component.html","webpack:///./src/rules/new-rules.component.js","webpack:///./src/rules/new-rules.component.html","webpack:///./src/rules/rules-list.component.js","webpack:///./src/rules/rules-list.component.html","webpack:///./src/rules/view-rules.component.js","webpack:///./src/rules/view-rules.component.html","webpack:///./src/rules/view-rules-list.component.js","webpack:///./src/rules/view-rules-list.component.html","webpack:///./src/rules/import-rules.component.js","webpack:///./src/rules/import-rules.component.html","webpack:///./src/rules/import-rules-modal.component.js","webpack:///./src/rules/import-rules-modal.component.html","webpack:///./src/rules/states.js","webpack:///./src/rules/configs.js","webpack:///./src/rules/types/bindTag.js","webpack:///./src/rules/types/bindTag.html","webpack:///./src/rules/services.js"],"names":["modules","__webpack_require__","moduleId","installedModules","exports","module","id","loaded","call","m","c","p","appModule","formlyModule","globalModule","mainModule","tasksModule","rulesModule","BLANK_MODULE","states","constants","components","directives","services","factories","filters","configBlocks","runBlocks","subModules","map","Object","assign","forEach","config","$stateProvider","state","keys","name","constant","component","directive","service","factory","filter","configBlock","runBlock","run","angular","configs","runFormlyConfig","formlyConfig","formlyValidationMessages","setWrapper","setType","extras","errorExistsAndShouldBeVisibleExpression","ngModelAttrsManipulatorPreferBound","addStringMessage","messages","pattern","viewValue","modelValue","scope","addTemplateOptionValueMessage","template","overwriteOk","extends","wrapper","defaultOptions","ngModelAttrs","mode","bound","attribute","noFormControl","unique","controller","$scope","copyFields","fields","copy","addRandomIds","addNew","model","options","key","repeatsection","lastSection","length","newsection","push","field","index","fieldGroup","templateOptions","getRandomInt","min","max","Math","floor","random","formOptions","formState","baseModalComponent","datetimeModalComponent","baseModalService","datetimeModalService","dateService","date2Filter","inputFileDirective","xxClickDirective","xxBindHtmlDirective","xxTableDirective","datetimePickerDirective","datetimeRangeDirective","baseModal","datetimeModal","inputFile","datetimePicker","datetimeRange","xxClick","xxBindHtml","xxTable","$modalService","$datetimeModalService","date2","cacheTemplateRunBlock","$timeout","ok","$ctrl","handleOk","lock","then","close","finally","cancel","dismiss","this","resolve","console","log","title","content","okLabel","cancelLabel","hideOk","hideCancel","isToast","timeout","vm","$inject","bindings","$value","date","Date","minDate","maxDate","toLowerCase","datePickerMode","showDate","showTime","showWeeks","minMode","$watch","newVal","getTime","setTime","$uibModal","confirm","modalInstance","open","size","result","alert","toast","show","windowClass","$filter","computeOffset","d","getTimezoneOffset","isDateString","str","DATE_REG","test","fromString2","replace","toString2","fromString","toString","resetInput","input","form","document","createElement","div","parent","parentNode","replaceChild","appendChild","reset","retrict","disabled","accept","onChange","transclude","join","link","$ele","$attr","e","files","target","file","$input","find","bind","attr","$q","clickHandler","rtn","$apply","isPromise","when","on","$compile","$eval","value","html","contents","onInit","init","data","columns","methods","update","status","firstUpdate","cb","getData","res","curReqCount","reqCount","isArray","all","error","require","ngModel","toDate","format","selectTime","newDate","$setViewValue","$render","$viewValue","required","$observe","$validate","$validators","String","$isEmpty","$templateCache","put","appComponent","store","apiBaseUrl","rulesTypes","ruleTypes","taskStatus","boolOptions","timeOptions","compareOptions","sexOptions","pointsOptions","couponOptions","app","taskStatusFilter","appState","otherwiseConfigBlock","httpConfigBlock","$rootScope","$state","$transitions","isNewRules","is","isRulesList","viewRulesType","isViewRulesList","onSuccess","$on","type","hideEditArea","viewRulesNav","types","redirectTo","$urlRouterProvider","otherwise","$httpProvider","dateServiceProvider","recurse","obj","condition","callback","File","isObject","_obj","$get","defaults","transformRequest","headersGetter","encodeURIComponent","headers","post","Content-Type","interceptors","request","req","fromApi","url","params","isDate","response","Status","information","Information","_data","Data","__data","hasOwnProperty","count","reject","item","taskListComponent","editTaskComponent","testComponent","taskList","editTask","taskListState","newTaskState","editTaskState","testState","tasksService","timeOption","time","siteid","rulegroupname","rulegrouptype","startdate","startdate1","enddate","enddate1","getTasks","onTableInit","getStatusTitle","_status","getPercent","number","parseFloat","round","_taskStatus","slice","className","label","valueProp","labelProp","undefined","concat","tableConfig","head","submit","$invalid","RuleGroupID","TaskID","SiteID","StartDate","EndDate","isNewTask","createTask","gotoList","reason","go","hideSiteId","rulesOptions","ruleType","rulesService","getRules","to","watcher","listener","newValue","oldValue","stopWatching","rules","RuleGroupType","hideExpression","expressionProperties","templateOptions.required","HYUniqueid","taskId","text","RuleGroupName","day","range","click","$http","get","HYUniqueID","newRuleComponent","newRuleListComponent","newRulesComponent","rulesListComponent","viewRulesComponent","viewRulesListComponent","importRulesComponent","importRulesModalComponent","rulesList","viewRulesList","viewRules","newRules","newRuleList","newRule","importRules","importRulesModal","rulesListState","newRulesState","newRuleListState","newRuleState","viewRulesListState","viewRulesState","importRuleState","addSection","formList","removeSection","splice","getRule","rulesId","getRuleTypes","GroupType","rulesType","createGetData","rulesTitles","baseTableConfig","hide","tableConfigs","extend","GroupStatus","Module","Name","Content","findIndex","showNav","currentId","$emit","deregister","$onDestroy","selectFile","uploading","errMsg","succMsg","importFile","showImportModal","testData","modulesOptions","selectRules","selectModule","copyItemOptions","search","keyword","selectTag","tag","weight","tagId","tagTitle","hideModel","hideFields","optionsAttr","refresh","refreshDelay","val","option","pic","formData","FormData","append"],"mappings":"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","file":"./dist/app.js","sourcesContent":["/******/ (function(modules) { // webpackBootstrap\n/******/ \t// The module cache\n/******/ \tvar installedModules = {};\n/******/\n/******/ \t// The require function\n/******/ \tfunction __webpack_require__(moduleId) {\n/******/\n/******/ \t\t// Check if module is in cache\n/******/ \t\tif(installedModules[moduleId])\n/******/ \t\t\treturn installedModules[moduleId].exports;\n/******/\n/******/ \t\t// Create a new module (and put it into the cache)\n/******/ \t\tvar module = installedModules[moduleId] = {\n/******/ \t\t\texports: {},\n/******/ \t\t\tid: moduleId,\n/******/ \t\t\tloaded: false\n/******/ \t\t};\n/******/\n/******/ \t\t// Execute the module function\n/******/ \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n/******/\n/******/ \t\t// Flag the module as loaded\n/******/ \t\tmodule.loaded = true;\n/******/\n/******/ \t\t// Return the exports of the module\n/******/ \t\treturn module.exports;\n/******/ \t}\n/******/\n/******/\n/******/ \t// expose the modules object (__webpack_modules__)\n/******/ \t__webpack_require__.m = modules;\n/******/\n/******/ \t// expose the module cache\n/******/ \t__webpack_require__.c = installedModules;\n/******/\n/******/ \t// __webpack_public_path__\n/******/ \t__webpack_require__.p = \"\";\n/******/\n/******/ \t// Load entry module and return exports\n/******/ \treturn __webpack_require__(0);\n/******/ })\n/************************************************************************/\n/******/ ([\n/* 0 */\n/***/ function(module, exports, __webpack_require__) {\n\n\t// 文件结构与代码参考ui-router的sample\r\n\t// https://ui-router.github.io/sample-app-ng1/\r\n\t\r\n\tvar appModule = __webpack_require__(1);\r\n\tvar formlyModule = __webpack_require__(2); // 自定义formly表单类型\r\n\tvar globalModule = __webpack_require__(29);\r\n\tvar mainModule = __webpack_require__(57);\r\n\tvar tasksModule = __webpack_require__(66);\r\n\tvar rulesModule = __webpack_require__(77);\r\n\t\r\n\t// 模块模板\r\n\t// key为注册名，value为注册时所需的配置对象\r\n\tvar BLANK_MODULE = {\r\n\t    states: [], \r\n\t    constants: {}, \r\n\t    components: {}, \r\n\t    directives: {}, \r\n\t    services: {}, \r\n\t    factories: {}, \r\n\t    filters: {}, \r\n\t    configBlocks: [], \r\n\t    runBlocks: []\r\n\t};\r\n\t\r\n\tvar subModules = [formlyModule, globalModule, mainModule, tasksModule, rulesModule]\r\n\t.map(function(module){\r\n\t  // 保证每个模块都包含模块模板里的key\r\n\t  return Object.assign({}, BLANK_MODULE, module);\r\n\t});\r\n\t// console.log(subModules);\r\n\tsubModules.forEach(function(module){\r\n\t  // 配置state\r\n\t  appModule.config(['$stateProvider', function($stateProvider){\r\n\t    return module.states.forEach(function (state) { \r\n\t      return $stateProvider.state(state); \r\n\t    }); \r\n\t  }]);\r\n\t  // 注册常量\r\n\t  Object.keys(module.constants).forEach(function (name) {\r\n\t    return appModule.constant(name, module.constants[name]); \r\n\t  });\r\n\t  // 注册component\r\n\t  Object.keys(module.components).forEach(function (name) {\r\n\t    return appModule.component(name, module.components[name]); \r\n\t  });\r\n\t  // 注册directive\r\n\t  Object.keys(module.directives).forEach(function (name) { \r\n\t    return appModule.directive(name, module.directives[name]); \r\n\t  });\r\n\t  // 注册service\r\n\t  Object.keys(module.services).forEach(function (name) { \r\n\t    return appModule.service(name, module.services[name]); \r\n\t  });\r\n\t  // 注册factory\r\n\t  Object.keys(module.factories).forEach(function (name) {\r\n\t    return appModule.factory(name, module.factories[name]); \r\n\t  });\r\n\t  // 注册filter\r\n\t  Object.keys(module.filters).forEach(function (name) { \r\n\t    return appModule.filter(name, module.filters[name]); \r\n\t  });\r\n\t  // 注册config回调\r\n\t  module.configBlocks.forEach(function (configBlock) { \r\n\t    return appModule.config(configBlock); \r\n\t  });\r\n\t  // 注册run回调\r\n\t  module.runBlocks.forEach(function (runBlock) {\r\n\t    return appModule.run(runBlock); \r\n\t  });\r\n\t});\r\n\n\n/***/ },\n/* 1 */\n/***/ function(module, exports) {\n\n\tmodule.exports = angular.module('app', [\r\n\t  'ngAnimate',\r\n\t  'ngMessages',\r\n\t  'ngSanitize',\r\n\t  // 'ngMockE2E',\r\n\t  'ui.bootstrap',\r\n\t  'ui.select',\r\n\t  'ui.router',\r\n\t  // 'ui.grid',\r\n\t  'uiSwitch',\r\n\t  'formly', \r\n\t  'formlyBootstrap'\r\n\t]);\r\n\n\n/***/ },\n/* 2 */\n/***/ function(module, exports, __webpack_require__) {\n\n\tvar configs = __webpack_require__(3);\r\n\t\r\n\tmodule.exports = {\r\n\t  runBlocks: [ configs.runFormlyConfig ]\r\n\t};\r\n\n\n/***/ },\n/* 3 */\n/***/ function(module, exports, __webpack_require__) {\n\n\t// 所有formly自定义类型的样式\r\n\t__webpack_require__(4);\r\n\t\r\n\texports.runFormlyConfig = ['formlyConfig', 'formlyValidationMessages',\r\n\t function(formlyConfig, formlyValidationMessages){\r\n\t  // bootstrap formly插件提供了\r\n\t  // wrapper: bootstrapLabel, has-error\r\n\t  // types: checkbox, multiCheckbox, input, radio, select, textarea\r\n\t  // bootstrap的form默认样式是一行label一行input\r\n\t  \r\n\t  // 新增基本type\r\n\t  // plainTimeRange\r\n\t  \r\n\t  // .form-horizontal样式\r\n\t  // 新增wrapper: horizontalBootstrapLabel\r\n\t  // 新增types: input2, select2,\r\n\t  \r\n\t  // new wrapper\r\n\t  formlyConfig.setWrapper(__webpack_require__(8));\r\n\t  formlyConfig.setWrapper(__webpack_require__(10));\r\n\t  formlyConfig.setWrapper(__webpack_require__(12));\r\n\t  // new types\r\n\t  formlyConfig.setType(__webpack_require__(14));\r\n\t  formlyConfig.setType(__webpack_require__(15));\r\n\t  formlyConfig.setType(__webpack_require__(16));\r\n\t  formlyConfig.setType(__webpack_require__(17));\r\n\t  formlyConfig.setType(__webpack_require__(18));\r\n\t  formlyConfig.setType(__webpack_require__(19));\r\n\t  formlyConfig.setType(__webpack_require__(20));\r\n\t  formlyConfig.setType(__webpack_require__(21));\r\n\t  formlyConfig.setType(__webpack_require__(23));\r\n\t  formlyConfig.setType(__webpack_require__(25));\r\n\t  formlyConfig.setType(__webpack_require__(26));\r\n\t  formlyConfig.setType(__webpack_require__(28));\r\n\t  // error message\r\n\t  formlyConfig.extras.errorExistsAndShouldBeVisibleExpression = \r\n\t    'fc.$touched || form.$submitted';\r\n\t  // 防止设置maxlength，输入超出长度之后，浏览器限制继续输入\r\n\t  formlyConfig.extras.ngModelAttrsManipulatorPreferBound = true;\r\n\t  formlyValidationMessages.addStringMessage('required', '必填');\r\n\t  formlyValidationMessages.addStringMessage('maxlength', '输入太长了');\r\n\t  formlyValidationMessages.messages.pattern = function(viewValue, modelValue, scope) {\r\n\t    return viewValue + ' is invalid';\r\n\t  };\r\n\t  formlyValidationMessages.addTemplateOptionValueMessage('minlength', 'minlength', '', 'is the minimum length', 'Too short');\r\n\t}];\r\n\t\r\n\t\r\n\t\r\n\t\r\n\t\r\n\t\r\n\t\r\n\t\r\n\t\r\n\t/* global angular */\r\n\t// (function() {\r\n\t\r\n\t//   'use strict';\r\n\t\r\n\t//   var app = angular.module('formlyExample', ['formly', 'ngMessages'], function config(formlyConfigProvider) {\r\n\t//     formlyConfigProvider.setType([\r\n\t//       {\r\n\t//         name: 'input',\r\n\t//         templateUrl: 'input-template.html'\r\n\t//       },\r\n\t//       {\r\n\t//         name: 'checkbox',\r\n\t//         templateUrl: 'checkbox-template.html'\r\n\t//       }\r\n\t//     ]);\r\n\t//     formlyConfigProvider.setWrapper([\r\n\t//       {\r\n\t//         template: [\r\n\t//           '<div class=\"formly-template-wrapper form-group\"',\r\n\t//           'ng-class=\"{\\'has-error\\': options.validation.errorExistsAndShouldBeVisible}\">',\r\n\t//           '<label for=\"{{::id}}\">{{options.templateOptions.label}} {{options.templateOptions.required ? \\'*\\' : \\'\\'}}</label>',\r\n\t//           '<formly-transclude></formly-transclude>',\r\n\t//           '<div class=\"validation\"',\r\n\t//           'ng-if=\"options.validation.errorExistsAndShouldBeVisible\"',\r\n\t//           'ng-messages=\"options.formControl.$error\">',\r\n\t//           '<div ng-messages-include=\"validation.html\"></div>',\r\n\t//           '<div ng-message=\"{{::name}}\" ng-repeat=\"(name, message) in ::options.validation.messages\">',\r\n\t//           '{{message(options.formControl.$viewValue, options.formControl.$modelValue, this)}}',\r\n\t//           '</div>',\r\n\t//           '</div>',\r\n\t//           '</div>'\r\n\t//         ].join(' ')\r\n\t//       },\r\n\t//       {\r\n\t//         template: [\r\n\t//           '<div class=\"checkbox formly-template-wrapper-for-checkboxes form-group\">',\r\n\t//           '<label for=\"{{::id}}\">',\r\n\t//           '<formly-transclude></formly-transclude>',\r\n\t//           '</label>',\r\n\t//           '</div>'\r\n\t//         ].join(' '),\r\n\t//         types: 'checkbox'\r\n\t//       }\r\n\t//     ]);\r\n\t//   });\r\n\t  \r\n\t//   app.run(function(formlyConfig, formlyValidationMessages) {\r\n\t//     formlyConfig.extras.ngModelAttrsManipulatorPreferBound = true;\r\n\t//     formlyValidationMessages.addStringMessage('maxlength', 'Your input is WAAAAY too long!');\r\n\t//     formlyValidationMessages.messages.pattern = function(viewValue, modelValue, scope) {\r\n\t//       return viewValue + ' is invalid';\r\n\t//     };\r\n\t//     formlyValidationMessages.addTemplateOptionValueMessage('minlength', 'minlength', '', 'is the minimum length', 'Too short');\r\n\t//   });\r\n\t\r\n\t\r\n\t//   app.controller('MainCtrl', function MainCtrl(formlyVersion) {\r\n\t//     var vm = this;\r\n\t//     // funcation assignment\r\n\t//     vm.onSubmit = onSubmit;\r\n\t\r\n\t//     // variable assignment\r\n\t//     vm.author = { // optionally fill in your info below :-)\r\n\t//       name: 'Kent C. Dodds',\r\n\t//       url: 'https://twitter.com/kentcdodds'\r\n\t//     };\r\n\t//     vm.exampleTitle = 'Template Wrappers & Validation'; // add this\r\n\t//     vm.env = {\r\n\t//       angularVersion: angular.version.full,\r\n\t//       formlyVersion: formlyVersion\r\n\t//     };\r\n\t\r\n\t//     vm.model = {};\r\n\t\r\n\t//     vm.fields = [\r\n\t//       {\r\n\t//         key: 'email',\r\n\t//         type: 'input',\r\n\t//         templateOptions: {\r\n\t//           label: 'Email',\r\n\t//           required: true,\r\n\t//           type: 'email',\r\n\t//           maxlength: 10,\r\n\t//           minlength: 6,\r\n\t//           placeholder: 'example@example.com'\r\n\t//         }\r\n\t//       },\r\n\t//       {\r\n\t//         key: 'ip',\r\n\t//         type: 'input',\r\n\t//         validators: {\r\n\t//           ipAddress: {\r\n\t//             expression: function(viewValue, modelValue) {\r\n\t//               var value = modelValue || viewValue;\r\n\t//               return /(\\d{1,3}\\.){3}\\d{1,3}/.test(value);\r\n\t//             },\r\n\t//             message: '$viewValue + \" is not a valid IP Address\"'\r\n\t//           }\r\n\t//         },\r\n\t//         templateOptions: {\r\n\t//           label: 'IP Address',\r\n\t//           required: true,\r\n\t//           type: 'text',\r\n\t//           placeholder: '127.0.0.1',\r\n\t//         },\r\n\t//         validation: {\r\n\t//           messages: {\r\n\t//             required: function(viewValue, modelValue, scope) {\r\n\t//               return scope.to.label + ' is required'\r\n\t//             }\r\n\t//           }\r\n\t//         }\r\n\t//       },\r\n\t//       {\r\n\t//         key: 'mac',\r\n\t//         type: 'input',\r\n\t//         templateOptions: {\r\n\t//           label: 'MAC Address',\r\n\t//           required: true,\r\n\t//           placeholder: '49-8A-BD-4E-00-1D',\r\n\t//           pattern: '([0-9A-F]{2}[:-]){5}([0-9A-F]{2})'\r\n\t//         }\r\n\t//       },\r\n\t//       {\r\n\t//         type: 'checkbox',\r\n\t//         key: 'checked',\r\n\t//         templateOptions: {\r\n\t//           label: 'Check this'\r\n\t//         }\r\n\t//       },\r\n\t//       {\r\n\t//         key: 'checked2',\r\n\t//         type: 'checkbox',\r\n\t//         wrapper: null,\r\n\t//         templateOptions: {\r\n\t//           label: 'no wrapper here...'\r\n\t//         }\r\n\t//       }\r\n\t//     ];\r\n\t\r\n\t//     vm.originalFields = angular.copy(vm.fields);\r\n\t\r\n\t//     // function definition\r\n\t//     function onSubmit() {\r\n\t//       alert(JSON.stringify(vm.model), null, 2);\r\n\t//     }\r\n\t//   });\r\n\t\r\n\t// })();\n\n/***/ },\n/* 4 */\n/***/ function(module, exports) {\n\n\t// removed by extract-text-webpack-plugin\n\n/***/ },\n/* 5 */,\n/* 6 */,\n/* 7 */,\n/* 8 */\n/***/ function(module, exports, __webpack_require__) {\n\n\tmodule.exports = {\r\n\t  name: 'bootstrapHasError',\r\n\t  template: __webpack_require__(9),\r\n\t  overwriteOk: true\r\n\t};\n\n/***/ },\n/* 9 */\n/***/ function(module, exports) {\n\n\tmodule.exports = \"<div class=\\\"formly-template-wrapper form-group\\\" ng-class=\\\"{'has-error': showError}\\\">\\r\\n  <formly-transclude></formly-transclude>\\r\\n  <div class=\\\"validation\\\"\\r\\n    ng-if=\\\"fc.$touched || form.$submitted\\\"\\r\\n    ng-messages=\\\"fc.$error\\\">\\r\\n    <div ng-message=\\\"{{::name}}\\\" ng-repeat=\\\"(name, message) in ::options.validation.messages\\\">\\r\\n    \\t<span class=\\\"glyphicon glyphicon-exclamation-sign\\\"></span>\\r\\n      {{message(fc.$viewValue, fc.$modelValue, this)}}\\r\\n    </div>\\r\\n  </div>\\r\\n</div>\"\n\n/***/ },\n/* 10 */\n/***/ function(module, exports, __webpack_require__) {\n\n\tmodule.exports = {\r\n\t  name: 'horizontalBootstrapWrapper',\r\n\t  template: __webpack_require__(11)\r\n\t};\n\n/***/ },\n/* 11 */\n/***/ function(module, exports) {\n\n\tmodule.exports = \"<div class=\\\"col-sm-4\\\"></div>\\r\\n<div class=\\\"col-sm-8\\\">\\r\\n  <formly-transclude></formly-transclude>\\r\\n</div>\"\n\n/***/ },\n/* 12 */\n/***/ function(module, exports, __webpack_require__) {\n\n\tmodule.exports = {\r\n\t  name: 'horizontalBootstrapLabel',\r\n\t  template: __webpack_require__(13)\r\n\t};\n\n/***/ },\n/* 13 */\n/***/ function(module, exports) {\n\n\tmodule.exports = \"<label for=\\\"{{::id}}\\\" class=\\\"col-xs-4 control-label\\\">\\r\\n  {{to.label}}\\r\\n</label>\\r\\n<div class=\\\"col-xs-8\\\">\\r\\n  <formly-transclude></formly-transclude>\\r\\n</div>\"\n\n/***/ },\n/* 14 */\n/***/ function(module, exports) {\n\n\tmodule.exports = {\r\n\t  name: 'checkbox2',\r\n\t  extends: 'checkbox',\r\n\t  wrapper: ['horizontalBootstrapWrapper', 'bootstrapHasError']\r\n\t};\n\n/***/ },\n/* 15 */\n/***/ function(module, exports) {\n\n\tmodule.exports = {\r\n\t  name: 'input2',\r\n\t  extends: 'input',\r\n\t  wrapper: ['horizontalBootstrapLabel', 'bootstrapHasError']\r\n\t};\n\n/***/ },\n/* 16 */\n/***/ function(module, exports) {\n\n\tmodule.exports = {\r\n\t  name: 'plainTimeRange',\r\n\t  template: '<datetime-range ng-model=\"model[options.key]\"></datetime-range>',\r\n\t  defaultOptions: {\r\n\t    ngModelAttrs: {\r\n\t      mode: {\r\n\t        bound: 'mode',\r\n\t        attribute: 'mode'\r\n\t      }\r\n\t    }\r\n\t  }\r\n\t};\n\n/***/ },\n/* 17 */\n/***/ function(module, exports) {\n\n\tmodule.exports = {\r\n\t  name: 'timeRange',\r\n\t  extends: 'plainTimeRange',\r\n\t  wrapper: ['bootstrapLabel', 'bootstrapHasError']\r\n\t};\n\n/***/ },\n/* 18 */\n/***/ function(module, exports) {\n\n\tmodule.exports = {\r\n\t  name: 'timeRange2',\r\n\t  extends: 'plainTimeRange',\r\n\t  wrapper: ['horizontalBootstrapLabel', 'bootstrapHasError']\r\n\t};\n\n/***/ },\n/* 19 */\n/***/ function(module, exports) {\n\n\tmodule.exports = {\r\n\t\tname: 'select2',\r\n\t\textends: 'select',\r\n\t\twrapper: ['horizontalBootstrapLabel', 'bootstrapHasError']\r\n\t};\n\n/***/ },\n/* 20 */\n/***/ function(module, exports) {\n\n\tmodule.exports = {\r\n\t  name: 'static2',\r\n\t  template: '<p class=\"form-control-static\">{{to.text}}</p>',\r\n\t  wrapper: ['horizontalBootstrapLabel', 'bootstrapHasError'],\r\n\t  defaultOptions: {\r\n\t    noFormControl: true\r\n\t  }\r\n\t};\n\n/***/ },\n/* 21 */\n/***/ function(module, exports, __webpack_require__) {\n\n\t// http://angular-formly.com/#/example/advanced/repeating-section\r\n\t\r\n\tvar unique = 1;\r\n\tmodule.exports = {\r\n\t  name: 'repeatSection',\r\n\t  template: __webpack_require__(22),\r\n\t  controller: function($scope) {\r\n\t    $scope.formOptions = {formState: $scope.formState};\r\n\t    $scope.addNew = addNew;\r\n\t    \r\n\t    $scope.copyFields = copyFields;\r\n\t    \r\n\t    \r\n\t    function copyFields(fields) {\r\n\t      fields = angular.copy(fields);\r\n\t      addRandomIds(fields);\r\n\t      return fields;\r\n\t    }\r\n\t    \r\n\t    function addNew() {\r\n\t      $scope.model[$scope.options.key] = $scope.model[$scope.options.key] || [];\r\n\t      var repeatsection = $scope.model[$scope.options.key];\r\n\t      var lastSection = repeatsection[repeatsection.length - 1];\r\n\t      var newsection = {};\r\n\t      if (lastSection) {\r\n\t        newsection = angular.copy(lastSection);\r\n\t      }\r\n\t      repeatsection.push(newsection);\r\n\t    }\r\n\t    \r\n\t    function addRandomIds(fields) {\r\n\t      unique++;\r\n\t      angular.forEach(fields, function(field, index) {\r\n\t        if (field.fieldGroup) {\r\n\t          addRandomIds(field.fieldGroup);\r\n\t          return; // fieldGroups don't need an ID\r\n\t        }\r\n\t        \r\n\t        if (field.templateOptions && field.templateOptions.fields) {\r\n\t          addRandomIds(field.templateOptions.fields);\r\n\t        }\r\n\t        \r\n\t        field.id = field.id || (field.key + '_' + index + '_' + unique + getRandomInt(0, 9999));\r\n\t      });\r\n\t    }\r\n\t    \r\n\t    function getRandomInt(min, max) {\r\n\t      return Math.floor(Math.random() * (max - min)) + min;\r\n\t    }\r\n\t  }\r\n\t};\n\n/***/ },\n/* 22 */\n/***/ function(module, exports) {\n\n\tmodule.exports = \"<div>\\r\\n  <!--loop through each element in model array-->\\r\\n  <div class=\\\"{{hideRepeat}}\\\">\\r\\n    <div class=\\\"repeatsection\\\" ng-repeat=\\\"element in model[options.key]\\\" ng-init=\\\"fields = copyFields(to.fields)\\\">\\r\\n      <formly-form fields=\\\"fields\\\"\\r\\n                   model=\\\"element\\\"\\r\\n                   form=\\\"form\\\">\\r\\n      </formly-form>\\r\\n      <div style=\\\"margin-bottom:20px;\\\">\\r\\n        <button type=\\\"button\\\" class=\\\"btn btn-sm btn-danger\\\" ng-click=\\\"model[options.key].splice($index, 1)\\\">\\r\\n          Remove\\r\\n        </button>\\r\\n      </div>\\r\\n      <hr>\\r\\n  </div>\\r\\n  <p class=\\\"AddNewButton\\\">\\r\\n    <button type=\\\"button\\\" class=\\\"btn btn-primary\\\" ng-click=\\\"addNew()\\\" >{{to.btnText}}</button>\\r\\n  </p>\\r\\n</div>\"\n\n/***/ },\n/* 23 */\n/***/ function(module, exports, __webpack_require__) {\n\n\tmodule.exports = {\r\n\t  name: 'uiSelect',\r\n\t  wrapper: ['bootstrapLabel', 'bootstrapHasError'],\r\n\t  template: __webpack_require__(24),\r\n\t};\n\n/***/ },\n/* 24 */\n/***/ function(module, exports) {\n\n\tmodule.exports = \"<ui-select ng-model=\\\"model[options.key]\\\" required=\\\"{{to.required}}\\\" disabled=\\\"{{to.disabled}}\\\" search-enabled=\\\"false\\\" theme=\\\"bootstrap\\\">\\r\\n  <ui-select-match placeholder=\\\"{{to.placeholder}}\\\" allow-clear=\\\"true\\\">{{$select.selected[to.labelProp || 'name']}}</ui-select-match>\\r\\n  <ui-select-choices group-by=\\\"to.groupBy\\\" repeat=\\\"option[to.valueProp || 'value'] as option in to.options\\\">\\r\\n    <div ng-bind-html=\\\"option[to.labelProp] | highlight: $select.search\\\"></div>\\r\\n  </ui-select-choices>\\r\\n</ui-select>\"\n\n/***/ },\n/* 25 */\n/***/ function(module, exports, __webpack_require__) {\n\n\tmodule.exports = {\r\n\t  name: 'uiSelect2',\r\n\t  wrapper: ['horizontalBootstrapLabel', 'bootstrapHasError'],\r\n\t  template: __webpack_require__(24)\r\n\t};\n\n/***/ },\n/* 26 */\n/***/ function(module, exports, __webpack_require__) {\n\n\tmodule.exports = {\r\n\t  name: 'uiSelectAsync',\r\n\t  wrapper: ['bootstrapLabel', 'bootstrapHasError'],\r\n\t  template: __webpack_require__(27)\r\n\t};\n\n/***/ },\n/* 27 */\n/***/ function(module, exports) {\n\n\tmodule.exports = \"<ui-select ng-model=\\\"model[options.key]\\\" required=\\\"{{to.required}}\\\" disabled=\\\"{{to.disabled}}\\\" theme=\\\"bootstrap\\\" spinner-enabled=\\\"true\\\">\\r\\n  <ui-select-match placeholder=\\\"{{to.placeholder}}\\\">{{$select.selected[to.labelProp || 'name']}}</ui-select-match>\\r\\n  <ui-select-choices repeat=\\\"option[to.valueProp || 'value'] as option in to.options\\\" refresh=\\\"to.refresh($select.search, options)\\\" refresh-delay=\\\"{{to.refreshDelay}}\\\">\\r\\n    <div ng-bind-html=\\\"option[to.labelProp] | highlight: $select.search\\\"></div>\\r\\n  </ui-select-choices>\\r\\n  <ui-select-no-choices>无匹配结果</ui-select-no-choices>\\r\\n</ui-select>\"\n\n/***/ },\n/* 28 */\n/***/ function(module, exports, __webpack_require__) {\n\n\tmodule.exports = {\r\n\t  name: 'uiSelectAsync2',\r\n\t  wrapper: ['horizontalBootstrapLabel', 'bootstrapHasError'],\r\n\t  template: __webpack_require__(27)\r\n\t};\n\n/***/ },\n/* 29 */\n/***/ function(module, exports, __webpack_require__) {\n\n\tvar baseModalComponent = __webpack_require__(30);\r\n\tvar datetimeModalComponent = __webpack_require__(32);\r\n\tvar baseModalService = __webpack_require__(36);\r\n\tvar datetimeModalService = __webpack_require__(37);\r\n\tvar dateService = __webpack_require__(38);\r\n\tvar date2Filter = __webpack_require__(39);\r\n\tvar inputFileDirective = __webpack_require__(40);\r\n\tvar xxClickDirective = __webpack_require__(43);\r\n\tvar xxBindHtmlDirective = __webpack_require__(44);\r\n\tvar xxTableDirective = __webpack_require__(45);\r\n\tvar datetimePickerDirective = __webpack_require__(49);\r\n\tvar datetimeRangeDirective = __webpack_require__(53);\r\n\tvar configs = __webpack_require__(55);\r\n\t\r\n\tmodule.exports = {\r\n\t  components: {\r\n\t    baseModal: baseModalComponent,\r\n\t    datetimeModal:　datetimeModalComponent\r\n\t  },\r\n\t  directives: {\r\n\t    inputFile: inputFileDirective,\r\n\t    datetimePicker: datetimePickerDirective,\r\n\t    datetimeRange: datetimeRangeDirective,\r\n\t    // 绑定的方法返回promise时\r\n\t    //设置disabled，禁止触发\r\n\t    xxClick: xxClickDirective,\r\n\t    // ng-bind-html的进化版\r\n\t    // 支持绑定包含{{}}，指令的html\r\n\t    xxBindHtml: xxBindHtmlDirective,\r\n\t    xxTable: xxTableDirective\r\n\t  },\r\n\t  factories: {\r\n\t    $modalService: baseModalService,\r\n\t    $datetimeModalService: datetimeModalService,  \r\n\t    dateService: dateService  \r\n\t  },\r\n\t  filters: {\r\n\t    date2: date2Filter\r\n\t  },\r\n\t  runBlocks: [\r\n\t    configs.cacheTemplateRunBlock,\r\n\t    configs.runFormlyConfig\r\n\t  ]\r\n\t};\n\n/***/ },\n/* 30 */\n/***/ function(module, exports, __webpack_require__) {\n\n\tcontroller.$inject = ['$timeout'];\r\n\tfunction controller($timeout){\r\n\t  var $ctrl = this;\r\n\t\tvar config = $ctrl.resolve.config;\r\n\t\tconsole.log(config);\r\n\t\t$ctrl.title       = config.title || '';\r\n\t\t$ctrl.content     = config.content || '';\r\n\t\t$ctrl.okLabel     = config.okLabel || '确定';\r\n\t\t$ctrl.cancelLabel = config.cancelLabel || '取消';\r\n\t\t$ctrl.hideOk      = config.hideOk || false;\r\n\t\t$ctrl.hideCancel  = config.hideCancel || false;\r\n\t\t$ctrl.handleOk    = config.handleOk || null;\r\n\t\t$ctrl.isToast     = config.isToast || null;\r\n\t\t$ctrl.timeout     = config.timeout || 3000;\r\n\t\t$ctrl.ok          = ok;\r\n\t\t$ctrl.cancel      = cancel;\r\n\t\t$ctrl.lock        = false;\r\n\t\r\n\t\tif($ctrl.isToast) {\r\n\t\t\t$timeout(cancel, vm.timeout);\r\n\t\t}\r\n\t\r\n\t\tfunction ok(){\r\n\t\t\tif($ctrl.handleOk) {\r\n\t\t\t\tif($ctrl.lock) { return; }\r\n\t\t\t\t$ctrl.lock = true;\r\n\t\t\t\t$ctrl.handleOk().then(function(){\r\n\t\t\t\t\t$ctrl.close();\r\n\t\t\t\t}).finally(function(){\r\n\t\t\t\t\t$ctrl.lock = false;\r\n\t\t\t\t});\r\n\t\t\t} else {\r\n\t\t\t\t$ctrl.close();\r\n\t\t\t}\r\n\t\t}\r\n\t\r\n\t\tfunction cancel(){\r\n\t\t\t$ctrl.dismiss();\r\n\t\t}\r\n\t}\r\n\t\r\n\tmodule.exports = {\r\n\t  template: __webpack_require__(31),\r\n\t  controller: controller,\r\n\t  bindings: {\r\n\t  \tresolve: '<',\r\n\t    close: '&',\r\n\t    dismiss: '&'\r\n\t  }\r\n\t};\r\n\n\n/***/ },\n/* 31 */\n/***/ function(module, exports) {\n\n\tmodule.exports = \"<div class=\\\"modal-header bg-primary\\\" ng-show=\\\"$ctrl.title\\\" >\\r\\n\\t<button type=\\\"button\\\" class=\\\"close\\\" ng-click=\\\"$ctrl.cancel();\\\"><span>&times;</span></button>\\r\\n    <h4 class=\\\"modal-title\\\" ng-bind-html=\\\"$ctrl.title\\\"></h4>\\r\\n</div>\\r\\n<div class=\\\"modal-body\\\" ng-class=\\\"{'modal-toast': $ctrl.isToast}\\\">\\r\\n    <div ng-bind-html=\\\"$ctrl.content\\\"></div>\\r\\n</div>\\r\\n<div class=\\\"modal-footer\\\" ng-hide=\\\"$ctrl.isToast\\\">\\r\\n    <button class=\\\"btn btn-success\\\" type=\\\"button\\\" ng-disabled=\\\"$ctrl.lock\\\" ng-hide=\\\"$ctrl.hideOk\\\" ng-click=\\\"$ctrl.ok();\\\">{{ $ctrl.okLabel }}</button>\\r\\n    <button class=\\\"btn btn-default\\\" type=\\\"button\\\" ng-hide=\\\"$ctrl.hideCancel\\\" ng-click=\\\"$ctrl.cancel();\\\">{{ $ctrl.cancelLabel }}</button>\\r\\n</div>\"\n\n/***/ },\n/* 32 */\n/***/ function(module, exports, __webpack_require__) {\n\n\t__webpack_require__(33);\r\n\t\r\n\t/*\r\n\tconfig\r\n\t - date    当前时间\r\n\t - minDate 最小时间\r\n\t - maxDate 最大时间\r\n\t - mode    模式：datetime|year|month|day|time\r\n\t */\r\n\t\r\n\t\r\n\tcontroller.$inject = ['$scope'];\r\n\tfunction controller($scope){\r\n\t  var $ctrl = this;\r\n\t  $ctrl.ok = ok;\r\n\t  $ctrl.cancel = cancel;\r\n\t\r\n\t  var config = $ctrl.resolve.config;\r\n\t  var date = config.date ? angular.copy(config.date) : new Date();\r\n\t  var minDate = config.minDate ? angular.copy(config.minDate) : null;\r\n\t  var maxDate = config.maxDate ? angular.copy(config.maxDate) : null;\r\n\t  var mode = config.mode ? config.mode.toLowerCase() : 'datetime';\r\n\t  var datePickerMode = mode === 'time' || mode === 'datetime'\r\n\t    ? 'day' : mode;\r\n\t  \r\n\t  // console.log(config);\r\n\t\r\n\t  // 是否选择datepicker和timepicker\r\n\t  $ctrl.showDate = mode !== 'time';\r\n\t  $ctrl.showTime = mode === 'datetime' || mode === 'time';\r\n\t  $ctrl.date = date;\r\n\t  // datePicker设置\r\n\t  $ctrl.options = {\r\n\t    showWeeks: false,\r\n\t    minDate: minDate,\r\n\t    maxDate: maxDate,\r\n\t    minMode: datePickerMode\r\n\t  };\r\n\t  // console.log($ctrl.showDate, $ctrl.showTime)\r\n\t  // console.log($ctrl.options)\r\n\t  // timePicker选择框设置\r\n\t  // $ctrl.minTime = null;\r\n\t  // $ctrl.maxTime = null;\r\n\t\r\n\t  $scope.$watch('$ctrl.date', function(newVal){\r\n\t    if(minDate) {\r\n\t      if(minDate.getTime() >= $ctrl.date.getTime()) {\r\n\t        $ctrl.date.setTime(minDate.getTime() + 1000);\r\n\t      }\r\n\t      // if(isSameDay(minDate, $ctrl.date)) {\r\n\t      //   console.log('is same min date')\r\n\t      //   $ctrl.minTime = minDate;\r\n\t      // } else {\r\n\t      //   $ctrl.minTime = null;\r\n\t      // }\r\n\t    }\r\n\t    if(maxDate) {\r\n\t      if(maxDate.getTime() <= $ctrl.date.getTime()) {\r\n\t        $ctrl.date.setTime(maxDate.getTime() - 1000);\r\n\t      }\r\n\t      // if(isSameDay(maxDate, $ctrl.date)) {\r\n\t      //   console.log('is same max date')\r\n\t      //   $ctrl.maxTime = maxDate;\r\n\t      // } else {\r\n\t      //   $ctrl.maxTime = null;\r\n\t      // }\r\n\t    }\r\n\t  });\r\n\t\r\n\t  function isSameDay(d1, d2) {\r\n\t    if(!(d1 && d2)) {\r\n\t      return false;\r\n\t    }\r\n\t    return d1.toDateString() === d2.toDateString();\r\n\t  }\r\n\t\r\n\t  function setDate(){\r\n\t    $ctrl.date.setHours(\r\n\t      $ctrl.hour, $ctrl.minute, $ctrl.second);\r\n\t  }\r\n\t\t\r\n\t\tfunction ok(){\r\n\t\t\t$ctrl.close({$value: $ctrl.date});\r\n\t\t}\r\n\t\r\n\t\tfunction cancel(){\r\n\t\t\t$ctrl.dismiss();\r\n\t\t}\r\n\t}\r\n\t\r\n\tmodule.exports = {\r\n\t  template: __webpack_require__(35),\r\n\t  controller: controller,\r\n\t  bindings: {\r\n\t  \tresolve: '<',\r\n\t    close: '&',\r\n\t    dismiss: '&'\r\n\t  }\r\n\t};\r\n\n\n/***/ },\n/* 33 */\n/***/ function(module, exports) {\n\n\t// removed by extract-text-webpack-plugin\n\n/***/ },\n/* 34 */,\n/* 35 */\n/***/ function(module, exports) {\n\n\tmodule.exports = \"<div class=\\\"modal-header bg-default\\\">\\r\\n\\t<button type=\\\"button\\\" class=\\\"close\\\" ng-click=\\\"$ctrl.dismiss();\\\"><span>&times;</span></button>\\r\\n    <h4 class=\\\"modal-title\\\">选择时间</h4>\\r\\n</div>\\r\\n<div class=\\\"modal-body\\\">\\r\\n  <div uib-datepicker \\r\\n    ng-model=\\\"$ctrl.date\\\" \\r\\n    ng-show=\\\"$ctrl.showDate\\\"\\r\\n    datepicker-options=\\\"$ctrl.options\\\"></div>\\r\\n  <div uib-timepicker \\r\\n    ng-model=\\\"$ctrl.date\\\"\\r\\n    ng-show=\\\"$ctrl.showTime\\\"\\r\\n    readonly-input=\\\"true\\\"\\r\\n    show-meridian=\\\"false\\\"\\r\\n    template-url=\\\"global/datetime-modal.timepicker.html\\\"\\r\\n    show-seconds=\\\"true\\\"></div>\\r\\n<!--   <div>当前时间{{ $ctrl.date | date:'yyyy-MM-dd HH:mm:ss' }}</div>\\r\\n  <div>最小日期{{ $ctrl.options.minDate | date:'yyyy-MM-dd HH:mm:ss' }}</div>\\r\\n  <div>最大日期{{ $ctrl.options.maxDate | date:'yyyy-MM-dd HH:mm:ss' }}</div>\\r\\n  <div>最小时间{{ $ctrl.minTime | date:'yyyy-MM-dd HH:mm:ss' }}</div>\\r\\n  <div>最大时间{{ $ctrl.maxTime | date:'yyyy-MM-dd HH:mm:ss' }}</div> -->\\r\\n</div>\\r\\n<div class=\\\"modal-footer\\\">\\r\\n  <button class=\\\"btn btn-success\\\" type=\\\"button\\\" ng-click=\\\"$ctrl.ok();\\\">确定</button>\\r\\n  <button class=\\\"btn btn-default\\\" type=\\\"button\\\" ng-click=\\\"$ctrl.dismiss();\\\">取消</button>\\r\\n</div>\"\n\n/***/ },\n/* 36 */\n/***/ function(module, exports) {\n\n\tmodule.exports = ['$uibModal', function($uibModal){\r\n\t  return {\r\n\t    confirm: confirm,\r\n\t    alert: alert,\r\n\t    toast: toast\r\n\t  };\r\n\t\r\n\t  function confirm(config) {\r\n\t    var modalInstance = $uibModal.open({\r\n\t      size: 'sm',\r\n\t      component: 'baseModal',\r\n\t      resolve: {\r\n\t        config: function(){\r\n\t          return config;\r\n\t        }\r\n\t      }\r\n\t    });\r\n\t    return modalInstance.result;\r\n\t  }\r\n\t\r\n\t  function alert(config) {\r\n\t    config = config || {};\r\n\t    config.hideCancel = true;\r\n\t    return confirm(config);\r\n\t  }\r\n\t\r\n\t  function toast(config) {\r\n\t    config = config || {};\r\n\t    config.isToast = true;\r\n\t    return confirm(config);\r\n\t  }\r\n\t}];\r\n\n\n/***/ },\n/* 37 */\n/***/ function(module, exports) {\n\n\tmodule.exports = ['$uibModal', function($uibModal){\r\n\t  return {\r\n\t    show: show\r\n\t  };\r\n\t  /*\r\n\t    config.date 给定一个日期\r\n\t    config.minDate 给定一个最小日期\r\n\t    config.maxDate 给定一个最大日期\r\n\t   */\r\n\t  function show(config) {\r\n\t    var modalInstance = $uibModal.open({\r\n\t      size: 'sm',\r\n\t      component: 'datetimeModal',\r\n\t      windowClass: 'datetime-modal',\r\n\t      resolve: {\r\n\t        config: config || {}\r\n\t      }\r\n\t    });\r\n\t    return modalInstance.result;\r\n\t  }\r\n\t}];\r\n\n\n/***/ },\n/* 38 */\n/***/ function(module, exports) {\n\n\tmodule.exports = ['$filter', function($filter){\r\n\t  var DATE_REG = /^(\\d{4})-(\\d\\d)-(\\d\\d)(T|\\s)(\\d\\d):(\\d\\d):(\\d\\d)/;\r\n\t  var OFFSET = computeOffset();\r\n\t\r\n\t  // var str = '2016-10-20T19:17:05';\r\n\t  // var d = fromString2(str);\r\n\t  // var str2 = toString2(d);\r\n\t  // console.log(str);\r\n\t  // console.log(d && d.toLocaleString());\r\n\t  // console.log(str2);\r\n\t\r\n\t  return {\r\n\t    isDateString: isDateString,\r\n\t    fromString: fromString2,\r\n\t    toString: toString2\r\n\t  };\r\n\t\r\n\t  function computeOffset(){\r\n\t    var d = new Date();\r\n\t    return d.getTimezoneOffset() * 60 * 1000;\r\n\t  }\r\n\t  function isDateString(str){\r\n\t    return DATE_REG.test(str);\r\n\t  }\r\n\t  function fromString(str){\r\n\t    if(isDateString(str)) {\r\n\t      var date = new Date(str);\r\n\t      return new Date(date.getTime() + OFFSET);\r\n\t    }\r\n\t  }\r\n\t  function toString(date){\r\n\t    if(date instanceof Date) {\r\n\t      var _date = new Date(date.getTime() - OFFSET);\r\n\t      return _date.toISOString().substr(0, 19);\r\n\t    }\r\n\t  }\r\n\t  function fromString2(str){\r\n\t    if(isDateString(str)) {\r\n\t      // 替换掉日期字符串中的T、\r\n\t      // 让Date构造器以本地时区解析\r\n\t      str = str.replace('T', ' ');\r\n\t      return new Date(str);\r\n\t    }\r\n\t  }\r\n\t  function toString2(date){\r\n\t    // 使用date过滤器，返回格式化的日期字符串\r\n\t    return $filter('date')(date, 'yyyy-MM-dd HH:mm:ss');\r\n\t  }\r\n\t}];\r\n\n\n/***/ },\n/* 39 */\n/***/ function(module, exports) {\n\n\tmodule.exports = ['$filter', 'dateService', function($filter, dateService){\r\n\t\r\n\t  return function(date){\r\n\t    return $filter('date')(date, 'yyyy-MM-dd HH:mm:ss');\r\n\t  }\r\n\t}];\r\n\n\n/***/ },\n/* 40 */\n/***/ function(module, exports, __webpack_require__) {\n\n\t__webpack_require__(41);\r\n\t\r\n\tfunction resetInput(input){\r\n\t  var form = document.createElement('form');\r\n\t  var div = document.createElement('div');\r\n\t  var parent = input.parentNode;\r\n\t\r\n\t  parent.replaceChild(div, input);\r\n\t  form.appendChild(input);\r\n\t  form.reset();\r\n\t  parent.replaceChild(input, div);\r\n\t}\r\n\t\r\n\tdirective.$inject = [];\r\n\tfunction directive(){\r\n\t  console.log('wa');\r\n\t\treturn {\r\n\t\t\tretrict: 'AE',\r\n\t\t\tscope: {\r\n\t      disabled: '=',\r\n\t      accept: '@',\r\n\t\t\t\tonChange: '&'\r\n\t\t\t},\r\n\t\t\ttransclude: true,\r\n\t\t\ttemplate: [\r\n\t\t\t\t'<span ng-transclude></span>',\r\n\t\t\t\t'<input type=\"file\">'\r\n\t\t\t].join(''),\r\n\t\t\tlink: function($scope, $ele, $attr){\r\n\t\t\t\tvar $input = $ele.find('input');\r\n\t      // console.log('ere');\r\n\t\t\t\t$input.bind('change', onChange);\r\n\t      $input.attr('accept', $scope.accept || '*');\r\n\t\r\n\t\t\t\tfunction onChange(e) {\r\n\t\t\t\t\tvar files = e.target.files;\r\n\t\r\n\t\t      if(files.length > 0) {\r\n\t          $scope.onChange({file: files[0]});\r\n\t\t        resetInput(e.target);\r\n\t\t      }\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t};\r\n\t}\r\n\t\r\n\tmodule.exports = directive;\n\n/***/ },\n/* 41 */\n/***/ function(module, exports) {\n\n\t// removed by extract-text-webpack-plugin\n\n/***/ },\n/* 42 */,\n/* 43 */\n/***/ function(module, exports) {\n\n\tdirective.$inject = ['$timeout', '$q'];\r\n\tfunction directive($timeout, $q){\r\n\t\r\n\t\treturn {\r\n\t\t\tretrict: 'A',\r\n\t\t\tlink: function($scope, $ele, $attr){\r\n\t\t\t\tvar disabled = false;\r\n\t      \r\n\t      $ele.on('click', clickHandler);\r\n\t\r\n\t      function clickHandler(){\r\n\t        if(disabled) {\r\n\t          return;\r\n\t        }\r\n\t        var rtn = $scope.$apply($attr.xxClick);\r\n\t        var isPromise = !!(rtn && rtn.then);\r\n\t        if(isPromise) {\r\n\t          $ele.attr('disabled', true);\r\n\t          disabled = true;\r\n\t          $q.when(rtn).finally(function(){\r\n\t            disabled = false; \r\n\t            $ele.attr('disabled', false);\r\n\t          });  \r\n\t        }\r\n\t      }\r\n\t\t\t}\r\n\t\t};\r\n\t}\r\n\t\r\n\tmodule.exports = directive;\n\n/***/ },\n/* 44 */\n/***/ function(module, exports) {\n\n\tdirective.$inject = ['$compile'];\r\n\tfunction directive($compile){\r\n\t\treturn {\r\n\t\t\tretrict: 'A',\r\n\t\t\tlink: function($scope, $ele, $attr){\r\n\t\t\t\t$scope.$watch(function(){\r\n\t        return $scope.$eval($attr.xxBindHtml);\r\n\t      }, function(value){\r\n\t        $ele.html(value);\r\n\t        $compile($ele.contents())($scope);\r\n\t      });\r\n\t\t\t}\r\n\t\t};\r\n\t}\r\n\t\r\n\tmodule.exports = directive;\n\n/***/ },\n/* 45 */\n/***/ function(module, exports, __webpack_require__) {\n\n\t__webpack_require__(46);\r\n\t\r\n\t// data: []   // 数据\r\n\t// firstUpdate // 是否初次自动调用update\r\n\t// columns // 列的配置\r\n\t//   head // th的模板\r\n\t//   data // td的模板\r\n\t// methods // 为独立作用域注入一些方法\r\n\t// getData  // 由本指令来请求数据\r\n\t\r\n\tdirective.$inject = ['$timeout', '$q'];\r\n\tfunction directive($timeout, $q){\r\n\t\r\n\t\treturn {\r\n\t\t\tretrict: 'AE',\r\n\t\t\tscope: {\r\n\t      config: '=',   // 配置\r\n\t      onInit: '&'\r\n\t\t\t},\r\n\t\t\ttemplate: __webpack_require__(48),\r\n\t\t\tlink: function($scope, $ele, $attr){\r\n\t\t\t\t// 0 初始\r\n\t      // 1 已请求\r\n\t      // 2 请求失败\r\n\t      // 3 请求成功  \r\n\t      \r\n\t      $scope.status = 0;\r\n\t      $scope.error = '';\r\n\t      $scope.data = [];\r\n\t      $scope.update;\r\n\t      $scope.columns = [];\r\n\t      $scope.methods = {};\r\n\t      var reqCount = 0;\r\n\t\r\n\t      init();\r\n\t\r\n\t      function init(){\r\n\t        var config = $scope.config || {};\r\n\t        // console.log(config);\r\n\t        $scope.data = config.data || [];\r\n\t        $scope.columns = config.columns || [];\r\n\t        $scope.methods = config.methods || {};\r\n\t        $scope.update = update;\r\n\t        $scope.onInit({ update: update });\r\n\t        if('data' in config) {\r\n\t          $scope.status = 3;\r\n\t        }\r\n\t        if(config.firstUpdate) {\r\n\t          update();\r\n\t        }\r\n\t      }\r\n\t\r\n\t\r\n\t      function update(){\r\n\t        console.log('update called')\r\n\t        var cb = $scope.config.getData;\r\n\t        if(!cb) {\r\n\t          return;\r\n\t        }\r\n\t        var res = cb && cb();\r\n\t        var curReqCount = ++reqCount;\r\n\t\r\n\t        if(angular.isArray(res)) {\r\n\t          $scope.status = 3;\r\n\t          $scope.data = res;\r\n\t        } else {\r\n\t          $scope.status = 1;\r\n\t          $q.all([res, timeout()]).then(function(data){\r\n\t            console.log('res then succ', curReqCount, reqCount)\r\n\t            // 请求去重\r\n\t            if(curReqCount !== reqCount) {\r\n\t              return;\r\n\t            }\r\n\t            $scope.status = 3;\r\n\t            $scope.data = data[0];\r\n\t          }, function(error){\r\n\t            console.log(error, curReqCount, reqCount);\r\n\t            if(curReqCount !== reqCount) {\r\n\t              return;\r\n\t            }\r\n\t            // 是否已经离线\r\n\t            if(error && error.status === -1) {\r\n\t              $scope.error = '您已离线';\r\n\t            } else {\r\n\t              $scope.error = '错误' + error;\r\n\t            }\r\n\t            $scope.status = 2;\r\n\t          });    \r\n\t        }\r\n\t      }\r\n\t\r\n\t      function timeout(){\r\n\t        return $timeout(function(){\r\n\t          console.log('at least 300ms');\r\n\t        }, 300);\r\n\t      }\r\n\t\t\t}\r\n\t\t};\r\n\t}\r\n\t\r\n\tmodule.exports = directive;\n\n/***/ },\n/* 46 */\n/***/ function(module, exports) {\n\n\t// removed by extract-text-webpack-plugin\n\n/***/ },\n/* 47 */,\n/* 48 */\n/***/ function(module, exports) {\n\n\tmodule.exports = \"<div class=\\\"xx-table\\\">\\r\\n  <table class=\\\"table table-bordered table-hover\\\">\\r\\n    <thead class=\\\"bg-default\\\">\\r\\n      <tr>\\r\\n        <td \\r\\n          ng-repeat=\\\"column in columns\\\"\\r\\n          xx-bind-html=\\\"column.head\\\"\\r\\n          ng-hide=\\\"column.hide\\\"\\r\\n        ></td>\\r\\n      </tr>\\r\\n    </thead>\\r\\n    <tbody>\\r\\n      <tr class=\\\"xx-table-tip\\\" ng-show=\\\"status!==3||data.length==0\\\">\\r\\n        <td ng-show=\\\"status==1\\\" colspan=\\\"{{columns.length}}\\\" class=\\\"text-center\\\">请求中…</td>\\r\\n        <td ng-show=\\\"status==2\\\"  colspan=\\\"{{columns.length}}\\\" class=\\\"text-center\\\">\\r\\n          请求失败，{{ error }}\\r\\n          <button class=\\\"btn btn-link btn-sm\\\" ng-click=\\\"update()\\\">\\r\\n            <span class=\\\"glyphicon glyphicon-repeat\\\"></span>\\r\\n            重新请求\\r\\n          </button>\\r\\n        </td>\\r\\n        <td ng-show=\\\"status==3&&data.length==0\\\" colspan=\\\"{{columns.length}}\\\" class=\\\"text-center\\\">空</td>\\r\\n      </tr>\\r\\n      <tr ng-repeat=\\\"row in data track by $index\\\">\\r\\n        <td \\r\\n          ng-repeat=\\\"column in columns\\\"\\r\\n          xx-bind-html=\\\"column.data\\\"\\r\\n          ng-hide=\\\"column.hide\\\"\\r\\n        ></td>\\r\\n      </tr>\\r\\n    </tbody>\\r\\n  </table> \\r\\n</div>\\r\\n\"\n\n/***/ },\n/* 49 */\n/***/ function(module, exports, __webpack_require__) {\n\n\t__webpack_require__(50);\r\n\t\r\n\tdirective.$inject = ['$datetimeModalService'];\r\n\tfunction directive($datetimeModalService){\r\n\t\treturn {\r\n\t\t\tretrict: 'AE',\r\n\t    scope: {\r\n\t      minDate: '=',\r\n\t      maxDate: '=',\r\n\t      mode:    '@'\r\n\t    },\r\n\t    require: 'ngModel',\r\n\t\t\ttemplate: __webpack_require__(52),\r\n\t\t\tlink: function($scope, $ele, $attr, ngModel){\r\n\t\r\n\t      var mode = $scope.mode;\r\n\t      var format;\r\n\t\r\n\t      switch(mode) {\r\n\t        case 'year':  format = 'yyyy年'; break;\r\n\t        case 'month': format = 'yyyy-MM'; break;\r\n\t        case 'day':   format = 'yyyy-MM-dd'; break;\r\n\t        case 'time':  format = 'HH:mm:ss'; break;\r\n\t        default:      format = 'yyyy-MM-dd HH:mm:ss'; break;\r\n\t      }\r\n\t      $scope.format = format;\r\n\t      // console.log(format);\r\n\t\r\n\t      // $scope.date = ngModel.$viewValue;\r\n\t\r\n\t      $scope.selectTime = function(){\r\n\t\r\n\t        $datetimeModalService.show({\r\n\t          date:    toDate($scope.date),\r\n\t          minDate: toDate($scope.minDate),\r\n\t          maxDate: toDate($scope.maxDate),\r\n\t          mode:   $scope.mode\r\n\t        }).then(function(newDate){\r\n\t          ngModel.$setViewValue(newDate);\r\n\t          ngModel.$render();\r\n\t          // $scope.date = newDate;\r\n\t        });\r\n\t      };\r\n\t\r\n\t      // viewValue -> 视图\r\n\t      ngModel.$render = function() {\r\n\t        $scope.date  = ngModel.$viewValue;\r\n\t      };\r\n\t\r\n\t      // 属性required与required的监听\r\n\t      var required = false;\r\n\t      $attr.$observe('required', function(value){\r\n\t        if(value === true || value === 'true') {\r\n\t          required = true;\r\n\t        } else {\r\n\t          required = false;\r\n\t        }\r\n\t        ngModel.$validate();\r\n\t      });\r\n\t      // required validator\r\n\t      ngModel.$validators.required = function(value) {\r\n\t        return !required || !!(value);\r\n\t      };\r\n\t\r\n\t      function toDate(date) {\r\n\t        if(date && !(date instanceof Date)) {\r\n\t          try{ \r\n\t            date = new Date(date); \r\n\t          } catch(e) {\r\n\t\r\n\t          }\r\n\t        }\r\n\t        return date;\r\n\t      }\r\n\t\t\t}\r\n\t\t};\r\n\t}\r\n\t\r\n\tmodule.exports = directive;\r\n\n\n/***/ },\n/* 50 */\n/***/ function(module, exports) {\n\n\t// removed by extract-text-webpack-plugin\n\n/***/ },\n/* 51 */,\n/* 52 */\n/***/ function(module, exports) {\n\n\tmodule.exports = \"<div class=\\\"input-group\\\">\\r\\n    <p class=\\\"form-control\\\">{{ date | date:format }}</p>\\r\\n    <span class=\\\"input-group-btn\\\">\\r\\n      <button class=\\\"btn btn-default\\\" type=\\\"button\\\" ng-click=\\\"selectTime()\\\">\\r\\n        <span class=\\\"glyphicon glyphicon-calendar\\\"></span>\\r\\n      </button>\\r\\n    </span>\\r\\n  </div>\\r\\n</div>\"\n\n/***/ },\n/* 53 */\n/***/ function(module, exports, __webpack_require__) {\n\n\t__webpack_require__(50);\r\n\t\r\n\tdirective.$inject = ['$datetimeModalService'];\r\n\tfunction directive($datetimeModalService){\r\n\t\treturn {\r\n\t\t\tretrict: 'AE',\r\n\t    require: 'ngModel',\r\n\t    scope: {\r\n\t      mode: '@'\r\n\t    },\r\n\t\t\ttemplate: __webpack_require__(54),\r\n\t\t\tlink: function($scope, $ele, $attr, ngModel){\r\n\t\r\n\t      // ngModel.$formatters.push(function(modelValue){\r\n\t        \r\n\t      // });\r\n\t      // ngModel.$parsers.push(function(viewValue){\r\n\t        \r\n\t      // });\r\n\t\r\n\t      $scope.$watch('minDate+maxDate', function(){\r\n\t        var min = $scope.minDate;\r\n\t        var max = $scope.maxDate;\r\n\t        if(min && min instanceof String) {\r\n\t          $scope.minDate = new Date(min);\r\n\t        }\r\n\t        if(max && max instanceof String) {\r\n\t          $scope.maxDate = new Date(max);\r\n\t        }\r\n\t        ngModel.$setViewValue({\r\n\t          min: $scope.minDate,\r\n\t          max: $scope.maxDate\r\n\t        });\r\n\t        // ngModel.$render();\r\n\t      });\r\n\t      // viewValue -> 视图\r\n\t      ngModel.$render = function() {\r\n\t        var value = ngModel.$isEmpty(ngModel.$viewValue) ?\r\n\t          {} : ngModel.$viewValue;\r\n\t        $scope.minDate = value.min;\r\n\t        $scope.maxDate = value.max;\r\n\t      };\r\n\t\r\n\t      // 属性required与required的监听\r\n\t      var required = false;\r\n\t      $attr.$observe('required', function(value){\r\n\t        if(value === true || value === 'true') {\r\n\t          required = true;\r\n\t        } else {\r\n\t          required = false;\r\n\t        }\r\n\t        ngModel.$validate();\r\n\t      });\r\n\t      // required validator\r\n\t      ngModel.$validators.required = function(value) {\r\n\t        return !required || !!(value && value.min && value.max);\r\n\t      };\r\n\t\t\t}\r\n\t\t};\r\n\t}\r\n\t\r\n\tmodule.exports = directive;\r\n\n\n/***/ },\n/* 54 */\n/***/ function(module, exports) {\n\n\tmodule.exports = \"<div class=\\\"datetime-range\\\">\\r\\n  <datetime-picker \\r\\n    class=\\\"datetime-range-start\\\"\\r\\n    ng-model=\\\"minDate\\\"\\r\\n    max-date=\\\"maxDate\\\"\\r\\n    mode=\\\"{{mode}}\\\"\\r\\n  ></datetime-picker>\\r\\n  <div class=\\\"datetime-range-divider\\\" style=\\\"line-height: 34px;\\\"> 至 </div>\\r\\n  <datetime-picker \\r\\n    class=\\\"datetime-range-end\\\"\\r\\n    ng-model=\\\"maxDate\\\"\\r\\n    min-date=\\\"minDate\\\"\\r\\n    mode=\\\"{{mode}}\\\"\\r\\n  ></datetime-picker>\\r\\n</div>\\r\\n\"\n\n/***/ },\n/* 55 */\n/***/ function(module, exports, __webpack_require__) {\n\n\t// ui-bootstrap支持自定义timepicker的template-url\r\n\t// 为此使用$templateCache服务实现模板的打包\r\n\t// 除此之外的component模块均使用require引入template。\r\n\t\r\n\texports.cacheTemplateRunBlock = ['$templateCache', function($templateCache){\r\n\t\r\n\t  $templateCache.put(\r\n\t    'global/datetime-modal.timepicker.html', \r\n\t    __webpack_require__(56)\r\n\t  ); \r\n\t}];\r\n\t\r\n\t\r\n\t// exports.runFormlyConfig = ['formlyConfig', function(formlyConfig){\r\n\t//   // bootstrap formly插件提供了\r\n\t//   // wrapper: bootstrapLabel, has-error\r\n\t//   // types: checkbox, multiCheckbox, input, radio, select, textarea\r\n\t//   // bootstrap的form默认样式是一行label一行input\r\n\t  \r\n\t//   // 新增基本type\r\n\t//   // plainTimeRange\r\n\t  \r\n\t//   // .form-horizontal样式\r\n\t//   // 新增wrapper: horizontalBootstrapLabel\r\n\t//   // 新增types: input2, select2,\r\n\t  \r\n\t//   // set templates here\r\n\t//   formlyConfig.setWrapper({\r\n\t//     name: 'horizontalBootstrapLabel',\r\n\t//     template: [\r\n\t//       '<label for=\"{{::id}}\" class=\"col-sm-4 control-label\">',\r\n\t//         // '{{to.label}} {{to.required ? \"*\" : \"\"}}',\r\n\t//         '{{to.label}}',\r\n\t//       '</label>',\r\n\t//       '<div class=\"col-sm-8\">',\r\n\t//         '<formly-transclude></formly-transclude>',\r\n\t//       '</div>'\r\n\t//     ].join(' ')\r\n\t//   });\r\n\t  \r\n\t//   formlyConfig.setWrapper({\r\n\t//     name: 'horizontalBootstrapCheckbox',\r\n\t//     template: [\r\n\t//       '<div class=\"col-sm-4\"></div>',\r\n\t//       '<div class=\"col-sm-8\">',\r\n\t//         '<formly-transclude></formly-transclude>',\r\n\t//       '</div>'\r\n\t//     ].join(' ')\r\n\t//   });\r\n\t  \r\n\t//   // 水平 静态文本\r\n\t//   // templateOptions.label 标签 \r\n\t//   // templateOptions.text 内容\r\n\t//   formlyConfig.setType({\r\n\t//     name: 'static2',\r\n\t//     template: '<p class=\"form-control-static\">{{::to.text}}</p>',\r\n\t//     wrapper: ['horizontalBootstrapLabel', 'bootstrapHasError'],\r\n\t//     defaultOptions: {\r\n\t//       noFormControl: true\r\n\t//     }\r\n\t//   });\r\n\t//   // 水平 input\r\n\t//   formlyConfig.setType({\r\n\t//     name: 'input2',\r\n\t//     extends: 'input',\r\n\t//     wrapper: ['horizontalBootstrapLabel', 'bootstrapHasError']\r\n\t//   });\r\n\t//   // 水平 checkbox\r\n\t//   formlyConfig.setType({\r\n\t//     name: 'checkbox2',\r\n\t//     extends: 'checkbox',\r\n\t//     wrapper: ['horizontalBootstrapCheckbox', 'bootstrapHasError']\r\n\t//   });\r\n\t//   // 水平 select\r\n\t//   formlyConfig.setType({\r\n\t//     name: 'select2',\r\n\t//     extends: 'select',\r\n\t//     wrapper: ['horizontalBootstrapLabel', 'bootstrapHasError']\r\n\t//   });\r\n\t\r\n\t//   // 时间范围（min-max）未完成\r\n\t//   // 不包含label\r\n\t//   formlyConfig.setType({\r\n\t//     name: 'plainTimeRange',\r\n\t//     template: [\r\n\t//       '<div class=\"formly-time-range\">' +\r\n\t//         '<div class=\"formly-time-start\">' +\r\n\t//           '<div class=\"input-group\">' +\r\n\t//             '<p class=\"form-control\">{{ model[options.key].min | date:\"yyyy-MM-dd HH:mm:ss\" }}</p>' +\r\n\t//             '<span class=\"input-group-btn\">' +\r\n\t//               '<button class=\"btn btn-default\" type=\"button\" ng-click=\"selectMinTime()\">' +\r\n\t//                 '<span class=\"glyphicon glyphicon-calendar\"></span>' +\r\n\t//               '</button>' +\r\n\t//             '</span>' +\r\n\t//           '</div>' +\r\n\t//         '</div>' +\r\n\t//         '<div class=\"formly-time-divider\" style=\"line-height: 34px;\"> 至 </div>' +\r\n\t//         '<div class=\"formly-time-end\">' +\r\n\t//           '<div class=\"input-group\">' +\r\n\t//             '<p class=\"form-control\">{{ model[options.key].max | date:\"yyyy-MM-dd HH:mm:ss\" }}</p>' +\r\n\t//             '<span class=\"input-group-btn\">' +\r\n\t//               '<button class=\"btn btn-default\" type=\"button\" ng-click=\"selectMaxTime()\">' +\r\n\t//                 '<span class=\"glyphicon glyphicon-calendar\"></span>' +\r\n\t//               '</button>' +\r\n\t//             '</span>' +\r\n\t//           '</div>' +\r\n\t//         '</div>' +\r\n\t//       '</div>'\r\n\t//     ].join(''),\r\n\t//     // defaultOptions: {\r\n\t//     //   noFormControl: false\r\n\t//     // },\r\n\t//     controller: ['$scope', '$datetimeModalService', function($scope, $datetimeModalService){\r\n\t//       var model = $scope.model;\r\n\t//       var key = $scope.options.key;\r\n\t//       // console.log($scope.options);\r\n\t//       // console.log($scope);\r\n\t\r\n\t//       $scope.selectMinTime = function(){\r\n\t//         var date = model[key] = model[key] || {};\r\n\t//         $datetimeModalService.show({\r\n\t//           date: date.min,\r\n\t//           maxDate: date.max\r\n\t//         }).then(function(newDate){\r\n\t//           date.min = newDate;\r\n\t//           checkValidity();\r\n\t//         });\r\n\t//       };\r\n\t\r\n\t//       $scope.selectMaxTime = function(){\r\n\t//         var date = model[key] = model[key] || {};\r\n\t//         $datetimeModalService.show({\r\n\t//           date: date.max,\r\n\t//           minDate: date.min\r\n\t//         }).then(function(newDate){\r\n\t//           date.max = newDate;\r\n\t//           checkValidity();\r\n\t//         });\r\n\t//       };  \r\n\t\r\n\t//       function checkValidity() {\r\n\t//         var valid = !!(model[key] && model[key].min && model[key].max);\r\n\t//         if($scope.to.required) {\r\n\t//           $scope.form.$setValidity('required', valid);\r\n\t//         }\r\n\t//       }\r\n\t\r\n\t//       checkValidity();\r\n\t//     }]\r\n\t//   });\r\n\t  \r\n\t//   formlyConfig.setType({\r\n\t//     name: 'timeRange',\r\n\t//     extends: 'plainTimeRange',\r\n\t//     wrapper: ['bootstrapLabel', 'bootstrapHasError']\r\n\t//   });\r\n\t\r\n\t//   formlyConfig.setType({\r\n\t//     name: 'timeRange2',\r\n\t//     extends: 'plainTimeRange',\r\n\t//     wrapper: ['horizontalBootstrapLabel', 'bootstrapHasError']\r\n\t//   });\r\n\t\r\n\t//   // 测试用\r\n\t//   formlyConfig.setType({\r\n\t//     name: 'alert',\r\n\t//     template: '<button class=\"btn btn-default\" ng-click=\"alert();\">{{to.text}}</button>',\r\n\t//     controller: ['$scope', function($scope){\r\n\t//       $scope.alert = function(){\r\n\t//         alert('alert from TEST');\r\n\t//       };\r\n\t//     }]\r\n\t//   });\r\n\t\r\n\t\r\n\t\r\n\t\r\n\t\r\n\t\r\n\t\r\n\t\r\n\t\r\n\t//   // // http://angular-formly.com/#/example/integrations/ui-select-angular-1-4\r\n\t//   // // NOTE: This next line is highly recommended. \r\n\t//   // // Otherwise Chrome's autocomplete will appear over your options!\r\n\t//   // formlyConfig.extras.removeChromeAutoComplete = true;\r\n\t  \r\n\t//   // // Configure custom types\r\n\t//   // formlyConfig.setType({\r\n\t//   //   name: 'ui-select-single',\r\n\t//   //   extends: 'select',\r\n\t//   //   template: require('./ui-select-single.html')\r\n\t//   // });\r\n\t//   // formlyConfig.setType({\r\n\t//   //   name: 'ui-select-single-select2',\r\n\t//   //   extends: 'select',\r\n\t//   //   template: require('./ui-select-single-select2.html')\r\n\t//   // });\r\n\t//   // formlyConfig.setType({\r\n\t//   //   name: 'ui-select-single-search',\r\n\t//   //   extends: 'select',\r\n\t//   //   template: require('./ui-select-single-async-search.html')\r\n\t//   // });\r\n\t\r\n\t//   // formlyConfig.setType({\r\n\t//   //   name: 'ui-select-multiple',\r\n\t//   //   extends: 'select',\r\n\t//   //   template: require('./ui-select-multiple.html')\r\n\t//   // });\r\n\t\r\n\t//   // // 实现表单中的重复区域\r\n\t//   // // http://angular-formly.com/#/example/advanced/repeating-section\r\n\t//   // var unique = 1;\r\n\t//   // formlyConfig.setType({\r\n\t//   //   name: 'repeatSection',\r\n\t//   //   templateUrl: 'repeatSection.html',\r\n\t//   //   controller: function($scope) {\r\n\t//   //     $scope.formOptions = {formState: $scope.formState};\r\n\t//   //     $scope.addNew = addNew;\r\n\t      \r\n\t//   //     $scope.copyFields = copyFields;\r\n\t      \r\n\t      \r\n\t//   //     function copyFields(fields) {\r\n\t//   //       fields = angular.copy(fields);\r\n\t//   //       addRandomIds(fields);\r\n\t//   //       return fields;\r\n\t//   //     }\r\n\t      \r\n\t//   //     function addNew() {\r\n\t//   //       $scope.model[$scope.options.key] = $scope.model[$scope.options.key] || [];\r\n\t//   //       var repeatsection = $scope.model[$scope.options.key];\r\n\t//   //       var lastSection = repeatsection[repeatsection.length - 1];\r\n\t//   //       var newsection = {};\r\n\t//   //       if (lastSection) {\r\n\t//   //         newsection = angular.copy(lastSection);\r\n\t//   //       }\r\n\t//   //       repeatsection.push(newsection);\r\n\t//   //     }\r\n\t      \r\n\t//   //     function addRandomIds(fields) {\r\n\t//   //       unique++;\r\n\t//   //       angular.forEach(fields, function(field, index) {\r\n\t//   //         if (field.fieldGroup) {\r\n\t//   //           addRandomIds(field.fieldGroup);\r\n\t//   //           return; // fieldGroups don't need an ID\r\n\t//   //         }\r\n\t          \r\n\t//   //         if (field.templateOptions && field.templateOptions.fields) {\r\n\t//   //           addRandomIds(field.templateOptions.fields);\r\n\t//   //         }\r\n\t          \r\n\t//   //         field.id = field.id || (field.key + '_' + index + '_' + unique + getRandomInt(0, 9999));\r\n\t//   //       });\r\n\t//   //     }\r\n\t      \r\n\t//   //     function getRandomInt(min, max) {\r\n\t//   //       return Math.floor(Math.random() * (max - min)) + min;\r\n\t//   //     }\r\n\t//   //   }\r\n\t//   // });\r\n\t  \r\n\t//   console.log('run config....');\r\n\t\r\n\t// }];\n\n/***/ },\n/* 56 */\n/***/ function(module, exports) {\n\n\tmodule.exports = \"<table class=\\\"uib-timepicker\\\">\\r\\n  <tbody>\\r\\n    <tr>\\r\\n      <td rowspan=\\\"2\\\" class=\\\"form-group uib-time hours\\\" ng-class=\\\"{'has-error': invalidHours}\\\">\\r\\n        <input type=\\\"text\\\" placeholder=\\\"HH\\\" ng-model=\\\"hours\\\" ng-change=\\\"updateHours()\\\" class=\\\"form-control text-center\\\" ng-readonly=\\\"::readonlyInput\\\" maxlength=\\\"2\\\" tabindex=\\\"{{::tabindex}}\\\" ng-disabled=\\\"noIncrementHours()\\\" ng-blur=\\\"blur()\\\">\\r\\n      </td>\\r\\n      <td class=\\\"uib-increment hours\\\"><a ng-click=\\\"incrementHours()\\\" ng-class=\\\"{disabled: noIncrementHours()}\\\" class=\\\"btn\\\" ng-disabled=\\\"noIncrementHours()\\\" tabindex=\\\"-1\\\"><span class=\\\"glyphicon glyphicon-chevron-up\\\"></span></a></td>\\r\\n      <td rowspan=\\\"2\\\" class=\\\"uib-time-name\\\">时</td>\\r\\n      <td rowspan=\\\"2\\\" class=\\\"form-group uib-time minutes\\\" ng-class=\\\"{'has-error': invalidMinutes}\\\">\\r\\n        <input type=\\\"text\\\" placeholder=\\\"MM\\\" ng-model=\\\"minutes\\\" ng-change=\\\"updateMinutes()\\\" class=\\\"form-control text-center\\\" ng-readonly=\\\"::readonlyInput\\\" maxlength=\\\"2\\\" tabindex=\\\"{{::tabindex}}\\\" ng-disabled=\\\"noIncrementMinutes()\\\" ng-blur=\\\"blur()\\\">\\r\\n      </td>\\r\\n      <td class=\\\"uib-increment minutes\\\"><a ng-click=\\\"incrementMinutes()\\\" ng-class=\\\"{disabled: noIncrementMinutes()}\\\" class=\\\"btn\\\" ng-disabled=\\\"noIncrementMinutes()\\\" tabindex=\\\"-1\\\"><span class=\\\"glyphicon glyphicon-chevron-up\\\"></span></a></td>\\r\\n      <td rowspan=\\\"2\\\" class=\\\"uib-time-name\\\">分</td>\\r\\n      <td rowspan=\\\"2\\\" class=\\\"form-group uib-time seconds\\\" ng-class=\\\"{'has-error': invalidSeconds}\\\" ng-show=\\\"showSeconds\\\">\\r\\n        <input type=\\\"text\\\" placeholder=\\\"SS\\\" ng-model=\\\"seconds\\\" ng-change=\\\"updateSeconds()\\\" class=\\\"form-control text-center\\\" ng-readonly=\\\"readonlyInput\\\" maxlength=\\\"2\\\" tabindex=\\\"{{::tabindex}}\\\" ng-disabled=\\\"noIncrementSeconds()\\\" ng-blur=\\\"blur()\\\">\\r\\n      </td>\\r\\n      <td ng-show=\\\"showSeconds\\\" class=\\\"uib-increment seconds\\\"><a ng-click=\\\"incrementSeconds()\\\" ng-class=\\\"{disabled: noIncrementSeconds()}\\\" class=\\\"btn\\\" ng-disabled=\\\"noIncrementSeconds()\\\" tabindex=\\\"-1\\\"><span class=\\\"glyphicon glyphicon-chevron-up\\\"></span></a></td>\\r\\n      <td rowspan=\\\"2\\\" ng-show=\\\"showSeconds\\\" class=\\\"uib-time-name\\\">秒</td>\\r\\n      <td rowspan=\\\"2\\\" ng-show=\\\"showMeridian\\\" class=\\\"uib-time am-pm\\\"><button type=\\\"button\\\" ng-class=\\\"{disabled: noToggleMeridian()}\\\" class=\\\"btn btn-default text-center\\\" ng-click=\\\"toggleMeridian()\\\" ng-disabled=\\\"noToggleMeridian()\\\" tabindex=\\\"{{::tabindex}}\\\">{{meridian}}</button></td>\\r\\n    </tr>\\r\\n    <tr>\\r\\n      <td class=\\\"uib-decrement hours\\\"><a ng-click=\\\"decrementHours()\\\" ng-class=\\\"{disabled: noDecrementHours()}\\\" class=\\\"btn\\\" ng-disabled=\\\"noDecrementHours()\\\" tabindex=\\\"-1\\\"><span class=\\\"glyphicon glyphicon-chevron-down\\\"></span></a></td>\\r\\n      <td class=\\\"uib-decrement minutes\\\"><a ng-click=\\\"decrementMinutes()\\\" ng-class=\\\"{disabled: noDecrementMinutes()}\\\" class=\\\"btn\\\" ng-disabled=\\\"noDecrementMinutes()\\\" tabindex=\\\"-1\\\"><span class=\\\"glyphicon glyphicon-chevron-down\\\"></span></a></td>\\r\\n      <td ng-show=\\\"showSeconds\\\" class=\\\"uib-decrement seconds\\\"><a ng-click=\\\"decrementSeconds()\\\" ng-class=\\\"{disabled: noDecrementSeconds()}\\\" class=\\\"btn\\\" ng-disabled=\\\"noDecrementSeconds()\\\" tabindex=\\\"-1\\\"><span class=\\\"glyphicon glyphicon-chevron-down\\\"></span></a></td>\\r\\n    </tr>\\r\\n    <!-- <tr class=\\\"text-center\\\" ng-show=\\\"::showSpinners\\\">\\r\\n      \\r\\n      \\r\\n      <td ng-show=\\\"showSeconds\\\">&nbsp;</td>\\r\\n      <td ng-show=\\\"showSeconds\\\" class=\\\"uib-increment seconds\\\"><a ng-click=\\\"incrementSeconds()\\\" ng-class=\\\"{disabled: noIncrementSeconds()}\\\" class=\\\"btn btn-link\\\" ng-disabled=\\\"noIncrementSeconds()\\\" tabindex=\\\"-1\\\"><span class=\\\"glyphicon glyphicon-chevron-up\\\"></span></a></td>\\r\\n      <td ng-show=\\\"showMeridian\\\"></td>\\r\\n    </tr>\\r\\n    <tr>\\r\\n    \\r\\n\\r\\n      <td ng-show=\\\"showSeconds\\\" class=\\\"uib-separator\\\">:</td>\\r\\n      <td class=\\\"form-group uib-time seconds\\\" ng-class=\\\"{'has-error': invalidSeconds}\\\" ng-show=\\\"showSeconds\\\">\\r\\n        <input type=\\\"text\\\" placeholder=\\\"SS\\\" ng-model=\\\"seconds\\\" ng-change=\\\"updateSeconds()\\\" class=\\\"form-control text-center\\\" ng-readonly=\\\"readonlyInput\\\" maxlength=\\\"2\\\" tabindex=\\\"{{::tabindex}}\\\" ng-disabled=\\\"noIncrementSeconds()\\\" ng-blur=\\\"blur()\\\">\\r\\n      </td>\\r\\n      <td ng-show=\\\"showMeridian\\\" class=\\\"uib-time am-pm\\\"><button type=\\\"button\\\" ng-class=\\\"{disabled: noToggleMeridian()}\\\" class=\\\"btn btn-default text-center\\\" ng-click=\\\"toggleMeridian()\\\" ng-disabled=\\\"noToggleMeridian()\\\" tabindex=\\\"{{::tabindex}}\\\">{{meridian}}</button></td>\\r\\n    </tr>\\r\\n    <tr class=\\\"text-center\\\" ng-show=\\\"::showSpinners\\\">\\r\\n      <td class=\\\"uib-decrement hours\\\"><a ng-click=\\\"decrementHours()\\\" ng-class=\\\"{disabled: noDecrementHours()}\\\" class=\\\"btn btn-link\\\" ng-disabled=\\\"noDecrementHours()\\\" tabindex=\\\"-1\\\"><span class=\\\"glyphicon glyphicon-chevron-down\\\"></span></a></td>\\r\\n      <td>&nbsp;</td>\\r\\n      <td class=\\\"uib-decrement minutes\\\"><a ng-click=\\\"decrementMinutes()\\\" ng-class=\\\"{disabled: noDecrementMinutes()}\\\" class=\\\"btn btn-link\\\" ng-disabled=\\\"noDecrementMinutes()\\\" tabindex=\\\"-1\\\"><span class=\\\"glyphicon glyphicon-chevron-down\\\"></span></a></td>\\r\\n      <td ng-show=\\\"showSeconds\\\">&nbsp;</td>\\r\\n      <td ng-show=\\\"showSeconds\\\" class=\\\"uib-decrement seconds\\\"><a ng-click=\\\"decrementSeconds()\\\" ng-class=\\\"{disabled: noDecrementSeconds()}\\\" class=\\\"btn btn-link\\\" ng-disabled=\\\"noDecrementSeconds()\\\" tabindex=\\\"-1\\\"><span class=\\\"glyphicon glyphicon-chevron-down\\\"></span></a></td>\\r\\n      <td ng-show=\\\"showMeridian\\\"></td>\\r\\n    </tr> -->\\r\\n  </tbody>\\r\\n</table>\\r\\n\\r\\n<!-- \\r\\n\\r\\n<table class=\\\"uib-timepicker\\\">\\r\\n  <tbody>\\r\\n    <tr class=\\\"text-center\\\" ng-show=\\\"::showSpinners\\\">\\r\\n      <td class=\\\"uib-increment hours\\\"><a ng-click=\\\"incrementHours()\\\" ng-class=\\\"{disabled: noIncrementHours()}\\\" class=\\\"btn btn-link\\\" ng-disabled=\\\"noIncrementHours()\\\" tabindex=\\\"-1\\\"><span class=\\\"glyphicon glyphicon-chevron-up\\\"></span></a></td>\\r\\n      <td>&nbsp;</td>\\r\\n      <td class=\\\"uib-increment minutes\\\"><a ng-click=\\\"incrementMinutes()\\\" ng-class=\\\"{disabled: noIncrementMinutes()}\\\" class=\\\"btn btn-link\\\" ng-disabled=\\\"noIncrementMinutes()\\\" tabindex=\\\"-1\\\"><span class=\\\"glyphicon glyphicon-chevron-up\\\"></span></a></td>\\r\\n      <td ng-show=\\\"showSeconds\\\">&nbsp;</td>\\r\\n      <td ng-show=\\\"showSeconds\\\" class=\\\"uib-increment seconds\\\"><a ng-click=\\\"incrementSeconds()\\\" ng-class=\\\"{disabled: noIncrementSeconds()}\\\" class=\\\"btn btn-link\\\" ng-disabled=\\\"noIncrementSeconds()\\\" tabindex=\\\"-1\\\"><span class=\\\"glyphicon glyphicon-chevron-up\\\"></span></a></td>\\r\\n      <td ng-show=\\\"showMeridian\\\"></td>\\r\\n    </tr>\\r\\n    <tr>\\r\\n      <td class=\\\"form-group uib-time hours\\\" ng-class=\\\"{'has-error': invalidHours}\\\">\\r\\n        <input type=\\\"text\\\" placeholder=\\\"HH\\\" ng-model=\\\"hours\\\" ng-change=\\\"updateHours()\\\" class=\\\"form-control text-center\\\" ng-readonly=\\\"::readonlyInput\\\" maxlength=\\\"2\\\" tabindex=\\\"{{::tabindex}}\\\" ng-disabled=\\\"noIncrementHours()\\\" ng-blur=\\\"blur()\\\">\\r\\n      </td>\\r\\n      <td class=\\\"uib-separator\\\">:</td>\\r\\n      <td class=\\\"form-group uib-time minutes\\\" ng-class=\\\"{'has-error': invalidMinutes}\\\">\\r\\n        <input type=\\\"text\\\" placeholder=\\\"MM\\\" ng-model=\\\"minutes\\\" ng-change=\\\"updateMinutes()\\\" class=\\\"form-control text-center\\\" ng-readonly=\\\"::readonlyInput\\\" maxlength=\\\"2\\\" tabindex=\\\"{{::tabindex}}\\\" ng-disabled=\\\"noIncrementMinutes()\\\" ng-blur=\\\"blur()\\\">\\r\\n      </td>\\r\\n      <td ng-show=\\\"showSeconds\\\" class=\\\"uib-separator\\\">:</td>\\r\\n      <td class=\\\"form-group uib-time seconds\\\" ng-class=\\\"{'has-error': invalidSeconds}\\\" ng-show=\\\"showSeconds\\\">\\r\\n        <input type=\\\"text\\\" placeholder=\\\"SS\\\" ng-model=\\\"seconds\\\" ng-change=\\\"updateSeconds()\\\" class=\\\"form-control text-center\\\" ng-readonly=\\\"readonlyInput\\\" maxlength=\\\"2\\\" tabindex=\\\"{{::tabindex}}\\\" ng-disabled=\\\"noIncrementSeconds()\\\" ng-blur=\\\"blur()\\\">\\r\\n      </td>\\r\\n      <td ng-show=\\\"showMeridian\\\" class=\\\"uib-time am-pm\\\"><button type=\\\"button\\\" ng-class=\\\"{disabled: noToggleMeridian()}\\\" class=\\\"btn btn-default text-center\\\" ng-click=\\\"toggleMeridian()\\\" ng-disabled=\\\"noToggleMeridian()\\\" tabindex=\\\"{{::tabindex}}\\\">{{meridian}}</button></td>\\r\\n    </tr>\\r\\n    <tr class=\\\"text-center\\\" ng-show=\\\"::showSpinners\\\">\\r\\n      <td class=\\\"uib-decrement hours\\\"><a ng-click=\\\"decrementHours()\\\" ng-class=\\\"{disabled: noDecrementHours()}\\\" class=\\\"btn btn-link\\\" ng-disabled=\\\"noDecrementHours()\\\" tabindex=\\\"-1\\\"><span class=\\\"glyphicon glyphicon-chevron-down\\\"></span></a></td>\\r\\n      <td>&nbsp;</td>\\r\\n      <td class=\\\"uib-decrement minutes\\\"><a ng-click=\\\"decrementMinutes()\\\" ng-class=\\\"{disabled: noDecrementMinutes()}\\\" class=\\\"btn btn-link\\\" ng-disabled=\\\"noDecrementMinutes()\\\" tabindex=\\\"-1\\\"><span class=\\\"glyphicon glyphicon-chevron-down\\\"></span></a></td>\\r\\n      <td ng-show=\\\"showSeconds\\\">&nbsp;</td>\\r\\n      <td ng-show=\\\"showSeconds\\\" class=\\\"uib-decrement seconds\\\"><a ng-click=\\\"decrementSeconds()\\\" ng-class=\\\"{disabled: noDecrementSeconds()}\\\" class=\\\"btn btn-link\\\" ng-disabled=\\\"noDecrementSeconds()\\\" tabindex=\\\"-1\\\"><span class=\\\"glyphicon glyphicon-chevron-down\\\"></span></a></td>\\r\\n      <td ng-show=\\\"showMeridian\\\"></td>\\r\\n    </tr>\\r\\n  </tbody>\\r\\n</table>\\r\\n -->\"\n\n/***/ },\n/* 57 */\n/***/ function(module, exports, __webpack_require__) {\n\n\tvar appComponent = __webpack_require__(58);\r\n\tvar constants = __webpack_require__(60);\r\n\tvar states = __webpack_require__(61);\r\n\tvar configs = __webpack_require__(62);\r\n\tvar filters = __webpack_require__(63);\r\n\t\r\n\t__webpack_require__(64);\r\n\t\r\n\tmodule.exports = {\r\n\t\tconstants: {\r\n\t    store: constants.store,\r\n\t    apiBaseUrl: constants.apiBaseUrl,\r\n\t\t\trulesTypes: constants.rulesTypes,\r\n\t\t\truleTypes: constants.ruleTypes,\r\n\t\t\ttaskStatus: constants.taskStatus,\r\n\t\t\tboolOptions: constants.boolOptions,\r\n\t\t\ttimeOptions: constants.timeOptions,\r\n\t\t\tcompareOptions: constants.compareOptions,\r\n\t\t\tsexOptions: constants.sexOptions,\r\n\t\t\tpointsOptions: constants.pointsOptions,\r\n\t\t\tcouponOptions: constants.couponOptions\r\n\t\t},\r\n\t  components: {\r\n\t    app: appComponent,\r\n\t  },\r\n\t  filters: {\r\n\t    taskStatusFilter: filters.taskStatusFilter\r\n\t  },\r\n\t  states: [states.appState],\r\n\t  configBlocks: [\r\n\t    configs.otherwiseConfigBlock, \r\n\t    configs.httpConfigBlock\r\n\t  ],\r\n\t  runBlocks: [\r\n\t    \r\n\t  ]\r\n\t};\n\n/***/ },\n/* 58 */\n/***/ function(module, exports, __webpack_require__) {\n\n\tcontroller.$inject = ['$rootScope', '$state', '$transitions', 'store'];\r\n\tfunction controller($rootScope, $state, $transitions, store){\r\n\t  var $ctrl = this;\r\n\t  $ctrl.$state = $state;\r\n\t  $ctrl.store = store;\r\n\t  $ctrl.isRulesList = false; // 规则组列表 + 未加入任务的规则组详情\r\n\t  $ctrl.isViewRulesList = false; // 已加入任务的规则组详情\r\n\t  $ctrl.isNewRules = false;\r\n\t  var viewRulesType = 0;\r\n\t\r\n\t  $transitions.onSuccess({}, function(){\r\n\t    isNewRules();\r\n\t    isRulesList();\r\n\t  });\r\n\t  // view-rules-list.component.js\r\n\t  // type = 1 显示为执行期规则组 \r\n\t  // type = 2 显示为规则组列表\r\n\t  $rootScope.$on('VIEW_RULES_TYPE', function(e, type){\r\n\t    viewRulesType = type;\r\n\t    isRulesList();\r\n\t  });\r\n\t\r\n\t  isNewRules();\r\n\t  isRulesList();\r\n\t  function isNewRules(){\r\n\t    var is = $state.is('newRules') || $state.is('newRuleList') || $state.is('newRule');\r\n\t    $ctrl.isNewRules = is;\r\n\t  }\r\n\t\r\n\t  function isRulesList(){\r\n\t    $ctrl.isRulesList = $state.is('rulesList') || \r\n\t      $state.is('viewRules') && viewRulesType == 2;\r\n\t    $ctrl.isViewRulesList = $state.is('viewRulesList') || \r\n\t      $state.is('viewRules') && viewRulesType == 1;\r\n\t  }\r\n\t}\r\n\tmodule.exports = {\r\n\t  template: __webpack_require__(59),\r\n\t  controller: controller\r\n\t};\n\n/***/ },\n/* 59 */\n/***/ function(module, exports) {\n\n\tmodule.exports = \"<div class=\\\"app-main\\\">\\r\\n  <div class=\\\"app-main-nav\\\">\\r\\n    <h1 class=\\\"page-title\\\">任务管理</h1>\\r\\n<!--     <p>\\r\\n      <label>\\r\\n        <input type=\\\"checkbox\\\" ng-model=\\\"$ctrl.store.hideEditArea\\\">隐藏\\r\\n      </label>\\r\\n    </p> -->\\r\\n    <ul class=\\\"nav nav-pills nav-stacked\\\">\\r\\n      <li ui-sref-active=\\\"active\\\"><a ui-sref=\\\"tasksList\\\">任务列表</a></li>\\r\\n      <li ui-sref-active=\\\"active\\\"><a ui-sref=\\\"newTask\\\">新建任务</a></li>\\r\\n      <li ng-class=\\\"{'active': $ctrl.isRulesList}\\\"><a ui-sref=\\\"rulesList\\\">规则组列表</a></li>\\r\\n      <li ng-class=\\\"{'active': $ctrl.isViewRulesList}\\\"><a ui-sref=\\\"viewRulesList\\\">执行期规则组</a></li>\\r\\n      <li ng-class=\\\"{'active': $ctrl.isNewRules}\\\" ng-hide=\\\"$ctrl.store.hideEditArea\\\"><a ui-sref=\\\"newRules\\\">新建规则组</a></li>\\r\\n      <li ui-sref-active=\\\"active\\\"><a ui-sref=\\\"importRules\\\">导入规则组</a></li>\\r\\n      <li ui-sref-active=\\\"active\\\" ng-hide=\\\"$ctrl.store.hideEditArea\\\"><a ui-sref=\\\"test\\\">测试</a></li>\\r\\n    </ul>\\r\\n  </div>\\r\\n  <div class=\\\"app-main-content\\\">\\r\\n    <h1 class=\\\"page-title\\\">{{$ctrl.$state.$current.title}}</h1>\\r\\n    <ui-view class=\\\"app-ui-view\\\"></ui-view>\\r\\n  </div>\\r\\n</div>\"\n\n/***/ },\n/* 60 */\n/***/ function(module, exports) {\n\n\t// 全局常量\r\n\texports.store = {\r\n\t  hideEditArea: true,\r\n\t  viewRulesNav: false\r\n\t};\r\n\texports.apiBaseUrl = 'http://dmp.arlakitchen.com';\r\n\t\r\n\t// 规则组类型\r\n\texports.rulesTypes = [\r\n\t  { \r\n\t    id: '网站', \r\n\t    title: '网站',\r\n\t    types: [\r\n\t      { id: 1, title: '页面' },\r\n\t      { id: 2, title: '点击' },\r\n\t      { id: 3, title: '订单' },\r\n\t      { id: 4, title: '购物车' },\r\n\t      { id: 5, title: '微信' },\r\n\t      { id: 6, title: '会员积分' },\r\n\t      { id: 7, title: '搜索' },\r\n\t      { id: 8, title: '活动' },\r\n\t      { id: 9, title: '优惠券' },\r\n\t      { id: 10, title: '中奖' },\r\n\t      { id: 11, title: '关联型' }\r\n\t    ] \r\n\t  },\r\n\t  { \r\n\t    id: '广告', \r\n\t    title: '广告',\r\n\t    types: [\r\n\t      { id: 1, title: '广告主题/特征' },\r\n\t      { id: 2, title: '广告曝光量' },\r\n\t      { id: 3, title: '广告点击量' },\r\n\t      { id: 4, title: '广告投放媒体' }\r\n\t    ]\r\n\t  },\r\n\t  { \r\n\t    id: '呼叫中心', \r\n\t    title: '呼叫中心',\r\n\t    types: [\r\n\t      { id: 1, title: '电话归属地' },\r\n\t      { id: 2, title: '呼入手机号' },\r\n\t      { id: 3, title: '呼入手机号运营商' },\r\n\t      { id: 4, title: '呼入时段' },\r\n\t      { id: 5, title: '呼叫内容关键字' }\r\n\t    ] \r\n\t  },\r\n\t  { \r\n\t    id: '社会化媒体', \r\n\t    title: '社会化媒体',\r\n\t    types: []\r\n\t  }\r\n\t];\r\n\t// 规则类型\r\n\texports.ruleTypes = [\r\n\t  {\r\n\t    id: 1,\r\n\t    title: '网站',\r\n\t    types: [\r\n\t      { id: 1, title: '页面' },\r\n\t      { id: 2, title: '点击' },\r\n\t      { id: 3, title: '订单' },\r\n\t      { id: 4, title: '购物车' },\r\n\t      { id: 5, title: '微信' },\r\n\t      { id: 6, title: '会员积分' },\r\n\t      { id: 7, title: '搜索' },\r\n\t      { id: 8, title: '活动' },\r\n\t      { id: 9, title: '优惠券' },\r\n\t      { id: 10, title: '中奖' },\r\n\t      { id: 11, title: '关联型' }\r\n\t    ]\r\n\t  },\r\n\t  {\r\n\t    id: 2,\r\n\t    title: '网站',\r\n\t    types: [\r\n\t      { id: 1, title: '页面' },\r\n\t      { id: 2, title: '点击' },\r\n\t      { id: 3, title: '订单' },\r\n\t      { id: 4, title: '购物车' },\r\n\t      { id: 5, title: '微信' },\r\n\t      { id: 6, title: '会员积分' },\r\n\t      { id: 7, title: '搜索' },\r\n\t      { id: 8, title: '活动' },\r\n\t      { id: 9, title: '优惠券' },\r\n\t      { id: 10, title: '中奖' },\r\n\t      { id: 11, title: '关联型' }\r\n\t    ]\r\n\t  }\r\n\t];\r\n\texports.ruleTypes = [\r\n\t  { id: 1, title: '页面' },\r\n\t  { id: 2, title: '点击' },\r\n\t  { id: 3, title: '订单' },\r\n\t  { id: 4, title: '购物车' },\r\n\t  { id: 5, title: '微信' },\r\n\t  { id: 6, title: '会员积分' },\r\n\t  { id: 7, title: '搜索' },\r\n\t  { id: 8, title: '活动' },\r\n\t  { id: 9, title: '优惠券' },\r\n\t  { id: 10, title: '中奖' },\r\n\t  { id: 11, title: '关联型' }\r\n\t];\r\n\t// 任务状态\r\n\texports.taskStatus = [\r\n\t  { id: 0, title: '未开始' },\r\n\t  { id: 1, title: '执行中' },\r\n\t  { id: 2, title: '暂停中' },\r\n\t  { id: 3, title: '已结束' },\r\n\t  { id: 4, title: '未加入' }\r\n\t];\r\n\t// 真假选择\r\n\texports.boolOptions = [\r\n\t  { id: 1, title: '震' },\r\n\t  { id: 2, title: '假' }\r\n\t];\r\n\t// 时间选择\r\n\texports.timeOptions = [\r\n\t  { id: 1, title: '开始时间' },\r\n\t  { id: 2, title: '结束时间' }\r\n\t];\r\n\t// 时间选择\r\n\texports.compareOptions = [\r\n\t  { id: 1, title: '大于' },\r\n\t  { id: 2, title: '小于等于' },\r\n\t  { id: 2, title: '小于' },\r\n\t  { id: 2, title: '小于等于' },\r\n\t  { id: 3, title: '等于' }\r\n\t];\r\n\t// 行别选择\r\n\texports.sexOptions = [\r\n\t  { id: 1, title: '男' },\r\n\t  { id: 2, title: '女' },\r\n\t  { id: 3, title: '保密' }\r\n\t];\r\n\t// 积分选择\r\n\texports.pointsOptions = [\r\n\t  { id: 1, title: '购买积分' },\r\n\t  { id: 2, title: '行为积分' }\r\n\t];\r\n\t// 优惠券选择\r\n\texports.couponOptions = [\r\n\t  { id: 1, title: '领取优惠券' },\r\n\t  { id: 2, title: '使用优惠券' }\r\n\t];\n\n/***/ },\n/* 61 */\n/***/ function(module, exports) {\n\n\texports.appState = {\r\n\t  name: 'app',\r\n\t  redirectTo: 'tasksList',\r\n\t  component: 'app'\r\n\t};\n\n/***/ },\n/* 62 */\n/***/ function(module, exports) {\n\n\t// $state otherwise\r\n\texports.otherwiseConfigBlock = ['$urlRouterProvider', function ($urlRouterProvider) { \r\n\t  $urlRouterProvider.otherwise('/task'); \r\n\t}];\r\n\t\r\n\t// $http interceptor\r\n\texports.httpConfigBlock = ['$httpProvider', 'dateServiceProvider', \r\n\tfunction ($httpProvider, dateServiceProvider) { \r\n\t\r\n\t  var dateService = dateServiceProvider.$get();\r\n\t  \r\n\t  $httpProvider.defaults.transformRequest = function(data, headersGetter){\r\n\t    var str = [];\r\n\t    var key, value, output;\r\n\t    for(key in data){\r\n\t      value = data[key];\r\n\t      str.push(encodeURIComponent(key) + '=' + encodeURIComponent(value));\r\n\t    }\r\n\t    return str.join('&');\r\n\t  };\r\n\t  // 修改post的默认请求头\r\n\t  $httpProvider.defaults.headers.post = {\r\n\t    'Content-Type': 'application/x-www-form-urlencoded'\r\n\t  };\r\n\t  // 请求拦截器\r\n\t  $httpProvider.interceptors.push(['$q', function($q){\r\n\t    return {\r\n\t      'request': function(req) {\r\n\t        var fromApi = /^http/.test(req.url);\r\n\t\r\n\t        if(!fromApi) {\r\n\t          return req;\r\n\t        }\r\n\t\r\n\t        // console.log(req);\r\n\t\r\n\t        // 转换local time为server time\r\n\t        req.params = recurse(\r\n\t          req.params, \r\n\t          angular.isDate, \r\n\t          dateService.toString);\r\n\t        req.data = recurse(\r\n\t          req.data, \r\n\t          angular.isDate, \r\n\t          dateService.toString);\r\n\t\r\n\t        return req;\r\n\t      },\r\n\t      'response': function(res) {\r\n\t        var fromApi = /^http/.test(res.config.url);\r\n\t\r\n\t        // console.log(res);\r\n\t        if(!fromApi) {\r\n\t          return res;\r\n\t        }\r\n\t\r\n\t        // 请求状态码\r\n\t        // var resStatus = res.status;\r\n\t        // if(resStatus !== 200) {\r\n\t          // throw new Error(resStatus);\r\n\t          // return $q.reject(new Error(resStatus));\r\n\t        // }\r\n\t\r\n\t        var data = res.data;\r\n\t        var status = data && data.Status;\r\n\t        var information = data && data.Information;\r\n\t        var _data = data && data.Data || {};\r\n\t        \r\n\t        if(status == 1) {\r\n\t\r\n\t          // 转换server time为local time\r\n\t          // console.log(_data);\r\n\t          _data = recurse(\r\n\t            _data, \r\n\t            dateService.isDateString, \r\n\t            dateService.fromString);\r\n\t\r\n\t          // 列表接口还有一层嵌套的Data\r\n\t          var __data = _data.Data;\r\n\t          if(angular.isArray(__data)) {\r\n\t            if(_data.hasOwnProperty('count')) {\r\n\t              __data.count = _data.count;\r\n\t            }\r\n\t            _data = __data;\r\n\t          }\r\n\t\r\n\t          _data.Information = information;\r\n\t          return $q.resolve(_data);\r\n\t        }\r\n\t\r\n\t        return $q.reject(information);\r\n\t      }\r\n\t    };\r\n\t  }]); \r\n\t  \r\n\t  // 递归方法，递归处理一个object里的所有属性\r\n\t  // 返回一个新的object\r\n\t  // condition 终止条件\r\n\t  // callback 终止回调\r\n\t  function recurse(obj, condition, callback){\r\n\t    if(condition(obj)) {\r\n\t      return callback(obj);\r\n\t    }\r\n\t    // 无视文件\r\n\t    if(obj instanceof File) {\r\n\t      return obj;\r\n\t    }\r\n\t    if(angular.isObject(obj)) {\r\n\t      var _obj;\r\n\t      if(angular.isArray(obj)) {\r\n\t        _obj = [];\r\n\t      } else {\r\n\t        _obj = {};\r\n\t      }\r\n\t      angular.forEach(obj, function(value, key){\r\n\t        _obj[key] = recurse(value, condition, callback);\r\n\t      });\r\n\t      return _obj;\r\n\t    }\r\n\t    return obj; \r\n\t  }\r\n\t}];\r\n\t\r\n\t// $httpBackend 模拟返回\r\n\t// exports.httpBackendRunBlock = ['$httpBackend', function ($httpBackend) { \r\n\t  \r\n\t//   $httpBackend.whenGET(/^\\/api\\/findtask/).respond(200, { \r\n\t//     \"Status\": \"1\",\r\n\t//     \"Information\": \"成功！ \",\r\n\t//     \"Data\":{\r\n\t//       \"count\":1,\r\n\t//       \"Data\":[{\r\n\t//         \"SiteID\":1542,\r\n\t//         \"RuleGroupType\":\"规则组类型\",\r\n\t//         \"RuleGroupName\":\"规则组名称\",\r\n\t//         \"StartDate\":\"开始时间\",\r\n\t//         \"EndDate\":\"结束时间\",\r\n\t//         \"Status\":\"状态\",\r\n\t//         \"CreateTime\":\"创建时间\"\r\n\t//       }]\r\n\t//     }\r\n\t//   });\r\n\t\r\n\t//   // $httpBackend.whenGET(/\\/uib/).passThrough();\r\n\t// }];\r\n\n\n/***/ },\n/* 63 */\n/***/ function(module, exports) {\n\n\texports.taskStatusFilter = ['taskStatus', function(taskStatus){\r\n\t  return function(input){\r\n\t    if(!input) {\r\n\t      return '';\r\n\t    }\r\n\t    var status = taskStatus.find(function(item){\r\n\t      return item.id == input;\r\n\t    });\r\n\t    return status && status.title;\r\n\t  };\r\n\t}];\n\n/***/ },\n/* 64 */\n/***/ function(module, exports) {\n\n\t// removed by extract-text-webpack-plugin\n\n/***/ },\n/* 65 */,\n/* 66 */\n/***/ function(module, exports, __webpack_require__) {\n\n\tvar taskListComponent = __webpack_require__(67);\r\n\tvar editTaskComponent = __webpack_require__(71);\r\n\tvar testComponent = __webpack_require__(73);\r\n\tvar states = __webpack_require__(75);\r\n\tvar services = __webpack_require__(76);\r\n\t\r\n\tmodule.exports = {\r\n\t  components: {\r\n\t    taskList: taskListComponent,\r\n\t    editTask: editTaskComponent,\r\n\t    test: testComponent,\r\n\t  },\r\n\t  states: [\r\n\t    states.taskListState,\r\n\t    states.newTaskState,\r\n\t    states.editTaskState,\r\n\t    states.testState,\r\n\t  ],\r\n\t  factories: {\r\n\t    tasksService: services.tasksService\r\n\t  }\r\n\t};\n\n/***/ },\n/* 67 */\n/***/ function(module, exports, __webpack_require__) {\n\n\t__webpack_require__(68);\r\n\t\r\n\tcontroller.$inject = ['tasksService', 'rulesTypes', 'taskStatus', 'store'];\r\n\tfunction controller(tasksService, rulesTypes, taskStatus, store){\r\n\t  var $ctrl = this;\r\n\t  $ctrl.store = store;\r\n\t  $ctrl.data = [];\r\n\t  $ctrl.update = null; // 等xx-table初始化后填充\r\n\t  // $ctrl.filter = filter;\r\n\t\r\n\t  var _taskStatus = taskStatus.slice(0, -1); // 去掉未加入任务\r\n\t\r\n\t  // formly配置 \r\n\t  $ctrl.model = {\r\n\t    timeOption: 0\r\n\t  };\r\n\t  $ctrl.options = {};\r\n\t  $ctrl.fields = [\r\n\t    { \r\n\t      className: 'row',\r\n\t      fieldGroup: [\r\n\t        {\r\n\t          key: 'siteid',\r\n\t          type: 'input2',\r\n\t          className: 'col-sm-6 col-lg-3',\r\n\t          templateOptions: {\r\n\t            label: 'site ID/广告ID'\r\n\t          }\r\n\t        },\r\n\t        {\r\n\t          key: 'rulegroupname',\r\n\t          type: 'input2',\r\n\t          className: 'col-sm-6 col-lg-3',\r\n\t          templateOptions: {\r\n\t            label: '规则组名称'\r\n\t          }\r\n\t        },\r\n\t        {\r\n\t          key: 'rulegrouptype',\r\n\t          type: 'select2',\r\n\t          className: 'col-sm-6 col-lg-3',\r\n\t          templateOptions: {\r\n\t            label: '规则组类型',\r\n\t            valueProp: 'id',\r\n\t            labelProp: 'title',\r\n\t            options: [{id: undefined, title: '全部'}].concat(rulesTypes)\r\n\t          }\r\n\t        },\r\n\t        {\r\n\t          key: 'status',\r\n\t          type: 'select2',\r\n\t          className: 'col-sm-6 col-lg-3',\r\n\t          templateOptions: {\r\n\t            label: '任务状态',\r\n\t            valueProp: 'id',\r\n\t            labelProp: 'title',\r\n\t            options: [{id: undefined, title: '全部'}].concat(_taskStatus)\r\n\t          }\r\n\t        }\r\n\t      ]\r\n\t    },\r\n\t    {\r\n\t      className: 'row',\r\n\t      fieldGroup: [\r\n\t        {\r\n\t          key: 'timeOption',\r\n\t          type: 'select',\r\n\t          className: 'col-sm-2',\r\n\t          templateOptions: {\r\n\t            label: '',\r\n\t            valueProp: 'id',\r\n\t            labelProp: 'title',\r\n\t            options: [\r\n\t              {id: 0, title: '开始时间'},\r\n\t              {id: 1, title: '结束时间'},\r\n\t            ]\r\n\t          }\r\n\t        },\r\n\t        {\r\n\t          key: 'time',\r\n\t          type: 'timeRange',\r\n\t          className: 'col-sm-8 col-md-6 pl30',\r\n\t          templateOptions: {\r\n\t            label: ''\r\n\t          }\r\n\t        }\r\n\t      ]\r\n\t    }\r\n\t  ];\r\n\t\r\n\t  // xx-table配置\r\n\t  $ctrl.tableConfig = {\r\n\t    data: [],\r\n\t    firstUpdate: true,\r\n\t    getData: getData,\r\n\t    columns: [\r\n\t      {\r\n\t        head: 'site ID/广告ID',\r\n\t        data: '{{ row.SiteID }}'\r\n\t      }, {\r\n\t        head: '规则组名称',\r\n\t        data: '{{ row.RuleGroupName }}'\r\n\t      }, {\r\n\t        head: '规则组类型',\r\n\t        data: '{{ row.RuleGroupType }}'\r\n\t      }, {\r\n\t        head: '开始时间',\r\n\t        data: '{{ row.StartDate | date2 }}'\r\n\t      }, {\r\n\t        head: '结束时间',\r\n\t        data: '{{ row.EndDate | date2 }}'\r\n\t      }, {\r\n\t        head: '状态',\r\n\t        data: '{{ methods.getStatusTitle(row.Status) }}'\r\n\t      }, {\r\n\t        // hide: store.hideEditArea,\r\n\t        head: '任务进度',\r\n\t        data: '<div class=\"text-center\">{{methods.getPercent(row.Percentage)}}%</div>' +\r\n\t          '<uib-progressbar value=\"methods.getPercent(row.Percentage)\" type=\"success\"></uib-progressbar>'\r\n\t      }, {\r\n\t        head: '创建时间',\r\n\t        data: '{{ row.CreateTime | date2 }}'\r\n\t      }, {\r\n\t        head: '操作',\r\n\t        data: '<a ui-sref=\"editTask({taskId: row.TaskID})\">编辑任务时间</a>'\r\n\t      }\r\n\t    ],\r\n\t    methods: {\r\n\t      getStatusTitle: getStatusTitle,\r\n\t      getPercent: getPercent\r\n\t    }\r\n\t  };\r\n\t  $ctrl.onTableInit = onTableInit;\r\n\t\r\n\t  function getData(){\r\n\t    var timeOption = $ctrl.model.timeOption;\r\n\t    var time = $ctrl.model.time || {};\r\n\t    var params = {\r\n\t      siteid: $ctrl.model.siteid,\r\n\t      rulegroupname: $ctrl.model.rulegroupname,\r\n\t      rulegrouptype: $ctrl.model.rulegrouptype,\r\n\t      status: $ctrl.model.status,\r\n\t      startdate: timeOption == 0 && time.min || null,\r\n\t      startdate1: timeOption == 0 && time.max || null,\r\n\t      enddate: timeOption == 1 && time.min || null,\r\n\t      enddate1: timeOption == 1 && time.max || null\r\n\t    };\r\n\t\r\n\t    return tasksService.getTasks(params);\r\n\t  }\r\n\t  function onTableInit(update){\r\n\t    console.log('on table init');\r\n\t    $ctrl.update = update;\r\n\t  }\r\n\t  function getStatusTitle(_status){\r\n\t    var status = taskStatus.find(function(status){\r\n\t      return status.id == _status;\r\n\t    });\r\n\t    if(status) {\r\n\t      return status.title;\r\n\t    }\r\n\t    return '';\r\n\t  }\r\n\t  // 0.99 -> 99\r\n\t  function getPercent(number){\r\n\t    var p = parseFloat(number + '');\r\n\t    return Math.round(p * 100)\r\n\t  }\r\n\t\r\n\t  // filter();\r\n\t  // function filter(){\r\n\t  //   var timeOption = $ctrl.model.timeOption;\r\n\t  //   var time = $ctrl.model.time || {};\r\n\t  //   var params = {\r\n\t  //     siteid: $ctrl.model.siteid,\r\n\t  //     rulegroupname: $ctrl.model.rulegroupname,\r\n\t  //     rulegrouptype: $ctrl.model.rulegrouptype,\r\n\t  //     status: $ctrl.model.status,\r\n\t  //     startdate: timeOption == 0 && time.min || null,\r\n\t  //     startdate1: timeOption == 0 && time.max || null,\r\n\t  //     enddate: timeOption == 1 && time.min || null,\r\n\t  //     enddate1: timeOption == 1 && time.max || null\r\n\t  //   };\r\n\t\r\n\t  //   tasksService.getTasks(params).then(function(data){\r\n\t  //     $ctrl.data = data || [];\r\n\t  //     $ctrl.data.forEach(function(row){\r\n\t  //       var status = taskStatus.find(function(status){\r\n\t  //         return status.id == row.Status;\r\n\t  //       });\r\n\t  //       if(status) {\r\n\t  //         row.StatusTitle = status.title;\r\n\t  //       }\r\n\t  //     });\r\n\t  //   }, function(reason){\r\n\t  //     console.log(reason);\r\n\t  //   });\r\n\t  // }\r\n\t}\r\n\t\r\n\tmodule.exports = {\r\n\t  template: __webpack_require__(70),\r\n\t  controller: controller\r\n\t};\n\n/***/ },\n/* 68 */\n/***/ function(module, exports) {\n\n\t// removed by extract-text-webpack-plugin\n\n/***/ },\n/* 69 */,\n/* 70 */\n/***/ function(module, exports) {\n\n\tmodule.exports = \"<div class=\\\"task-list\\\">\\r\\n  <!-- 筛选 -->\\r\\n  <div class=\\\"well well-default\\\">\\r\\n    <form class=\\\"form-horizontal\\\" name=\\\"$ctrl.form\\\" novalidate>\\r\\n      <formly-form model=\\\"$ctrl.model\\\" fields=\\\"$ctrl.fields\\\" form=\\\"$ctrl.form\\\" options=\\\"$ctrl.options\\\">\\r\\n      </formly-form>\\r\\n      <button class=\\\"btn btn-success\\\" ng-click=\\\"$ctrl.update()\\\">筛选</button>\\r\\n      <button class=\\\"btn btn-default\\\" ng-click=\\\"$ctrl.options.resetModel()\\\">重置</button>  \\r\\n    </form>\\r\\n    <!-- <div>{{ $ctrl.model | json }}</div> -->\\r\\n  </div>\\r\\n  <p><a ui-sref=\\\"newTask\\\" class=\\\"btn btn-success\\\">新建任务</a></p>\\r\\n  <!-- 任务列表 -->\\r\\n<!--   <table class=\\\"table table-bordered table-hover\\\">\\r\\n    <thead class=\\\"bg-default\\\">\\r\\n      <tr>\\r\\n        <td>site ID/广告ID</td>\\r\\n        <td>规则组名称</td>\\r\\n        <td>规则组类型</td>\\r\\n        <td>开始时间</td>\\r\\n        <td>结束时间</td>\\r\\n        <td>状态</td>\\r\\n        <td ng-hide=\\\"$ctrl.store.hideEditArea\\\">任务进度</td>\\r\\n        <td>创建时间</td>\\r\\n        <td>操作</td>\\r\\n      </tr>\\r\\n    </thead>\\r\\n    <tbody>\\r\\n      <tr ng-repeat=\\\"row in $ctrl.data\\\">\\r\\n        <td>{{ row.SiteID }}</td>\\r\\n        <td>{{ row.RuleGroupName }}</td>\\r\\n        <td>{{ row.RuleGroupType }}</td>\\r\\n        <td>{{ row.StartDate | date2 }}</td>\\r\\n        <td>{{ row.EndDate | date2 }}</td>\\r\\n        <td>\\r\\n          {{ row.StatusTitle }}\\r\\n          <span  ng-hide=\\\"$ctrl.store.hideEditArea\\\" ng-if=\\\"row.Status==1 || row.Status==2\\\">\\r\\n            <switch name=\\\"enabled\\\" ng-model=\\\"enabled\\\" class=\\\"green\\\"></switch></div>\\r\\n          </span>\\r\\n        </td>\\r\\n        <td ng-hide=\\\"$ctrl.store.hideEditArea\\\">\\r\\n          <div class=\\\"text-center\\\">22%</div>\\r\\n          <uib-progressbar value=\\\"22\\\"></uib-progressbar>\\r\\n        </td>\\r\\n        <td>{{ row.CreateTime | date2 }}</td>\\r\\n        <td>\\r\\n          <a ui-sref=\\\"editTask({taskId: row.TaskID})\\\">编辑任务时间</a>\\r\\n        </td>\\r\\n      </tr>\\r\\n      <tr ng-if=\\\"!$ctrl.data.length\\\" class=\\\"text-center\\\">\\r\\n        <td colspan=\\\"9\\\">空</td>\\r\\n      </tr>\\r\\n    </tbody>\\r\\n  </table> \\r\\n\\r\\n  <div class=\\\"hr\\\"></div> -->\\r\\n  <xx-table config=\\\"$ctrl.tableConfig\\\" on-init=\\\"$ctrl.onTableInit(update)\\\"></xx-table>\\r\\n<!--   <div ng-init=\\\"bigTotalItems=175;bigCurrentPage=1;maxSize=3;\\\"></div>\\r\\n  <ul uib-pagination \\r\\n    total-items=\\\"bigTotalItems\\\" \\r\\n    ng-model=\\\"bigCurrentPage\\\" \\r\\n    max-size=\\\"maxSize\\\" \\r\\n    boundary-link-numbers=\\\"true\\\" \\r\\n    previous-text=\\\"上一页\\\" next-text=\\\"下一页\\\"\\r\\n  ></ul> --> \\r\\n</div>\\r\\n\\r\\n\"\n\n/***/ },\n/* 71 */\n/***/ function(module, exports, __webpack_require__) {\n\n\tcontroller.$inject = ['$modalService', '$state', 'tasksService', '$modalService'];\r\n\tfunction controller($modalService, $state, tasksService, $modalService){\r\n\t  var $ctrl = this;\r\n\t  $ctrl.options = {\r\n\t    // formState用于各field之间传值\r\n\t    formState: {\r\n\t      hideSiteId: false\r\n\t    }\r\n\t  };\r\n\t  $ctrl.fields = [];\r\n\t  $ctrl.model = {};\r\n\t  $ctrl.submit = submit;\r\n\t  $ctrl.data = {}; // 编辑任务用\r\n\t  var rulesOptions = [];\r\n\t\r\n\t  // 当前是否是创建任务页\r\n\t  var isNewTask = $state.is('newTask');\r\n\t\r\n\t  if(isNewTask) {\r\n\t    $ctrl.model.ruleType = 1;\r\n\t    $ctrl.fields = [\r\n\t      {\r\n\t        key: 'RuleGroupID',\r\n\t        type: 'select2',\r\n\t        templateOptions: {\r\n\t          label: '选择标签规则组',\r\n\t          valueProp: 'RuleGroupID',\r\n\t          labelProp: 'RuleGroupName',\r\n\t          options: [],\r\n\t          required: true\r\n\t        },\r\n\t        controller: ['$scope', 'rulesService', function($scope, rulesService){\r\n\t          rulesService.getRules({ Status: 4 })\r\n\t          .then(function(data){\r\n\t            console.log(data);\r\n\t            // RuleGroupType\r\n\t            // 1.如选择的标签规则组类型是呼叫中心或社会化媒体\r\n\t            // 则隐藏输入site ID/广告ID一项。\r\n\t            rulesOptions = data || [];\r\n\t\r\n\t            $scope.to.options = rulesOptions;\r\n\t            if(rulesOptions.length) {\r\n\t              $scope.model.RuleGroupID = rulesOptions[0].RuleGroupID;\r\n\t            }\r\n\t          });\r\n\t        }],\r\n\t        watcher: {\r\n\t          listener: function(field, newValue, oldValue, scope, stopWatching) {\r\n\t            if(newValue) {\r\n\t              var rules = (rulesOptions || []).find(function(rules){\r\n\t                return rules.RuleGroupID == newValue;\r\n\t              });\r\n\t              if(rules) {\r\n\t                var type = rules.RuleGroupType;\r\n\t                if(type === '网站' || type === '广告') {\r\n\t                  scope.options.formState.hideSiteId = false;\r\n\t                } else {\r\n\t                  scope.options.formState.hideSiteId = true;\r\n\t                }\r\n\t              }\r\n\t            }\r\n\t          }\r\n\t        }\r\n\t      },\r\n\t      {\r\n\t        key: 'SiteID',\r\n\t        type: 'input2',\r\n\t        hideExpression: 'formState.hideSiteId',\r\n\t        templateOptions: {\r\n\t          label: 'site ID/广告ID'\r\n\t        },\r\n\t        expressionProperties: {\r\n\t          'templateOptions.required': '!formState.hideSiteId'\r\n\t        }\r\n\t      },\r\n\t      {\r\n\t        key: 'time',\r\n\t        type: 'timeRange2',\r\n\t        templateOptions: {\r\n\t          label: '设置任务周期',\r\n\t          required: true\r\n\t        }\r\n\t      }\r\n\t    ];\r\n\t  } else {\r\n\t    tasksService.getTasks({HYUniqueid: $state.params.taskId})\r\n\t    .then(function(data){\r\n\t      var _data = data && data.length ? data[0] : {};\r\n\t      $ctrl.data = _data;\r\n\t      $ctrl.model = {\r\n\t        TaskID: _data.TaskID,\r\n\t        time: {\r\n\t          min: _data.StartDate,\r\n\t          max: _data.EndDate\r\n\t        }\r\n\t      };\r\n\t      $ctrl.fields = [\r\n\t        {\r\n\t          type: 'static2',\r\n\t          templateOptions: {\r\n\t            label: '标签规则组',\r\n\t            text: _data.RuleGroupName\r\n\t          }\r\n\t        }, \r\n\t        {\r\n\t          type: 'static2',\r\n\t          hideExpression: '!model.SiteID',\r\n\t          templateOptions: {\r\n\t            label: 'site ID/广告ID',\r\n\t            text: _data.SiteID\r\n\t          }\r\n\t        },\r\n\t        {\r\n\t          key: 'time',\r\n\t          type: 'timeRange2',\r\n\t          templateOptions: {\r\n\t            label: '设置任务周期',\r\n\t            required: true\r\n\t          }\r\n\t        }\r\n\t      ];\r\n\t    });\r\n\t  }\r\n\t\r\n\t  function submit(){\r\n\t    if($ctrl.form.$invalid) {\r\n\t      return;\r\n\t    }\r\n\t\r\n\t    var data = {\r\n\t      RuleGroupID: $ctrl.model.RuleGroupID,\r\n\t      TaskID:      $ctrl.model.TaskID,\r\n\t      SiteID:      $ctrl.model.SiteID,\r\n\t      StartDate:   $ctrl.model.time.min,\r\n\t      EndDate:     $ctrl.model.time.max\r\n\t    };\r\n\t    console.log(data);\r\n\t    if(isNewTask) {\r\n\t      return tasksService.createTask(data).then(function(data){\r\n\t        $modalService.alert({\r\n\t          content: '创建成功', \r\n\t          hideCancel: true\r\n\t        }).then(gotoList);\r\n\t      }, function(reason){\r\n\t        $modalService.alert({content: reason});\r\n\t      });  \r\n\t    } else {\r\n\t      return tasksService.editTask(data).then(function(data){\r\n\t        $modalService.alert({\r\n\t          content: '修改成功', \r\n\t          hideCancel: true\r\n\t        }).then(gotoList);\r\n\t      }, function(reason){\r\n\t        if(reason && reason.status == -1) {\r\n\t          reason = '您已离线';\r\n\t        }\r\n\t        $modalService.alert({content: reason});\r\n\t      });  \r\n\t    }\r\n\t  }\r\n\t\r\n\t  function gotoList(){\r\n\t    $state.go('tasksList');\r\n\t  }\r\n\t}\r\n\t\r\n\tmodule.exports = {\r\n\t  template: __webpack_require__(72),\r\n\t  controller: controller\r\n\t};\n\n/***/ },\n/* 72 */\n/***/ function(module, exports) {\n\n\tmodule.exports = \"<div class=\\\"well well-default\\\">\\r\\n  <form class=\\\"form-horizontal\\\" name=\\\"$ctrl.form\\\" novalidate style=\\\"max-width: 680px;\\\">\\r\\n    <formly-form model=\\\"$ctrl.model\\\" fields=\\\"$ctrl.fields\\\" form=\\\"$ctrl.form\\\" options=\\\"$ctrl.options\\\">\\r\\n    </formly-form>\\r\\n    <div class=\\\"text-right\\\">\\r\\n      <button type=\\\"submit\\\" class=\\\"btn btn-success\\\" xx-click=\\\"$ctrl.submit()\\\">保存</button>\\r\\n      <button type=\\\"button\\\" class=\\\"btn btn-default\\\" ng-click=\\\"$ctrl.options.resetModel()\\\">重置</button>  \\r\\n    </div>\\r\\n  </form>  \\r\\n</div>\"\n\n/***/ },\n/* 73 */\n/***/ function(module, exports, __webpack_require__) {\n\n\tcontroller.$inject = ['tasksService', '$timeout', '$q'];\r\n\tfunction controller(tasksService, $timeout, $q){\r\n\t  var $ctrl = this;\r\n\t \r\n\t  this.day = new Date();\r\n\t  this.maxDate = new Date(2016, 11,20);\r\n\t\r\n\t  this.range = {\r\n\t    min: new Date(2016, 10, 3),\r\n\t    max: new Date(2016, 10, 27)\r\n\t  };\r\n\t\r\n\t  $ctrl.click = function(){\r\n\t    console.log('controller: click');\r\n\t    // var deferred = $q.defer();\r\n\t    return $timeout(function(){\r\n\t      // deferred.resolve();\r\n\t    }, 1000).then(function(){\r\n\t      console.log('controller: resolve');\r\n\t    });\r\n\t    // return deferred.promise;\r\n\t  };\r\n\t\r\n\t  \r\n\t\r\n\t}\r\n\t\r\n\tmodule.exports = {\r\n\t  template: __webpack_require__(74),\r\n\t  controller: controller\r\n\t};\n\n/***/ },\n/* 74 */\n/***/ function(module, exports) {\n\n\tmodule.exports = \"<button class=\\\"btn btn-success\\\" xx-click=\\\"$ctrl.click()\\\">点击</button>\\r\\n\\r\\n<form action=\\\"\\\" class=\\\"form-horizontal\\\">\\r\\n  <datetime-picker ng-model=\\\"$ctrl.day\\\" max-date=\\\"$ctrl.maxDate\\\" mode=\\\"{{$ctrl.mode}}\\\"></datetime-picker>\\r\\n  <p>{{ $ctrl.day }}</p>\\r\\n\\r\\n  <datetime-range ng-model=\\\"$ctrl.range\\\" mode=\\\"{{$ctrl.mode}}\\\"></datetime-range>\\r\\n  <p>{{ $ctrl.range }}</p>\\r\\n</form>\\r\\n<button class=\\\"btn btn-primary\\\" ng-click=\\\"$ctrl.alert()\\\">打开</button>\\r\\n\"\n\n/***/ },\n/* 75 */\n/***/ function(module, exports) {\n\n\texports.taskListState = {\r\n\t  parent: 'app',\r\n\t  name: 'tasksList',\r\n\t  url: '/task',\r\n\t  title: '任务列表',\r\n\t  component: 'taskList'\r\n\t};\r\n\texports.newTaskState = {\r\n\t  parent: 'app',\r\n\t  name: 'newTask',\r\n\t  url: '/task/new',\r\n\t  title: '新建任务列表',\r\n\t  component: 'editTask'\r\n\t};\r\n\texports.editTaskState = {\r\n\t  parent: 'app',\r\n\t  name: 'editTask',\r\n\t  url: '/task/:taskId/edit',\r\n\t  title: '编辑任务列表',\r\n\t  component: 'editTask'\r\n\t};\r\n\texports.testState = {\r\n\t  parent: 'app',\r\n\t  name: 'test',\r\n\t  url: '/test',\r\n\t  title: '测试',\r\n\t  component: 'test'\r\n\t};\r\n\n\n/***/ },\n/* 76 */\n/***/ function(module, exports) {\n\n\ttasksService.$inject = ['$q', '$http', 'apiBaseUrl'];\r\n\tfunction tasksService($q, $http, apiBaseUrl){\r\n\t  \r\n\t  return {\r\n\t    getTasks: getTasks,\r\n\t    createTask: createTask,\r\n\t    editTask: editTask\r\n\t  };\r\n\t\r\n\t  function getTasks(params){\r\n\t    params = params || {};\r\n\t    return $http.get(apiBaseUrl + '/task/api/findtask', {params: params});\r\n\t  }\r\n\t\r\n\t  function createTask(_data){\r\n\t    var data = {\r\n\t      RuleGroupID: _data.RuleGroupID,\r\n\t      SiteID:      _data.SiteID,\r\n\t      StartDate:   _data.StartDate,\r\n\t      EndDate:     _data.EndDate\r\n\t    };\r\n\t    return $http.post(apiBaseUrl + '/task/api/task', data);\r\n\t  }\r\n\t\r\n\t  function editTask(_data) {\r\n\t    var data = {\r\n\t      HYUniqueID:  _data.TaskID,\r\n\t      StartDate:   _data.StartDate,\r\n\t      EndDate:     _data.EndDate\r\n\t    };\r\n\t    return $http.post(apiBaseUrl + '/task/api/task?method=1', data);\r\n\t  }\r\n\t}\r\n\t\r\n\texports.tasksService = tasksService;\n\n/***/ },\n/* 77 */\n/***/ function(module, exports, __webpack_require__) {\n\n\tvar newRuleComponent = __webpack_require__(78);\r\n\tvar newRuleListComponent = __webpack_require__(82);\r\n\tvar newRulesComponent = __webpack_require__(84);\r\n\tvar rulesListComponent = __webpack_require__(86);\r\n\tvar viewRulesComponent = __webpack_require__(88);\r\n\tvar viewRulesListComponent = __webpack_require__(92);\r\n\tvar importRulesComponent = __webpack_require__(94);\r\n\tvar importRulesModalComponent = __webpack_require__(96);\r\n\tvar states = __webpack_require__(98);\r\n\tvar configs = __webpack_require__(99);\r\n\tvar services = __webpack_require__(102);\r\n\t\r\n\tmodule.exports = {\r\n\t  components: {\r\n\t    rulesList: rulesListComponent,\r\n\t    viewRulesList: viewRulesListComponent,\r\n\t    viewRules: viewRulesComponent,\r\n\t    newRules: newRulesComponent,\r\n\t    newRuleList: newRuleListComponent,\r\n\t    newRule: newRuleComponent,\r\n\t    importRules: importRulesComponent,\r\n\t    importRulesModal: importRulesModalComponent,\r\n\t  },\r\n\t  states: [\r\n\t    states.rulesListState,\r\n\t    states.newRulesState,\r\n\t    states.newRuleListState,\r\n\t    states.newRuleState,\r\n\t    states.viewRulesListState,\r\n\t    states.viewRulesState,\r\n\t    states.importRuleState,\r\n\t  ],\r\n\t  factories: {\r\n\t    rulesService: services.rulesService\r\n\t  },\r\n\t  runBlocks: [ configs.runFormlyConfig ]\r\n\t};\n\n/***/ },\n/* 78 */\n/***/ function(module, exports, __webpack_require__) {\n\n\t__webpack_require__(79);\r\n\t\r\n\tcontroller.$inject = ['ruleTypes'];\r\n\tfunction controller(ruleTypes){\r\n\t  var $ctrl = this;\r\n\t  $ctrl.ruleTypes = ruleTypes;\r\n\t  // formly\r\n\t  $ctrl.fields = [];\r\n\t  $ctrl.formList = [];\r\n\t  $ctrl.addSection = addSection;\r\n\t  $ctrl.removeSection = removeSection;\r\n\t\r\n\t  // 测试用fields\r\n\t  $ctrl.fields = [{\r\n\t    key: 'test',\r\n\t    type: 'input2',\r\n\t    templateOptions: {\r\n\t      label: 'site ID/广告ID',\r\n\t      required: true\r\n\t    }\r\n\t  }, {\r\n\t    key: 'test2',\r\n\t    type: 'bindTag',\r\n\t    templateOptions: {\r\n\t      required: true\r\n\t    }\r\n\t  }];\r\n\t\r\n\t  addSection();\r\n\t  $ctrl.formList[0].model = {\r\n\t    // test2: [ \r\n\t    //   { \"weight\": \"1\", \"tagId\": 5, \"tagTitle\": \"eee\" },\r\n\t    //   { \"weight\": \"0.8\", \"tagId\": 6, \"tagTitle\": \"ee22e\" },\r\n\t    // ]\r\n\t  };\r\n\t\r\n\t\r\n\t  function addSection(){\r\n\t    $ctrl.formList.push({\r\n\t      options: {},\r\n\t      model: {},\r\n\t      fields: angular.copy($ctrl.fields)\r\n\t    });\r\n\t  }\r\n\t\r\n\t  function removeSection(index){\r\n\t    $ctrl.formList.splice(index, 1);\r\n\t  }\r\n\t\r\n\t}\r\n\t\r\n\tmodule.exports = {\r\n\t  template: __webpack_require__(81),\r\n\t  controller: controller\r\n\t};\n\n/***/ },\n/* 79 */\n/***/ function(module, exports) {\n\n\t// removed by extract-text-webpack-plugin\n\n/***/ },\n/* 80 */,\n/* 81 */\n/***/ function(module, exports) {\n\n\tmodule.exports = \"<div>\\r\\n\\t<div class=\\\"btn btn-default\\\">提交规则组</div>\\r\\n</div>\\r\\n<div class=\\\"well\\\" ng-repeat=\\\"form in $ctrl.formList track by $index\\\">\\r\\n\\t<button class=\\\"close\\\" ng-click=\\\"$ctrl.removeSection($index)\\\">&times;</button>\\r\\n\\t<form class=\\\"form-horizontal\\\" name=\\\"form.form\\\" novalidate style=\\\"max-width: 680px;\\\">\\r\\n\\t\\t<div class=\\\"text-right\\\">\\r\\n      <button class=\\\"btn btn-default\\\">保存</button>\\r\\n\\\"\\r\\n      <button class=\\\"btn btn-default\\\" ng-click=\\\"form.options.resetModel()\\\">清除规则</button>\\r\\n    </div>\\r\\n    <formly-form model=\\\"form.model\\\" fields=\\\"form.fields\\\" form=\\\"form.form\\\" options=\\\"form.options\\\">\\r\\n    </formly-form>\\r\\n  </form>\\t\\r\\n  <div>{{ form.model | json}}</div>\\r\\n</div>\\r\\n<div>\\r\\n\\t<button class=\\\"btn btn-default\\\" ng-click=\\\"$ctrl.addSection()\\\">\\r\\n\\t\\t<span class=\\\"glyphicon glyphicon-plus-sign\\\"></span>添加规则</button>\\r\\n</div>\"\n\n/***/ },\n/* 82 */\n/***/ function(module, exports, __webpack_require__) {\n\n\t__webpack_require__(79);\r\n\t\r\n\tcontroller.$inject = ['$state', 'rulesService'];\r\n\tfunction controller($state, rulesService){\r\n\t  var $ctrl = this;\r\n\t  $ctrl.ruleTypes = [];\r\n\t\r\n\t  var rulesId = $state.params.rulesId;\r\n\t  \r\n\t  getRule();\r\n\t  function getRule(){\r\n\t    rulesService.getRule(rulesId).then(function(data){\r\n\t      if(data) {\r\n\t\r\n\t        $ctrl.ruleTypes = rulesService.getRuleTypes(data.GroupType);\r\n\t\r\n\t        if($state.is('newRuleList') && $ctrl.ruleTypes.length) {\r\n\t          $state.go('newRule', { ruleType: $ctrl.ruleTypes[0].id });\r\n\t        }\r\n\t      }\r\n\t    });\r\n\t  }\r\n\t}\r\n\t\r\n\tmodule.exports = {\r\n\t  template: __webpack_require__(83),\r\n\t  controller: controller\r\n\t};\n\n/***/ },\n/* 83 */\n/***/ function(module, exports) {\n\n\tmodule.exports = \"<div class=\\\"new-rule\\\">\\r\\n\\t<div class=\\\"app-main-nav\\\">\\r\\n    <ul class=\\\"nav nav-pills nav-stacked\\\">\\r\\n      <li ui-sref-active=\\\"active\\\" ng-repeat=\\\"type in $ctrl.ruleTypes\\\">\\r\\n      \\t<a ui-sref=\\\"{ruleType: type.id}\\\">{{ type.title }}</a>\\r\\n      </li>\\r\\n    </ul>\\r\\n\\t</div>\\r\\n\\t<div class=\\\"app-main-content\\\">\\r\\n\\t\\t<ui-view class=\\\"app-ui-view\\\"></ui-view>\\r\\n\\t</div>\\r\\n</div>\"\n\n/***/ },\n/* 84 */\n/***/ function(module, exports, __webpack_require__) {\n\n\tcontroller.$inject = ['$state', 'rulesTypes', 'ruleTypes'];\r\n\tfunction controller($state, rulesTypes, ruleTypes){\r\n\t  var $ctrl = this;\r\n\t  $ctrl.options = {};\r\n\t  $ctrl.model = {\r\n\t    rulesType: rulesTypes[0].id\r\n\t  };\r\n\t\r\n\t  $ctrl.fields = [\r\n\t    {\r\n\t      key: 'rulesType',\r\n\t      type: 'select2',\r\n\t      templateOptions: {\r\n\t        label: '选择规则组类型',\r\n\t        valueProp: 'id',\r\n\t        labelProp: 'title',\r\n\t        options: rulesTypes,\r\n\t        required: true\r\n\t      }\r\n\t    },\r\n\t    {\r\n\t      key: 'asdf',\r\n\t      type: 'input2',\r\n\t      templateOptions: {\r\n\t        label: 'site ID（选填）',\r\n\t      }\r\n\t    },\r\n\t    {\r\n\t      key: 'ffff',\r\n\t      type: 'input2',\r\n\t      templateOptions: {\r\n\t        label: '规则组名称',\r\n\t        required: true\r\n\t      }\r\n\t    }\r\n\t  ];\r\n\t\r\n\t  $ctrl.go = function(){\r\n\t    $state.go('newRuleList', {rulesId: 'test'});\r\n\t  };\r\n\t}\r\n\t\r\n\tmodule.exports = {\r\n\t  template: __webpack_require__(85),\r\n\t  controller: controller\r\n\t};\n\n/***/ },\n/* 85 */\n/***/ function(module, exports) {\n\n\tmodule.exports = \"<div class=\\\"well well-default new-rules\\\">\\r\\n  <form class=\\\"form-horizontal\\\" ng-submit=\\\"$ctrl.onSubmit()\\\" name=\\\"$ctrl.form\\\" novalidate style=\\\"max-width: 680px;\\\">\\r\\n    <formly-form model=\\\"$ctrl.model\\\" fields=\\\"$ctrl.fields\\\" form=\\\"$ctrl.form\\\" options=\\\"$ctrl.options\\\">\\r\\n    </formly-form>\\r\\n    <div class=\\\"row\\\">\\r\\n      <div class=\\\"col-sm-8 col-sm-offset-4\\\">\\r\\n        <button type=\\\"submit\\\" class=\\\"btn btn-success\\\" ng-disabled=\\\"$ctrl.form.$invalid\\\">下一步</button>\\r\\n        创建规则组，去设置标签规则\\r\\n      </div>\\r\\n    </div>\\r\\n  </form>\\r\\n  <p><a ng-click=\\\"$ctrl.go()\\\">测试用：创建规则</a></p>\\r\\n</div>\\r\\n\"\n\n/***/ },\n/* 86 */\n/***/ function(module, exports, __webpack_require__) {\n\n\tcontroller.$inject = ['rulesService', 'store'];\r\n\tfunction controller(rulesService, store){\r\n\t  var $ctrl = this;\r\n\t  $ctrl.store = store;\r\n\t\r\n\t  $ctrl.data = [];\r\n\t  $ctrl.rulesTitles = [\r\n\t    { id: 0, title: '加入任务-未开启' },\r\n\t    { id: 1, title: '加入任务-执行中' },\r\n\t    { id: 2, title: '加入任务-暂停中' },\r\n\t    { id: 3, title: '加入任务-已结束' },\r\n\t    { id: 4, title: '未加入任务' }\r\n\t  ];\r\n\t\r\n\t  // xx-table配置\r\n\t  var baseTableConfig = {\r\n\t    data: [],\r\n\t    firstUpdate: true,\r\n\t    columns: [\r\n\t      {\r\n\t        head: 'site ID/广告ID',\r\n\t        data: '{{ row.SiteID }}'\r\n\t      }, {\r\n\t        head: '规则组名称',\r\n\t        data: '<a ui-sref=\"viewRules({rulesId: row.RuleGroupID})\">{{ row.RuleGroupName }}</a>'\r\n\t      }, {\r\n\t        head: '规则组类型',\r\n\t        data: '{{ row.RuleGroupType }}'\r\n\t      }, {\r\n\t        head: '创建时间',\r\n\t        data: '{{ row.CreateTime | date2 }}'\r\n\t      }, {\r\n\t        head: '加入任务时间',\r\n\t        data: '{{ row.JoinTaskTime | date2 }}'\r\n\t      }, {\r\n\t        hide: store.hideEditArea,\r\n\t        head: ' ',\r\n\t        data: '<a href=\"\">复制规则组</a><br><a href=\"\">导入规则组</a>'\r\n\t      }\r\n\t    ]\r\n\t  };\r\n\t  $ctrl.tableConfigs = [];\r\n\t\r\n\t  $ctrl.rulesTitles.forEach(function(rules, index){\r\n\t    var getData = createGetData(rules.id, index);\r\n\t    $ctrl.tableConfigs[index] = angular.extend({}, baseTableConfig, {\r\n\t      getData: getData\r\n\t    });\r\n\t  });\r\n\t\r\n\t  function createGetData(status, index){\r\n\t    return function(){\r\n\t      return rulesService.getRules({ Status: status });\r\n\t    };\r\n\t  }\r\n\t}\r\n\t\r\n\tmodule.exports = {\r\n\t  template: __webpack_require__(87),\r\n\t  controller: controller\r\n\t};\n\n/***/ },\n/* 87 */\n/***/ function(module, exports) {\n\n\tmodule.exports = \"<div class=\\\"rules-list\\\">\\r\\n  <div ng-repeat=\\\"rules in $ctrl.rulesTitles\\\">\\r\\n    <div class=\\\"panel panel-default\\\" ng-init=\\\"rules.isCollapsed=false\\\">\\r\\n      <div class=\\\"panel-heading\\\">\\r\\n        {{ rules.title }}\\r\\n        <button class=\\\"btn btn-link pull-right\\\" ng-click=\\\"rules.isCollapsed = !rules.isCollapsed\\\">\\r\\n          <span class=\\\"glyphicon\\\" ng-class=\\\"{'glyphicon-menu-down': rules.isCollapsed, 'glyphicon-menu-up': !rules.isCollapsed}\\\"></span>\\r\\n        </button>\\r\\n      </div>\\r\\n      <div uib-collapse=\\\"rules.isCollapsed\\\">\\r\\n        <div class=\\\"panel-body\\\">\\r\\n          <xx-table config=\\\"$ctrl.tableConfigs[$index]\\\"></xx-table>\\r\\n          <!-- <table class=\\\"table table-bordered table-hover\\\">\\r\\n            <thead class=\\\"bg-default\\\">\\r\\n              <tr>\\r\\n                <td>site ID/广告ID</td>\\r\\n                <td>规则组名称</td>\\r\\n                <td>规则组类型</td>\\r\\n                <td>创建时间</td>\\r\\n                <td>加入任务时间</td>\\r\\n                <td ng-hide=\\\"$ctrl.store.hideEditArea\\\">&nbsp;</td>\\r\\n              </tr>\\r\\n            </thead>\\r\\n            <tbody>\\r\\n              <tr ng-repeat=\\\"row in $ctrl.data[$index]\\\">\\r\\n                <td>{{ row.SiteID }}</td>\\r\\n                <td>{{ row.RuleGroupName }}</td>\\r\\n                <td>{{ row.RuleGroupType }}</td>\\r\\n                <td>{{ row.CreateTime | date2 }}</td>\\r\\n                <td>{{ row.CreateTaskTime | date2 }}</td>\\r\\n                <td ng-hide=\\\"$ctrl.store.hideEditArea\\\">\\r\\n                  <a href=\\\"\\\">复制规则组</a>\\r\\n                  <br>\\r\\n                  <a href=\\\"\\\">导入规则组</a>\\r\\n                </td>\\r\\n              </tr>\\r\\n              <tr ng-if=\\\"!$ctrl.data[$index].length\\\">\\r\\n                <td colspan=\\\"6\\\" class=\\\"text-center\\\">空</td>\\r\\n              </tr>\\r\\n            </tbody>\\r\\n          </table>   -->\\r\\n        </div>\\r\\n      </div>\\r\\n    </div>\\r\\n  </div>\\r\\n</div>\"\n\n/***/ },\n/* 88 */\n/***/ function(module, exports, __webpack_require__) {\n\n\t__webpack_require__(89);\r\n\t\r\n\tcontroller.$inject = ['$state', 'rulesService', 'store'];\r\n\tfunction controller($state, rulesService, store){\r\n\t  var $ctrl = this;\r\n\t  $ctrl.data = {};\r\n\t  $ctrl.ruleTypes = [];\r\n\t  $ctrl.store = store;\r\n\t\r\n\t  var rulesId = $state.params.rulesId;\r\n\t  console.log('enter view-rules');\r\n\t\r\n\t  // xx-table配置\r\n\t  var baseTableConfig = {\r\n\t    data: [],\r\n\t    columns: [\r\n\t      {\r\n\t        head: 'Key',\r\n\t        data: '<span uib-tooltip-html=\"row.Tips\">{{ row.Key }}</span>'\r\n\t      }, {\r\n\t        head: 'Tag',\r\n\t        data: '<div ng-bind-html=\"row.Tag\"></div>'\r\n\t      }, {\r\n\t        head: '权重',\r\n\t        data: '{{ row.Weight }}'\r\n\t      }, {\r\n\t        head: '执行次数',\r\n\t        data: '{{ row.ExecCount }}'\r\n\t      }, {\r\n\t        hide: store.hideEditArea,\r\n\t        head: '状态 <button class=\"btn btn-sm btn-success\" ng-hide=\"$ctrl.store.hideEditArea\">保存</button>',\r\n\t        data: '{{ row.Status }}'\r\n\t      }\r\n\t    ]\r\n\t  };\r\n\t\r\n\t  getRule();\r\n\t  function getRule(){\r\n\t    rulesService.getRule(rulesId).then(function(data){\r\n\t      if(data) {\r\n\t        $ctrl.data = data;\r\n\t        store.viewRulesType = data.GroupStatus == '已加入任务' ? 1 : 4;\r\n\t\r\n\t        $ctrl.ruleTypes = rulesService.getRuleTypes(data.GroupType);\r\n\t        (data.Module || []).forEach(function(module){\r\n\t          var type = $ctrl.ruleTypes.find(function(type){\r\n\t            return type.title == module.Name;\r\n\t          });\r\n\t          console.log(module.Name);\r\n\t          if(type) {\r\n\t            type.rules = (type.rules || []).concat(module.Content);\r\n\t            // type.rules = module.Content;\r\n\t          }\r\n\t        });\r\n\t\r\n\t        $ctrl.tableConfigs = $ctrl.ruleTypes.map(function(type, index){\r\n\t          return angular.extend({}, baseTableConfig, {\r\n\t            data: type.rules || []\r\n\t          });\r\n\t        });\r\n\t      }\r\n\t    });\r\n\t  }\r\n\t}\r\n\t\r\n\tmodule.exports = {\r\n\t  template: __webpack_require__(91),\r\n\t  controller: controller\r\n\t};\n\n/***/ },\n/* 89 */\n/***/ function(module, exports) {\n\n\t// removed by extract-text-webpack-plugin\n\n/***/ },\n/* 90 */,\n/* 91 */\n/***/ function(module, exports) {\n\n\tmodule.exports = \"<div class=\\\"view-rules\\\">\\r\\n  <div class=\\\"clearfix\\\">\\r\\n    <button class=\\\"btn btn-success pull-right\\\">导出规则组</button>\\r\\n  </div>\\r\\n  <dl class=\\\"dl-horizontal\\\">\\r\\n    <dt>规则组类型：</dt>\\r\\n    <dd>{{ $ctrl.data.GroupType }}</dd>\\r\\n    <dt>site ID：</dt>\\r\\n    <dd>{{ $ctrl.data.SiteID }}</dd>\\r\\n    <dt>规则组名称：</dt>\\r\\n    <dd>{{ $ctrl.data.GroupName }}</dd>\\r\\n    <dt>规则组状态：</dt>\\r\\n    <dd>{{ $ctrl.data.GroupStatus }}</dd>\\r\\n    <dt>加入任务时间：</dt>\\r\\n    <dd>{{ $ctrl.data.JoinTaskTime | date2 }}</dd>\\r\\n    <dt>创建时间：</dt>\\r\\n    <dd>{{ $ctrl.data.CreateTime | date2 }}</dd>\\r\\n  </dl>  \\r\\n  <div ng-repeat=\\\"ruleType in $ctrl.ruleTypes\\\">\\r\\n    <div class=\\\"panel panel-default\\\" ng-init=\\\"ruleType.isCollapsed=false\\\" ng-show=\\\"ruleType.rules.length\\\">\\r\\n      <div class=\\\"panel-heading\\\">\\r\\n        {{ ruleType.title }}\\r\\n        <button class=\\\"btn btn-link pull-right\\\" ng-click=\\\"ruleType.isCollapsed = !ruleType.isCollapsed\\\">\\r\\n          <span class=\\\"glyphicon\\\" ng-class=\\\"{'glyphicon-menu-down': ruleType.isCollapsed, 'glyphicon-menu-up': !ruleType.isCollapsed}\\\"></span>\\r\\n        </button>\\r\\n        <button class=\\\"btn btn-sm btn-success pull-right\\\" ng-hide=\\\"$ctrl.store.hideEditArea\\\">添加规则</button>\\r\\n      </div>\\r\\n      <div uib-collapse=\\\"ruleType.isCollapsed\\\">\\r\\n        <div class=\\\"panel-body\\\">\\r\\n          <xx-table config=\\\"$ctrl.tableConfigs[$index]\\\"></xx-table>\\r\\n          <!-- <table class=\\\"table table-bordered table-hover\\\">\\r\\n            <thead class=\\\"bg-default\\\">\\r\\n              <tr>\\r\\n                <td>Key</td>\\r\\n                <td>Tag</td>\\r\\n                <td>权重</td>\\r\\n                <td>执行次数</td>\\r\\n                <td>\\r\\n                  状态\\r\\n                  <button class=\\\"btn btn-sm btn-success\\\" ng-hide=\\\"$ctrl.store.hideEditArea\\\">保存</button>\\r\\n                </td>\\r\\n              </tr>\\r\\n            </thead>\\r\\n            <tbody>\\r\\n              <tr ng-repeat=\\\"row in ruleType.rules\\\">\\r\\n                <td>\\r\\n                  <span uib-tooltip-html=\\\"row.Tips\\\">{{ row.Key }}</span>\\r\\n                </td>\\r\\n                <td ng-bind-html=\\\"row.Tag\\\"></td>\\r\\n                <td>{{ row.Weight }}</td>\\r\\n                <td>{{ row.ExecCount }}</td>\\r\\n                <td>\\r\\n                  {{ row.Status }}\\r\\n                </td>\\r\\n              </tr>\\r\\n              <tr ng-if=\\\"!ruleType.rules.length\\\">\\r\\n                <td colspan=\\\"5\\\" class=\\\"text-center\\\">空</td>\\r\\n              </tr>\\r\\n            </tbody>\\r\\n          </table>   -->\\r\\n        </div>\\r\\n      </div>\\r\\n    </div>\\r\\n  </div>\\r\\n</div>\\r\\n\"\n\n/***/ },\n/* 92 */\n/***/ function(module, exports, __webpack_require__) {\n\n\tcontroller.$inject = ['$rootScope', '$scope', '$state', '$transitions', 'rulesService', 'store'];\r\n\tfunction controller($rootScope, $scope, $state, $transitions, rulesService, store){\r\n\t  var $ctrl = this;\r\n\t  $ctrl.data = [];\r\n\t  $ctrl.store = store;\r\n\t  $ctrl.showNav = false;\r\n\t  $ctrl.currentId = '';\r\n\t\r\n\t  console.log('enter view rules list');\r\n\t  rulesService.getRules({ Status: 1 }).then(function(data){\r\n\t    $ctrl.data = data || [];\r\n\t    $ctrl.data.forEach(function(rules){\r\n\t      var title = '';\r\n\t      if(rules.SiteID) {\r\n\t        title += rules.SiteID + ' - ';\r\n\t      }\r\n\t      title += rules.RuleGroupName;\r\n\t      rules.title = title;\r\n\t    });\r\n\t    init();\r\n\t  });\r\n\t\r\n\t  var deregister = $transitions.onSuccess({}, function(){\r\n\t    // console.log('view rules list on success');\r\n\t    init();\r\n\t  });\r\n\t  // console.log(deregister);\r\n\t  $ctrl.$onDestroy = function(){\r\n\t    deregister();\r\n\t  };\r\n\t\r\n\t  $scope.$watch('$ctrl.currentId', function(){\r\n\t    if($ctrl.currentId) {\r\n\t      $state.go('viewRules', { \r\n\t        rulesId: $ctrl.currentId\r\n\t      });\r\n\t    }\r\n\t  })\r\n\t\r\n\t  console.log($scope);\r\n\t\r\n\t  // init();\r\n\t  function init(){\r\n\t    if($state.is('viewRules')) {\r\n\t      var rulesId = $state.params.rulesId;\r\n\t      var index = $ctrl.data.findIndex(function(rules){\r\n\t        return rulesId == rules.RuleGroupID;\r\n\t      });\r\n\t      $ctrl.showNav = index >= 0;\r\n\t      $ctrl.currentId = rulesId;\r\n\t    } else {\r\n\t      // 列表页 自动跳转到第一个\r\n\t      $ctrl.showNav = true;\r\n\t      if($ctrl.data.length) {\r\n\t        $ctrl.currentId = $ctrl.data[0].RuleGroupID;\r\n\t        $state.go('viewRules', { \r\n\t          rulesId: $ctrl.data[0].RuleGroupID\r\n\t        });\r\n\t      }\r\n\t    }\r\n\t    $rootScope.$emit('VIEW_RULES_TYPE', $ctrl.showNav ? 1 : 2);\r\n\t  }\r\n\t}\r\n\t\r\n\tmodule.exports = {\r\n\t  template: __webpack_require__(93),\r\n\t  controller: controller\r\n\t};\n\n/***/ },\n/* 93 */\n/***/ function(module, exports) {\n\n\tmodule.exports = \"<ui-select ng-model=\\\"$ctrl.currentId\\\"\\r\\n       theme=\\\"bootstrap\\\"\\r\\n       reset-search-input=\\\"false\\\"\\r\\n       title=\\\"\\\">\\r\\n  <ui-select-match allow-clear=\\\"false\\\">{{$select.selected.title}}</ui-select-match>\\r\\n  <ui-select-choices repeat=\\\"row.RuleGroupID as row in $ctrl.data | filter: $select.search\\\">\\r\\n    <div>{{ row.title }}</div>\\r\\n  </ui-select-choices>\\r\\n</ui-select>\\r\\n<div style=\\\"height:15px;\\\"></div>\\r\\n<!-- <ul class=\\\"nav nav-tabs\\\" style=\\\"margin-bottom:-1px;\\\" ng-show=\\\"$ctrl.showNav\\\">\\r\\n  <li ng-repeat=\\\"row in $ctrl.data track by $index\\\" ui-sref-active=\\\"active\\\">\\r\\n    <a ui-sref=\\\"viewRules({ rulesId: row.RuleGroupID })\\\">\\r\\n      <span ng-hide=\\\"!row.SiteID\\\">\\r\\n        {{ row.SiteID }}-\\r\\n      </span>\\r\\n      {{ row.RuleGroupName }}\\r\\n    </a>\\r\\n  </li>\\r\\n</ul> -->\\r\\n<div class=\\\"panel panel-default\\\">\\r\\n  <div class=\\\"panel-body\\\">\\r\\n    <ui-view></ui-view>\\r\\n  </div>\\r\\n</div>\"\n\n/***/ },\n/* 94 */\n/***/ function(module, exports, __webpack_require__) {\n\n\tcontroller.$inject = ['$uibModal', 'rulesService'];\r\n\tfunction controller($uibModal, rulesService){\r\n\t\r\n\t  var $ctrl = this;\r\n\t  $ctrl.selectFile = selectFile;\r\n\t  $ctrl.showImportModal = showImportModal;\r\n\t\r\n\t  $ctrl.errMsg = '';\r\n\t  $ctrl.succMsg = '';\r\n\t  $ctrl.uploading = false;\r\n\t\r\n\t  function selectFile(file){\r\n\t    if($ctrl.uploading) {\r\n\t      return;\r\n\t    }\r\n\t    $ctrl.errMsg = '';\r\n\t    $ctrl.succMsg = '';\r\n\t    $ctrl.uploading = true;\r\n\t    rulesService.importFile(file)\r\n\t    .then(function(data){\r\n\t      $ctrl.uploading = false;\r\n\t      $ctrl.succMsg = data.Information;\r\n\t    }, function(reason){\r\n\t      $ctrl.uploading = false;\r\n\t      $ctrl.errMsg = reason;\r\n\t    });\r\n\t  }\r\n\t  function showImportModal() {\r\n\t    var modalInstance = $uibModal.open({\r\n\t      size: '400',\r\n\t      component: 'importRulesModal',\r\n\t    });\r\n\t    modalInstance.result.then(function(file){\r\n\t      console.log('xxxxxxxxxxxxxx');\r\n\t      console.log(file);\r\n\t    });\r\n\t  }\r\n\t\r\n\t}\r\n\t\r\n\tmodule.exports = {\r\n\t  template: __webpack_require__(95),\r\n\t  controller: controller\r\n\t};\n\n/***/ },\n/* 95 */\n/***/ function(module, exports) {\n\n\tmodule.exports = \"<div style=\\\"min-height: 200px;\\\">\\r\\n  <!-- 打开弹窗选择文件 -->\\r\\n  <p class=\\\"hide\\\">\\r\\n    <button class=\\\"btn btn-primary\\\" ng-click=\\\"$ctrl.showImportModal()\\\">\\r\\n      导入规则组\\r\\n    </button>\\r\\n  </p>\\r\\n  <!-- 直接选择文件 -->\\r\\n  <p>\\r\\n    <input-file class=\\\"btn btn-primary\\\" on-change=\\\"$ctrl.selectFile(file)\\\" accept=\\\".xls,.xlsx\\\" ng-disabled=\\\"$ctrl.uploading\\\"> \\r\\n      选择文件\\r\\n    </input-file>\\r\\n  </p>\\r\\n  <p class=\\\"text-warn hide\\\">\\r\\n    数据上传中47%\\r\\n  </p>\\r\\n  <p ng-show=\\\"$ctrl.succMsg\\\">\\r\\n    导入成功：{{ $ctrl.succMsg }}\\r\\n    <a>查看规则组详情&gt;&gt;</a>\\r\\n  </p>\\r\\n  <p ng-show=\\\"$ctrl.errMsg\\\">\\r\\n    导入失败：{{ $ctrl.errMsg }}\\r\\n  </p>\\r\\n</div>\\r\\n<div class=\\\"hide\\\">\\r\\n  <h5>导入规则组历史</h5>\\r\\n  <div class=\\\"hr\\\"></div>\\r\\n  <div style=\\\"text-align:center;line-height:200px;\\\">暂无导入规则组历史</div>\\r\\n  <table class=\\\"table table-bordered table-hover\\\">\\r\\n    <thead class=\\\"bg-default\\\">\\r\\n      <tr>\\r\\n        <th>导入时间</th>\\r\\n        <th>导入结果</th>\\r\\n        <th>规则组名称</th>\\r\\n        <th>规则模块</th>\\r\\n      </tr>\\r\\n    </thead>\\r\\n    <tbody>\\r\\n      <tr>\\r\\n        <td>2016-10-27  10:55:23</td>\\r\\n        <td>导入失败</td>\\r\\n        <td>Arla官网打标签规则</td>\\r\\n        <td>点击</td>\\r\\n      </tr>\\r\\n    </tbody>\\r\\n  </table>\\r\\n</div>\"\n\n/***/ },\n/* 96 */\n/***/ function(module, exports, __webpack_require__) {\n\n\tcontroller.$inject = ['$scope'];\r\n\tfunction controller($scope){\r\n\t\r\n\t  var $ctrl = this;\r\n\t\r\n\t  var testData = [\r\n\t    {\r\n\t      \"id\": 1,\r\n\t      \"label\":\"Option 1\"\r\n\t    },\r\n\t    {\r\n\t      \"id\": 2,\r\n\t      \"label\":\"Option 2\"\r\n\t    },\r\n\t    {\r\n\t      \"id\": 3,\r\n\t      \"label\":\"Option 3\"\r\n\t    }\r\n\t  ];\r\n\t\r\n\t  var modulesOptions = [\r\n\t    { id: 1, label: '页面'},\r\n\t    { id: 2, label: '点击'},\r\n\t    { id: 3, label: '订单'},\r\n\t    { id: 4, label: '购物车'},\r\n\t    { id: 5, label: '会员'},\r\n\t    { id: 6, label: '微信'},\r\n\t    { id: 7, label: '会员积分'},\r\n\t    { id: 8, label: '搜索'},\r\n\t    { id: 9, label: '活动'},\r\n\t    { id: 10, label: '优惠卷'},\r\n\t    { id: 11, label: '中奖'},\r\n\t    { id: 12, label: '答题'}\r\n\t  ];\r\n\t\r\n\t  $ctrl.model = {\r\n\t    selectRules: testData[0].id,\r\n\t    selectModule: modulesOptions[0].id,\r\n\t  };\r\n\t  \r\n\t  $ctrl.options = {\r\n\t\r\n\t  };\r\n\t\r\n\t  $ctrl.fields = [{\r\n\t    key: 'selectRules',\r\n\t    type: 'select2',\r\n\t    templateOptions: {\r\n\t      label: '选择标签规则组',\r\n\t      valueProp: 'id',\r\n\t      labelProp: 'label',\r\n\t      options: testData,\r\n\t      required: true\r\n\t    }\r\n\t  }, {\r\n\t    key: 'selectModule',\r\n\t    type: 'select2',\r\n\t    templateOptions: {\r\n\t      label: '选择网站模块',\r\n\t      valueProp: 'id',\r\n\t      labelProp: 'label',\r\n\t      options: modulesOptions,\r\n\t      required: true\r\n\t    }\r\n\t  }];\r\n\t\r\n\t  $ctrl.selectFile = function(file){\r\n\t    $ctrl.close({$value: file});\r\n\t  }\r\n\t\r\n\t}\r\n\t\r\n\tmodule.exports = {\r\n\t  template: __webpack_require__(97),\r\n\t  controller: controller,\r\n\t  bindings: {\r\n\t    resolve: '<',\r\n\t    close: '&',\r\n\t    dismiss: '&'\r\n\t  }\r\n\t};\n\n/***/ },\n/* 97 */\n/***/ function(module, exports) {\n\n\tmodule.exports = \"<div class=\\\"modal-body\\\">\\r\\n  <form class=\\\"form-horizontal\\\" name=\\\"$ctrl.form\\\" novalidate>\\r\\n    <formly-form model=\\\"$ctrl.model\\\" fields=\\\"$ctrl.fields\\\" form=\\\"$ctrl.form\\\" options=\\\"$ctrl.options\\\">\\r\\n  </formly-form>\\r\\n  </form>\\r\\n</div>\\r\\n<div class=\\\"modal-footer\\\">\\r\\n  <input-file class=\\\"btn btn-primary\\\" on-change=\\\"$ctrl.selectFile(file)\\\">选择文件</input-file>\\r\\n  <button class=\\\"btn btn-default\\\" type=\\\"button\\\" ng-click=\\\"$ctrl.dismiss();\\\">取消</button>\\r\\n</div>\"\n\n/***/ },\n/* 98 */\n/***/ function(module, exports) {\n\n\texports.rulesListState = {\r\n\t  parent: 'app',\r\n\t  name: 'rulesList',\r\n\t  url: '/rules',\r\n\t  title: '规则组列表',\r\n\t  component: 'rulesList'\r\n\t};\r\n\texports.newRulesState = {\r\n\t  parent: 'app',\r\n\t  name: 'newRules',\r\n\t  url: '/rules/new',\r\n\t  title: '新建规则组',\r\n\t  component: 'newRules'\r\n\t};\r\n\texports.viewRulesListState = {\r\n\t  parent: 'app',\r\n\t  name: 'viewRulesList',\r\n\t  url: '/rules/view',\r\n\t  title: '规则组详情',\r\n\t  component: 'viewRulesList'\r\n\t};\r\n\texports.viewRulesState = {\r\n\t  parent: 'viewRulesList',\r\n\t  name: 'viewRules',\r\n\t  url: '/:rulesId',\r\n\t  title: '规则组详情',\r\n\t  component: 'viewRules'\r\n\t};\r\n\texports.newRuleListState = {\r\n\t  parent: 'app',\r\n\t  name: 'newRuleList',\r\n\t  url: '/rules/:rulesId/rule',\r\n\t  title: '新建规则组',\r\n\t  component: 'newRuleList'\r\n\t};\r\n\texports.newRuleState = {\r\n\t  parent: 'newRuleList',\r\n\t  name: 'newRule',\r\n\t  url: '/:ruleType',\r\n\t  title: '新建规则组',\r\n\t  component: 'newRule'\r\n\t};\r\n\texports.importRuleState = {\r\n\t  parent: 'app',\r\n\t  name: 'importRules',\r\n\t  url: '/rule/import',\r\n\t  title: '导入规则组',\r\n\t  component: 'importRules'\r\n\t};\r\n\n\n/***/ },\n/* 99 */\n/***/ function(module, exports, __webpack_require__) {\n\n\texports.runFormlyConfig = ['formlyConfig', 'formlyValidationMessages',\r\n\t function(formlyConfig, formlyValidationMessages){\r\n\t\r\n\t  formlyConfig.setType(__webpack_require__(100));\r\n\t\r\n\t}];\n\n/***/ },\n/* 100 */\n/***/ function(module, exports, __webpack_require__) {\n\n\tmodule.exports = {\r\n\t  name: 'bindTag',\r\n\t  template: __webpack_require__(101),\r\n\t  defaultOptions: {\r\n\t    noFormControl: true,\r\n\t    wrapper: ['bootstrapLabel', 'bootstrapHasError']\r\n\t  },\r\n\t  controller: ['$scope', '$timeout', function($scope, $timeout) {\r\n\t    $scope.copyItemOptions = copyItemOptions;\r\n\t    $scope.selectTag = selectTag;\r\n\t\r\n\t    // 独立表单\r\n\t    $scope.hideModel = {}; // 存放search\r\n\t    $scope.hideFields = [{\r\n\t      key: 'search',\r\n\t      type: 'uiSelectAsync2',\r\n\t      templateOptions: {\r\n\t        // angular 1.4+ 只允许select使用ng-options\r\n\t        // 所以必须显示设定替代的bs-options\r\n\t        optionsAttr: 'bs-options',\r\n\t        label: '关联标签',\r\n\t        options: [],\r\n\t        valueProp: 'id',\r\n\t        labelProp: 'title',\r\n\t        refresh: search,\r\n\t        refreshDelay: 100\r\n\t      }\r\n\t    }];\r\n\t    var options;\r\n\t\r\n\t    var model = $scope.model;\r\n\t    var key = $scope.options.key;\r\n\t\r\n\t    $scope.$watch('hideModel.search', function(val){\r\n\t      if(!options) {\r\n\t        return;\r\n\t      }\r\n\t      options.forEach(function(option, index){\r\n\t        if(option.id === val) {\r\n\t          selectTag(option);\r\n\t        }\r\n\t      });\r\n\t    });\r\n\t\r\n\t\r\n\t    function copyItemOptions(index) {\r\n\t      return { \r\n\t        // model.key[0].weight\r\n\t        key: key + '[' + index + '].weight', \r\n\t        type: 'input',\r\n\t        className: 'no-label',\r\n\t        templateOptions: {\r\n\t          required: true\r\n\t        } \r\n\t      };\r\n\t    }\r\n\t\r\n\t    function search(keyword, field){\r\n\t      return $timeout(function(){\r\n\t        options = field.templateOptions.options = [\r\n\t          { id: 1, title: 'aaa' },\r\n\t          { id: 2, title: 'bbb' },\r\n\t          { id: 3, title: 'ccc' },\r\n\t          { id: 4, title: 'ddd' },\r\n\t          { id: 5, title: 'eee' },\r\n\t          { id: 6, title: 'fff' }\r\n\t        ];\r\n\t      }, 1000);\r\n\t    }\r\n\t\r\n\t    function selectTag(tag){\r\n\t      model[key] = model[key] || [];\r\n\t      model[key].push({\r\n\t        weight: '',\r\n\t        tagId: tag.id,\r\n\t        tagTitle: tag.title\r\n\t      });\r\n\t    }\r\n\t  }]\r\n\t};\n\n/***/ },\n/* 101 */\n/***/ function(module, exports) {\n\n\tmodule.exports = \"<div class=\\\"col-xs-12\\\">\\r\\n  <formly-form fields=\\\"hideFields\\\" model=\\\"hideModel\\\">\\r\\n  </formly-form>\\r\\n  <div ng-show=\\\"model[options.key].length\\\">\\r\\n    <div class=\\\"clearfix text-center\\\" style=\\\"margin-bottom:15px\\\">\\r\\n      <div class=\\\"col-xs-4\\\">权重</div>\\r\\n      <div class=\\\"col-xs-8\\\">已选标签</div>\\r\\n    </div>\\r\\n    <div class=\\\"clearfix\\\"\\r\\n         ng-repeat=\\\"item in model[options.key] track by $index\\\"\\r\\n         ng-init=\\\"itemOptions = copyItemOptions($index)\\\">\\r\\n      <div class=\\\"col-xs-4\\\">\\r\\n        <formly-field class=\\\"no-padding\\\"\\r\\n                      options=\\\"itemOptions\\\"\\r\\n                      model=\\\"model\\\"\\r\\n                      form=\\\"form\\\">\\r\\n        </formly-field>\\r\\n      </div>\\r\\n      <div class=\\\"col-xs-8\\\" style=\\\"line-height: 32px;\\\">\\r\\n        <div>\\r\\n          {{ model[options.key][$index].tagTitle }}\\r\\n          <a ng-click=\\\"model[options.key].splice($index, 1)\\\">\\r\\n            <span class=\\\"glyphicon glyphicon-trash\\\"></span>\\r\\n          </a>\\r\\n        </div>\\r\\n      </div>\\r\\n    </div>  \\r\\n  </div>\\r\\n</div>\"\n\n/***/ },\n/* 102 */\n/***/ function(module, exports) {\n\n\trulesService.$inject = ['$q', '$http', 'apiBaseUrl', 'rulesTypes'];\r\n\tfunction rulesService($q, $http, apiBaseUrl, rulesTypes){\r\n\t  \r\n\t  return {\r\n\t    getRules: getRules,\r\n\t    getRule: getRule,\r\n\t    getRuleTypes: getRuleTypes,\r\n\t    importFile: importFile\r\n\t  };\r\n\t\r\n\t  // { Status: status }\r\n\t  function getRules(params){\r\n\t    params = params || {};\r\n\t    return $http.get(apiBaseUrl + '/task/api/findrulegroup', {params: params});\r\n\t  }\r\n\t\r\n\t  function getRule(id){\r\n\t    return $http.get(apiBaseUrl + '/task/api/TaskDetail/' + id);\r\n\t\r\n\t    var data = {\r\n\t      \"GroupType\":\"网站\",\r\n\t      \"SiteID\":\"1700\",\r\n\t      \"GroupName\":\"奶芙官网打标签规则\",\r\n\t      \"GroupStatus\":\"已加入任务\",\r\n\t      \"JoinTaskTime\":\"2016-10-10 12:22:05\",\r\n\t      \"CreateTime\":\"2016-10-08 15:09:24\",\r\n\t      \"Module\": [\r\n\t        {\r\n\t          \"Name\":\"页面\",\r\n\t          \"Content\":\r\n\t            [\r\n\t              {\r\n\t                \"ID\":\"53b9f64b-abd5-11e6-8096-06fab88a43c3\",\r\n\t                \"Key\":\"点击首页-立即购买\",\r\n\t                \"Tag\":\"树1-树2-树3-奶芙爱好者<br>树1-树2-树3-树4-轻食爱好者\",\r\n\t                \"Weight\":0.1,\r\n\t                \"ExecCount\":5,\r\n\t                \"Status\":\"启用\"\r\n\t              },\r\n\t              {\r\n\t                \"ID\":\"53b9f64b-abd5-11e6-8096-06fab88a43c3\",\r\n\t                \"Key\":\"点击首页-立即购买\",\r\n\t                \"Tag\":\"树1-树2-树3-奶芙爱好者<br>树1-树2-树3-树4-轻食爱好者\",\r\n\t                \"Weight\":0.1,\r\n\t                \"ExecCount\":5,\r\n\t                \"Status\":\"启用\"\r\n\t              }\r\n\t            ]\r\n\t        },\r\n\t        {\r\n\t          \"Name\":\"订单\",\r\n\t          \"Content\":\r\n\t            [\r\n\t              {\r\n\t                \"ID\":\"53b9f64b-abd5-11e6-8096-06fab88a43c3\",\r\n\t                \"Key\":\"点击首页-立即购买\",\r\n\t                \"Tag\":\"树1-树2-树3-奶芙爱好者<br>树1-树2-树3-树4-轻食爱好者\",\r\n\t                \"Weight\":0.1,\r\n\t                \"ExecCount\":5,\r\n\t                \"Status\":\"启用\"\r\n\t              },\r\n\t              {\r\n\t                \"ID\":\"53b9f64b-abd5-11e6-8096-06fab88a43c3\",\r\n\t                \"Key\":\"点击首页-立即购买\",\r\n\t                \"Tag\":\"树1-树2-树3-奶芙爱好者<br>树1-树2-树3-树4-轻食爱好者\",\r\n\t                \"Weight\":0.1,\r\n\t                \"ExecCount\":5,\r\n\t                \"Status\":\"启用\"\r\n\t              }\r\n\t            ]\r\n\t        }\r\n\t      ]\r\n\t    };\r\n\t    return $q.resolve(data);\r\n\t  }\r\n\t\r\n\t  function getRuleTypes(rulesType){\r\n\t    var type = rulesTypes.find(function(type){\r\n\t      return type.title === rulesType;\r\n\t    });\r\n\t    if(type) {\r\n\t      return angular.copy(type.types);\r\n\t    }\r\n\t    return [];\r\n\t  }\r\n\t\r\n\t  function importFile(file){\r\n\t    var data = { pic: file };\r\n\t    return $http.post(apiBaseUrl + '/rule/api/RuleImport', data, {\r\n\t      headers: {\r\n\t        'Content-Type': undefined\r\n\t      },\r\n\t      transformRequest: function(data, headersGetter){\r\n\t        console.log(data);\r\n\t        var formData = new FormData();\r\n\t        angular.forEach(data, function(value, key){\r\n\t          formData.append(key, value);\r\n\t        });\r\n\t        return formData;\r\n\t      }\r\n\t    });\r\n\t  }\r\n\t}\r\n\t\r\n\texports.rulesService = rulesService;\n\n/***/ }\n/******/ ]);\n\n\n// WEBPACK FOOTER //\n// dist/app.js"," \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId])\n \t\t\treturn installedModules[moduleId].exports;\n\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\texports: {},\n \t\t\tid: moduleId,\n \t\t\tloaded: false\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.loaded = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"\";\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(0);\n\n\n\n// WEBPACK FOOTER //\n// webpack/bootstrap b59745d1e4de0491b51a","// 文件结构与代码参考ui-router的sample\r\n// https://ui-router.github.io/sample-app-ng1/\r\n\r\nvar appModule = require('./app.module');\r\nvar formlyModule = require('./formly'); // 自定义formly表单类型\r\nvar globalModule = require('./global');\r\nvar mainModule = require('./main');\r\nvar tasksModule = require('./tasks');\r\nvar rulesModule = require('./rules');\r\n\r\n// 模块模板\r\n// key为注册名，value为注册时所需的配置对象\r\nvar BLANK_MODULE = {\r\n    states: [], \r\n    constants: {}, \r\n    components: {}, \r\n    directives: {}, \r\n    services: {}, \r\n    factories: {}, \r\n    filters: {}, \r\n    configBlocks: [], \r\n    runBlocks: []\r\n};\r\n\r\nvar subModules = [formlyModule, globalModule, mainModule, tasksModule, rulesModule]\r\n.map(function(module){\r\n  // 保证每个模块都包含模块模板里的key\r\n  return Object.assign({}, BLANK_MODULE, module);\r\n});\r\n// console.log(subModules);\r\nsubModules.forEach(function(module){\r\n  // 配置state\r\n  appModule.config(['$stateProvider', function($stateProvider){\r\n    return module.states.forEach(function (state) { \r\n      return $stateProvider.state(state); \r\n    }); \r\n  }]);\r\n  // 注册常量\r\n  Object.keys(module.constants).forEach(function (name) {\r\n    return appModule.constant(name, module.constants[name]); \r\n  });\r\n  // 注册component\r\n  Object.keys(module.components).forEach(function (name) {\r\n    return appModule.component(name, module.components[name]); \r\n  });\r\n  // 注册directive\r\n  Object.keys(module.directives).forEach(function (name) { \r\n    return appModule.directive(name, module.directives[name]); \r\n  });\r\n  // 注册service\r\n  Object.keys(module.services).forEach(function (name) { \r\n    return appModule.service(name, module.services[name]); \r\n  });\r\n  // 注册factory\r\n  Object.keys(module.factories).forEach(function (name) {\r\n    return appModule.factory(name, module.factories[name]); \r\n  });\r\n  // 注册filter\r\n  Object.keys(module.filters).forEach(function (name) { \r\n    return appModule.filter(name, module.filters[name]); \r\n  });\r\n  // 注册config回调\r\n  module.configBlocks.forEach(function (configBlock) { \r\n    return appModule.config(configBlock); \r\n  });\r\n  // 注册run回调\r\n  module.runBlocks.forEach(function (runBlock) {\r\n    return appModule.run(runBlock); \r\n  });\r\n});\r\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/index.js\n// module id = 0\n// module chunks = 0","module.exports = angular.module('app', [\r\n  'ngAnimate',\r\n  'ngMessages',\r\n  'ngSanitize',\r\n  // 'ngMockE2E',\r\n  'ui.bootstrap',\r\n  'ui.select',\r\n  'ui.router',\r\n  // 'ui.grid',\r\n  'uiSwitch',\r\n  'formly', \r\n  'formlyBootstrap'\r\n]);\r\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/app.module.js\n// module id = 1\n// module chunks = 0","var configs = require('./configs');\r\n\r\nmodule.exports = {\r\n  runBlocks: [ configs.runFormlyConfig ]\r\n};\r\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/formly/index.js\n// module id = 2\n// module chunks = 0","// 所有formly自定义类型的样式\r\nrequire('./style.css');\r\n\r\nexports.runFormlyConfig = ['formlyConfig', 'formlyValidationMessages',\r\n function(formlyConfig, formlyValidationMessages){\r\n  // bootstrap formly插件提供了\r\n  // wrapper: bootstrapLabel, has-error\r\n  // types: checkbox, multiCheckbox, input, radio, select, textarea\r\n  // bootstrap的form默认样式是一行label一行input\r\n  \r\n  // 新增基本type\r\n  // plainTimeRange\r\n  \r\n  // .form-horizontal样式\r\n  // 新增wrapper: horizontalBootstrapLabel\r\n  // 新增types: input2, select2,\r\n  \r\n  // new wrapper\r\n  formlyConfig.setWrapper(require('./wrapper/hasError'));\r\n  formlyConfig.setWrapper(require('./wrapper/horizontalWrapper'));\r\n  formlyConfig.setWrapper(require('./wrapper/horizontalLabel'));\r\n  // new types\r\n  formlyConfig.setType(require('./types/checkbox2'));\r\n  formlyConfig.setType(require('./types/input2'));\r\n  formlyConfig.setType(require('./types/plainTimeRange'));\r\n  formlyConfig.setType(require('./types/timeRange'));\r\n  formlyConfig.setType(require('./types/timeRange2'));\r\n  formlyConfig.setType(require('./types/select2'));\r\n  formlyConfig.setType(require('./types/static2'));\r\n  formlyConfig.setType(require('./types/repeatSection'));\r\n  formlyConfig.setType(require('./types/uiSelect'));\r\n  formlyConfig.setType(require('./types/uiSelect2'));\r\n  formlyConfig.setType(require('./types/uiSelectAsync'));\r\n  formlyConfig.setType(require('./types/uiSelectAsync2'));\r\n  // error message\r\n  formlyConfig.extras.errorExistsAndShouldBeVisibleExpression = \r\n    'fc.$touched || form.$submitted';\r\n  // 防止设置maxlength，输入超出长度之后，浏览器限制继续输入\r\n  formlyConfig.extras.ngModelAttrsManipulatorPreferBound = true;\r\n  formlyValidationMessages.addStringMessage('required', '必填');\r\n  formlyValidationMessages.addStringMessage('maxlength', '输入太长了');\r\n  formlyValidationMessages.messages.pattern = function(viewValue, modelValue, scope) {\r\n    return viewValue + ' is invalid';\r\n  };\r\n  formlyValidationMessages.addTemplateOptionValueMessage('minlength', 'minlength', '', 'is the minimum length', 'Too short');\r\n}];\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n/* global angular */\r\n// (function() {\r\n\r\n//   'use strict';\r\n\r\n//   var app = angular.module('formlyExample', ['formly', 'ngMessages'], function config(formlyConfigProvider) {\r\n//     formlyConfigProvider.setType([\r\n//       {\r\n//         name: 'input',\r\n//         templateUrl: 'input-template.html'\r\n//       },\r\n//       {\r\n//         name: 'checkbox',\r\n//         templateUrl: 'checkbox-template.html'\r\n//       }\r\n//     ]);\r\n//     formlyConfigProvider.setWrapper([\r\n//       {\r\n//         template: [\r\n//           '<div class=\"formly-template-wrapper form-group\"',\r\n//           'ng-class=\"{\\'has-error\\': options.validation.errorExistsAndShouldBeVisible}\">',\r\n//           '<label for=\"{{::id}}\">{{options.templateOptions.label}} {{options.templateOptions.required ? \\'*\\' : \\'\\'}}</label>',\r\n//           '<formly-transclude></formly-transclude>',\r\n//           '<div class=\"validation\"',\r\n//           'ng-if=\"options.validation.errorExistsAndShouldBeVisible\"',\r\n//           'ng-messages=\"options.formControl.$error\">',\r\n//           '<div ng-messages-include=\"validation.html\"></div>',\r\n//           '<div ng-message=\"{{::name}}\" ng-repeat=\"(name, message) in ::options.validation.messages\">',\r\n//           '{{message(options.formControl.$viewValue, options.formControl.$modelValue, this)}}',\r\n//           '</div>',\r\n//           '</div>',\r\n//           '</div>'\r\n//         ].join(' ')\r\n//       },\r\n//       {\r\n//         template: [\r\n//           '<div class=\"checkbox formly-template-wrapper-for-checkboxes form-group\">',\r\n//           '<label for=\"{{::id}}\">',\r\n//           '<formly-transclude></formly-transclude>',\r\n//           '</label>',\r\n//           '</div>'\r\n//         ].join(' '),\r\n//         types: 'checkbox'\r\n//       }\r\n//     ]);\r\n//   });\r\n  \r\n//   app.run(function(formlyConfig, formlyValidationMessages) {\r\n//     formlyConfig.extras.ngModelAttrsManipulatorPreferBound = true;\r\n//     formlyValidationMessages.addStringMessage('maxlength', 'Your input is WAAAAY too long!');\r\n//     formlyValidationMessages.messages.pattern = function(viewValue, modelValue, scope) {\r\n//       return viewValue + ' is invalid';\r\n//     };\r\n//     formlyValidationMessages.addTemplateOptionValueMessage('minlength', 'minlength', '', 'is the minimum length', 'Too short');\r\n//   });\r\n\r\n\r\n//   app.controller('MainCtrl', function MainCtrl(formlyVersion) {\r\n//     var vm = this;\r\n//     // funcation assignment\r\n//     vm.onSubmit = onSubmit;\r\n\r\n//     // variable assignment\r\n//     vm.author = { // optionally fill in your info below :-)\r\n//       name: 'Kent C. Dodds',\r\n//       url: 'https://twitter.com/kentcdodds'\r\n//     };\r\n//     vm.exampleTitle = 'Template Wrappers & Validation'; // add this\r\n//     vm.env = {\r\n//       angularVersion: angular.version.full,\r\n//       formlyVersion: formlyVersion\r\n//     };\r\n\r\n//     vm.model = {};\r\n\r\n//     vm.fields = [\r\n//       {\r\n//         key: 'email',\r\n//         type: 'input',\r\n//         templateOptions: {\r\n//           label: 'Email',\r\n//           required: true,\r\n//           type: 'email',\r\n//           maxlength: 10,\r\n//           minlength: 6,\r\n//           placeholder: 'example@example.com'\r\n//         }\r\n//       },\r\n//       {\r\n//         key: 'ip',\r\n//         type: 'input',\r\n//         validators: {\r\n//           ipAddress: {\r\n//             expression: function(viewValue, modelValue) {\r\n//               var value = modelValue || viewValue;\r\n//               return /(\\d{1,3}\\.){3}\\d{1,3}/.test(value);\r\n//             },\r\n//             message: '$viewValue + \" is not a valid IP Address\"'\r\n//           }\r\n//         },\r\n//         templateOptions: {\r\n//           label: 'IP Address',\r\n//           required: true,\r\n//           type: 'text',\r\n//           placeholder: '127.0.0.1',\r\n//         },\r\n//         validation: {\r\n//           messages: {\r\n//             required: function(viewValue, modelValue, scope) {\r\n//               return scope.to.label + ' is required'\r\n//             }\r\n//           }\r\n//         }\r\n//       },\r\n//       {\r\n//         key: 'mac',\r\n//         type: 'input',\r\n//         templateOptions: {\r\n//           label: 'MAC Address',\r\n//           required: true,\r\n//           placeholder: '49-8A-BD-4E-00-1D',\r\n//           pattern: '([0-9A-F]{2}[:-]){5}([0-9A-F]{2})'\r\n//         }\r\n//       },\r\n//       {\r\n//         type: 'checkbox',\r\n//         key: 'checked',\r\n//         templateOptions: {\r\n//           label: 'Check this'\r\n//         }\r\n//       },\r\n//       {\r\n//         key: 'checked2',\r\n//         type: 'checkbox',\r\n//         wrapper: null,\r\n//         templateOptions: {\r\n//           label: 'no wrapper here...'\r\n//         }\r\n//       }\r\n//     ];\r\n\r\n//     vm.originalFields = angular.copy(vm.fields);\r\n\r\n//     // function definition\r\n//     function onSubmit() {\r\n//       alert(JSON.stringify(vm.model), null, 2);\r\n//     }\r\n//   });\r\n\r\n// })();\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/formly/configs.js\n// module id = 3\n// module chunks = 0","module.exports = {\r\n  name: 'bootstrapHasError',\r\n  template: require('./hasError.html'),\r\n  overwriteOk: true\r\n};\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/formly/wrapper/hasError.js\n// module id = 8\n// module chunks = 0","module.exports = \"<div class=\\\"formly-template-wrapper form-group\\\" ng-class=\\\"{'has-error': showError}\\\">\\r\\n  <formly-transclude></formly-transclude>\\r\\n  <div class=\\\"validation\\\"\\r\\n    ng-if=\\\"fc.$touched || form.$submitted\\\"\\r\\n    ng-messages=\\\"fc.$error\\\">\\r\\n    <div ng-message=\\\"{{::name}}\\\" ng-repeat=\\\"(name, message) in ::options.validation.messages\\\">\\r\\n    \\t<span class=\\\"glyphicon glyphicon-exclamation-sign\\\"></span>\\r\\n      {{message(fc.$viewValue, fc.$modelValue, this)}}\\r\\n    </div>\\r\\n  </div>\\r\\n</div>\"\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/formly/wrapper/hasError.html\n// module id = 9\n// module chunks = 0","module.exports = {\r\n  name: 'horizontalBootstrapWrapper',\r\n  template: require('./horizontalWrapper.html')\r\n};\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/formly/wrapper/horizontalWrapper.js\n// module id = 10\n// module chunks = 0","module.exports = \"<div class=\\\"col-sm-4\\\"></div>\\r\\n<div class=\\\"col-sm-8\\\">\\r\\n  <formly-transclude></formly-transclude>\\r\\n</div>\"\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/formly/wrapper/horizontalWrapper.html\n// module id = 11\n// module chunks = 0","module.exports = {\r\n  name: 'horizontalBootstrapLabel',\r\n  template: require('./horizontalLabel.html')\r\n};\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/formly/wrapper/horizontalLabel.js\n// module id = 12\n// module chunks = 0","module.exports = \"<label for=\\\"{{::id}}\\\" class=\\\"col-xs-4 control-label\\\">\\r\\n  {{to.label}}\\r\\n</label>\\r\\n<div class=\\\"col-xs-8\\\">\\r\\n  <formly-transclude></formly-transclude>\\r\\n</div>\"\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/formly/wrapper/horizontalLabel.html\n// module id = 13\n// module chunks = 0","module.exports = {\r\n  name: 'checkbox2',\r\n  extends: 'checkbox',\r\n  wrapper: ['horizontalBootstrapWrapper', 'bootstrapHasError']\r\n};\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/formly/types/checkbox2.js\n// module id = 14\n// module chunks = 0","module.exports = {\r\n  name: 'input2',\r\n  extends: 'input',\r\n  wrapper: ['horizontalBootstrapLabel', 'bootstrapHasError']\r\n};\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/formly/types/input2.js\n// module id = 15\n// module chunks = 0","module.exports = {\r\n  name: 'plainTimeRange',\r\n  template: '<datetime-range ng-model=\"model[options.key]\"></datetime-range>',\r\n  defaultOptions: {\r\n    ngModelAttrs: {\r\n      mode: {\r\n        bound: 'mode',\r\n        attribute: 'mode'\r\n      }\r\n    }\r\n  }\r\n};\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/formly/types/plainTimeRange.js\n// module id = 16\n// module chunks = 0","module.exports = {\r\n  name: 'timeRange',\r\n  extends: 'plainTimeRange',\r\n  wrapper: ['bootstrapLabel', 'bootstrapHasError']\r\n};\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/formly/types/timeRange.js\n// module id = 17\n// module chunks = 0","module.exports = {\r\n  name: 'timeRange2',\r\n  extends: 'plainTimeRange',\r\n  wrapper: ['horizontalBootstrapLabel', 'bootstrapHasError']\r\n};\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/formly/types/timeRange2.js\n// module id = 18\n// module chunks = 0","module.exports = {\r\n\tname: 'select2',\r\n\textends: 'select',\r\n\twrapper: ['horizontalBootstrapLabel', 'bootstrapHasError']\r\n};\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/formly/types/select2.js\n// module id = 19\n// module chunks = 0","module.exports = {\r\n  name: 'static2',\r\n  template: '<p class=\"form-control-static\">{{to.text}}</p>',\r\n  wrapper: ['horizontalBootstrapLabel', 'bootstrapHasError'],\r\n  defaultOptions: {\r\n    noFormControl: true\r\n  }\r\n};\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/formly/types/static2.js\n// module id = 20\n// module chunks = 0","// http://angular-formly.com/#/example/advanced/repeating-section\r\n\r\nvar unique = 1;\r\nmodule.exports = {\r\n  name: 'repeatSection',\r\n  template: require('./repeatSection.html'),\r\n  controller: function($scope) {\r\n    $scope.formOptions = {formState: $scope.formState};\r\n    $scope.addNew = addNew;\r\n    \r\n    $scope.copyFields = copyFields;\r\n    \r\n    \r\n    function copyFields(fields) {\r\n      fields = angular.copy(fields);\r\n      addRandomIds(fields);\r\n      return fields;\r\n    }\r\n    \r\n    function addNew() {\r\n      $scope.model[$scope.options.key] = $scope.model[$scope.options.key] || [];\r\n      var repeatsection = $scope.model[$scope.options.key];\r\n      var lastSection = repeatsection[repeatsection.length - 1];\r\n      var newsection = {};\r\n      if (lastSection) {\r\n        newsection = angular.copy(lastSection);\r\n      }\r\n      repeatsection.push(newsection);\r\n    }\r\n    \r\n    function addRandomIds(fields) {\r\n      unique++;\r\n      angular.forEach(fields, function(field, index) {\r\n        if (field.fieldGroup) {\r\n          addRandomIds(field.fieldGroup);\r\n          return; // fieldGroups don't need an ID\r\n        }\r\n        \r\n        if (field.templateOptions && field.templateOptions.fields) {\r\n          addRandomIds(field.templateOptions.fields);\r\n        }\r\n        \r\n        field.id = field.id || (field.key + '_' + index + '_' + unique + getRandomInt(0, 9999));\r\n      });\r\n    }\r\n    \r\n    function getRandomInt(min, max) {\r\n      return Math.floor(Math.random() * (max - min)) + min;\r\n    }\r\n  }\r\n};\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/formly/types/repeatSection.js\n// module id = 21\n// module chunks = 0","module.exports = \"<div>\\r\\n  <!--loop through each element in model array-->\\r\\n  <div class=\\\"{{hideRepeat}}\\\">\\r\\n    <div class=\\\"repeatsection\\\" ng-repeat=\\\"element in model[options.key]\\\" ng-init=\\\"fields = copyFields(to.fields)\\\">\\r\\n      <formly-form fields=\\\"fields\\\"\\r\\n                   model=\\\"element\\\"\\r\\n                   form=\\\"form\\\">\\r\\n      </formly-form>\\r\\n      <div style=\\\"margin-bottom:20px;\\\">\\r\\n        <button type=\\\"button\\\" class=\\\"btn btn-sm btn-danger\\\" ng-click=\\\"model[options.key].splice($index, 1)\\\">\\r\\n          Remove\\r\\n        </button>\\r\\n      </div>\\r\\n      <hr>\\r\\n  </div>\\r\\n  <p class=\\\"AddNewButton\\\">\\r\\n    <button type=\\\"button\\\" class=\\\"btn btn-primary\\\" ng-click=\\\"addNew()\\\" >{{to.btnText}}</button>\\r\\n  </p>\\r\\n</div>\"\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/formly/types/repeatSection.html\n// module id = 22\n// module chunks = 0","module.exports = {\r\n  name: 'uiSelect',\r\n  wrapper: ['bootstrapLabel', 'bootstrapHasError'],\r\n  template: require('./uiSelect.html'),\r\n};\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/formly/types/uiSelect.js\n// module id = 23\n// module chunks = 0","module.exports = \"<ui-select ng-model=\\\"model[options.key]\\\" required=\\\"{{to.required}}\\\" disabled=\\\"{{to.disabled}}\\\" search-enabled=\\\"false\\\" theme=\\\"bootstrap\\\">\\r\\n  <ui-select-match placeholder=\\\"{{to.placeholder}}\\\" allow-clear=\\\"true\\\">{{$select.selected[to.labelProp || 'name']}}</ui-select-match>\\r\\n  <ui-select-choices group-by=\\\"to.groupBy\\\" repeat=\\\"option[to.valueProp || 'value'] as option in to.options\\\">\\r\\n    <div ng-bind-html=\\\"option[to.labelProp] | highlight: $select.search\\\"></div>\\r\\n  </ui-select-choices>\\r\\n</ui-select>\"\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/formly/types/uiSelect.html\n// module id = 24\n// module chunks = 0","module.exports = {\r\n  name: 'uiSelect2',\r\n  wrapper: ['horizontalBootstrapLabel', 'bootstrapHasError'],\r\n  template: require('./uiSelect.html')\r\n};\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/formly/types/uiSelect2.js\n// module id = 25\n// module chunks = 0","module.exports = {\r\n  name: 'uiSelectAsync',\r\n  wrapper: ['bootstrapLabel', 'bootstrapHasError'],\r\n  template: require('./uiSelectAsync.html')\r\n};\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/formly/types/uiSelectAsync.js\n// module id = 26\n// module chunks = 0","module.exports = \"<ui-select ng-model=\\\"model[options.key]\\\" required=\\\"{{to.required}}\\\" disabled=\\\"{{to.disabled}}\\\" theme=\\\"bootstrap\\\" spinner-enabled=\\\"true\\\">\\r\\n  <ui-select-match placeholder=\\\"{{to.placeholder}}\\\">{{$select.selected[to.labelProp || 'name']}}</ui-select-match>\\r\\n  <ui-select-choices repeat=\\\"option[to.valueProp || 'value'] as option in to.options\\\" refresh=\\\"to.refresh($select.search, options)\\\" refresh-delay=\\\"{{to.refreshDelay}}\\\">\\r\\n    <div ng-bind-html=\\\"option[to.labelProp] | highlight: $select.search\\\"></div>\\r\\n  </ui-select-choices>\\r\\n  <ui-select-no-choices>无匹配结果</ui-select-no-choices>\\r\\n</ui-select>\"\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/formly/types/uiSelectAsync.html\n// module id = 27\n// module chunks = 0","module.exports = {\r\n  name: 'uiSelectAsync2',\r\n  wrapper: ['horizontalBootstrapLabel', 'bootstrapHasError'],\r\n  template: require('./uiSelectAsync.html')\r\n};\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/formly/types/uiSelectAsync2.js\n// module id = 28\n// module chunks = 0","var baseModalComponent = require('./base-modal.component');\r\nvar datetimeModalComponent = require('./datetime-modal.component');\r\nvar baseModalService = require('./base-modal.service');\r\nvar datetimeModalService = require('./datetime-modal.service');\r\nvar dateService = require('./date.service');\r\nvar date2Filter = require('./date2.filter');\r\nvar inputFileDirective = require('./input-file.directive');\r\nvar xxClickDirective = require('./xx-click.directive');\r\nvar xxBindHtmlDirective = require('./xx-bind-html.directive');\r\nvar xxTableDirective = require('./xx-table.directive');\r\nvar datetimePickerDirective = require('./datetime-picker.directive');\r\nvar datetimeRangeDirective = require('./datetime-range.directive');\r\nvar configs = require('./configs');\r\n\r\nmodule.exports = {\r\n  components: {\r\n    baseModal: baseModalComponent,\r\n    datetimeModal:　datetimeModalComponent\r\n  },\r\n  directives: {\r\n    inputFile: inputFileDirective,\r\n    datetimePicker: datetimePickerDirective,\r\n    datetimeRange: datetimeRangeDirective,\r\n    // 绑定的方法返回promise时\r\n    //设置disabled，禁止触发\r\n    xxClick: xxClickDirective,\r\n    // ng-bind-html的进化版\r\n    // 支持绑定包含{{}}，指令的html\r\n    xxBindHtml: xxBindHtmlDirective,\r\n    xxTable: xxTableDirective\r\n  },\r\n  factories: {\r\n    $modalService: baseModalService,\r\n    $datetimeModalService: datetimeModalService,  \r\n    dateService: dateService  \r\n  },\r\n  filters: {\r\n    date2: date2Filter\r\n  },\r\n  runBlocks: [\r\n    configs.cacheTemplateRunBlock,\r\n    configs.runFormlyConfig\r\n  ]\r\n};\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/global/index.js\n// module id = 29\n// module chunks = 0","controller.$inject = ['$timeout'];\r\nfunction controller($timeout){\r\n  var $ctrl = this;\r\n\tvar config = $ctrl.resolve.config;\r\n\tconsole.log(config);\r\n\t$ctrl.title       = config.title || '';\r\n\t$ctrl.content     = config.content || '';\r\n\t$ctrl.okLabel     = config.okLabel || '确定';\r\n\t$ctrl.cancelLabel = config.cancelLabel || '取消';\r\n\t$ctrl.hideOk      = config.hideOk || false;\r\n\t$ctrl.hideCancel  = config.hideCancel || false;\r\n\t$ctrl.handleOk    = config.handleOk || null;\r\n\t$ctrl.isToast     = config.isToast || null;\r\n\t$ctrl.timeout     = config.timeout || 3000;\r\n\t$ctrl.ok          = ok;\r\n\t$ctrl.cancel      = cancel;\r\n\t$ctrl.lock        = false;\r\n\r\n\tif($ctrl.isToast) {\r\n\t\t$timeout(cancel, vm.timeout);\r\n\t}\r\n\r\n\tfunction ok(){\r\n\t\tif($ctrl.handleOk) {\r\n\t\t\tif($ctrl.lock) { return; }\r\n\t\t\t$ctrl.lock = true;\r\n\t\t\t$ctrl.handleOk().then(function(){\r\n\t\t\t\t$ctrl.close();\r\n\t\t\t}).finally(function(){\r\n\t\t\t\t$ctrl.lock = false;\r\n\t\t\t});\r\n\t\t} else {\r\n\t\t\t$ctrl.close();\r\n\t\t}\r\n\t}\r\n\r\n\tfunction cancel(){\r\n\t\t$ctrl.dismiss();\r\n\t}\r\n}\r\n\r\nmodule.exports = {\r\n  template: require('./base-modal.component.html'),\r\n  controller: controller,\r\n  bindings: {\r\n  \tresolve: '<',\r\n    close: '&',\r\n    dismiss: '&'\r\n  }\r\n};\r\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/global/base-modal.component.js\n// module id = 30\n// module chunks = 0","module.exports = \"<div class=\\\"modal-header bg-primary\\\" ng-show=\\\"$ctrl.title\\\" >\\r\\n\\t<button type=\\\"button\\\" class=\\\"close\\\" ng-click=\\\"$ctrl.cancel();\\\"><span>&times;</span></button>\\r\\n    <h4 class=\\\"modal-title\\\" ng-bind-html=\\\"$ctrl.title\\\"></h4>\\r\\n</div>\\r\\n<div class=\\\"modal-body\\\" ng-class=\\\"{'modal-toast': $ctrl.isToast}\\\">\\r\\n    <div ng-bind-html=\\\"$ctrl.content\\\"></div>\\r\\n</div>\\r\\n<div class=\\\"modal-footer\\\" ng-hide=\\\"$ctrl.isToast\\\">\\r\\n    <button class=\\\"btn btn-success\\\" type=\\\"button\\\" ng-disabled=\\\"$ctrl.lock\\\" ng-hide=\\\"$ctrl.hideOk\\\" ng-click=\\\"$ctrl.ok();\\\">{{ $ctrl.okLabel }}</button>\\r\\n    <button class=\\\"btn btn-default\\\" type=\\\"button\\\" ng-hide=\\\"$ctrl.hideCancel\\\" ng-click=\\\"$ctrl.cancel();\\\">{{ $ctrl.cancelLabel }}</button>\\r\\n</div>\"\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/global/base-modal.component.html\n// module id = 31\n// module chunks = 0","require('./datetime-modal.css');\r\n\r\n/*\r\nconfig\r\n - date    当前时间\r\n - minDate 最小时间\r\n - maxDate 最大时间\r\n - mode    模式：datetime|year|month|day|time\r\n */\r\n\r\n\r\ncontroller.$inject = ['$scope'];\r\nfunction controller($scope){\r\n  var $ctrl = this;\r\n  $ctrl.ok = ok;\r\n  $ctrl.cancel = cancel;\r\n\r\n  var config = $ctrl.resolve.config;\r\n  var date = config.date ? angular.copy(config.date) : new Date();\r\n  var minDate = config.minDate ? angular.copy(config.minDate) : null;\r\n  var maxDate = config.maxDate ? angular.copy(config.maxDate) : null;\r\n  var mode = config.mode ? config.mode.toLowerCase() : 'datetime';\r\n  var datePickerMode = mode === 'time' || mode === 'datetime'\r\n    ? 'day' : mode;\r\n  \r\n  // console.log(config);\r\n\r\n  // 是否选择datepicker和timepicker\r\n  $ctrl.showDate = mode !== 'time';\r\n  $ctrl.showTime = mode === 'datetime' || mode === 'time';\r\n  $ctrl.date = date;\r\n  // datePicker设置\r\n  $ctrl.options = {\r\n    showWeeks: false,\r\n    minDate: minDate,\r\n    maxDate: maxDate,\r\n    minMode: datePickerMode\r\n  };\r\n  // console.log($ctrl.showDate, $ctrl.showTime)\r\n  // console.log($ctrl.options)\r\n  // timePicker选择框设置\r\n  // $ctrl.minTime = null;\r\n  // $ctrl.maxTime = null;\r\n\r\n  $scope.$watch('$ctrl.date', function(newVal){\r\n    if(minDate) {\r\n      if(minDate.getTime() >= $ctrl.date.getTime()) {\r\n        $ctrl.date.setTime(minDate.getTime() + 1000);\r\n      }\r\n      // if(isSameDay(minDate, $ctrl.date)) {\r\n      //   console.log('is same min date')\r\n      //   $ctrl.minTime = minDate;\r\n      // } else {\r\n      //   $ctrl.minTime = null;\r\n      // }\r\n    }\r\n    if(maxDate) {\r\n      if(maxDate.getTime() <= $ctrl.date.getTime()) {\r\n        $ctrl.date.setTime(maxDate.getTime() - 1000);\r\n      }\r\n      // if(isSameDay(maxDate, $ctrl.date)) {\r\n      //   console.log('is same max date')\r\n      //   $ctrl.maxTime = maxDate;\r\n      // } else {\r\n      //   $ctrl.maxTime = null;\r\n      // }\r\n    }\r\n  });\r\n\r\n  function isSameDay(d1, d2) {\r\n    if(!(d1 && d2)) {\r\n      return false;\r\n    }\r\n    return d1.toDateString() === d2.toDateString();\r\n  }\r\n\r\n  function setDate(){\r\n    $ctrl.date.setHours(\r\n      $ctrl.hour, $ctrl.minute, $ctrl.second);\r\n  }\r\n\t\r\n\tfunction ok(){\r\n\t\t$ctrl.close({$value: $ctrl.date});\r\n\t}\r\n\r\n\tfunction cancel(){\r\n\t\t$ctrl.dismiss();\r\n\t}\r\n}\r\n\r\nmodule.exports = {\r\n  template: require('./datetime-modal.component.html'),\r\n  controller: controller,\r\n  bindings: {\r\n  \tresolve: '<',\r\n    close: '&',\r\n    dismiss: '&'\r\n  }\r\n};\r\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/global/datetime-modal.component.js\n// module id = 32\n// module chunks = 0","module.exports = \"<div class=\\\"modal-header bg-default\\\">\\r\\n\\t<button type=\\\"button\\\" class=\\\"close\\\" ng-click=\\\"$ctrl.dismiss();\\\"><span>&times;</span></button>\\r\\n    <h4 class=\\\"modal-title\\\">选择时间</h4>\\r\\n</div>\\r\\n<div class=\\\"modal-body\\\">\\r\\n  <div uib-datepicker \\r\\n    ng-model=\\\"$ctrl.date\\\" \\r\\n    ng-show=\\\"$ctrl.showDate\\\"\\r\\n    datepicker-options=\\\"$ctrl.options\\\"></div>\\r\\n  <div uib-timepicker \\r\\n    ng-model=\\\"$ctrl.date\\\"\\r\\n    ng-show=\\\"$ctrl.showTime\\\"\\r\\n    readonly-input=\\\"true\\\"\\r\\n    show-meridian=\\\"false\\\"\\r\\n    template-url=\\\"global/datetime-modal.timepicker.html\\\"\\r\\n    show-seconds=\\\"true\\\"></div>\\r\\n<!--   <div>当前时间{{ $ctrl.date | date:'yyyy-MM-dd HH:mm:ss' }}</div>\\r\\n  <div>最小日期{{ $ctrl.options.minDate | date:'yyyy-MM-dd HH:mm:ss' }}</div>\\r\\n  <div>最大日期{{ $ctrl.options.maxDate | date:'yyyy-MM-dd HH:mm:ss' }}</div>\\r\\n  <div>最小时间{{ $ctrl.minTime | date:'yyyy-MM-dd HH:mm:ss' }}</div>\\r\\n  <div>最大时间{{ $ctrl.maxTime | date:'yyyy-MM-dd HH:mm:ss' }}</div> -->\\r\\n</div>\\r\\n<div class=\\\"modal-footer\\\">\\r\\n  <button class=\\\"btn btn-success\\\" type=\\\"button\\\" ng-click=\\\"$ctrl.ok();\\\">确定</button>\\r\\n  <button class=\\\"btn btn-default\\\" type=\\\"button\\\" ng-click=\\\"$ctrl.dismiss();\\\">取消</button>\\r\\n</div>\"\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/global/datetime-modal.component.html\n// module id = 35\n// module chunks = 0","module.exports = ['$uibModal', function($uibModal){\r\n  return {\r\n    confirm: confirm,\r\n    alert: alert,\r\n    toast: toast\r\n  };\r\n\r\n  function confirm(config) {\r\n    var modalInstance = $uibModal.open({\r\n      size: 'sm',\r\n      component: 'baseModal',\r\n      resolve: {\r\n        config: function(){\r\n          return config;\r\n        }\r\n      }\r\n    });\r\n    return modalInstance.result;\r\n  }\r\n\r\n  function alert(config) {\r\n    config = config || {};\r\n    config.hideCancel = true;\r\n    return confirm(config);\r\n  }\r\n\r\n  function toast(config) {\r\n    config = config || {};\r\n    config.isToast = true;\r\n    return confirm(config);\r\n  }\r\n}];\r\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/global/base-modal.service.js\n// module id = 36\n// module chunks = 0","module.exports = ['$uibModal', function($uibModal){\r\n  return {\r\n    show: show\r\n  };\r\n  /*\r\n    config.date 给定一个日期\r\n    config.minDate 给定一个最小日期\r\n    config.maxDate 给定一个最大日期\r\n   */\r\n  function show(config) {\r\n    var modalInstance = $uibModal.open({\r\n      size: 'sm',\r\n      component: 'datetimeModal',\r\n      windowClass: 'datetime-modal',\r\n      resolve: {\r\n        config: config || {}\r\n      }\r\n    });\r\n    return modalInstance.result;\r\n  }\r\n}];\r\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/global/datetime-modal.service.js\n// module id = 37\n// module chunks = 0","module.exports = ['$filter', function($filter){\r\n  var DATE_REG = /^(\\d{4})-(\\d\\d)-(\\d\\d)(T|\\s)(\\d\\d):(\\d\\d):(\\d\\d)/;\r\n  var OFFSET = computeOffset();\r\n\r\n  // var str = '2016-10-20T19:17:05';\r\n  // var d = fromString2(str);\r\n  // var str2 = toString2(d);\r\n  // console.log(str);\r\n  // console.log(d && d.toLocaleString());\r\n  // console.log(str2);\r\n\r\n  return {\r\n    isDateString: isDateString,\r\n    fromString: fromString2,\r\n    toString: toString2\r\n  };\r\n\r\n  function computeOffset(){\r\n    var d = new Date();\r\n    return d.getTimezoneOffset() * 60 * 1000;\r\n  }\r\n  function isDateString(str){\r\n    return DATE_REG.test(str);\r\n  }\r\n  function fromString(str){\r\n    if(isDateString(str)) {\r\n      var date = new Date(str);\r\n      return new Date(date.getTime() + OFFSET);\r\n    }\r\n  }\r\n  function toString(date){\r\n    if(date instanceof Date) {\r\n      var _date = new Date(date.getTime() - OFFSET);\r\n      return _date.toISOString().substr(0, 19);\r\n    }\r\n  }\r\n  function fromString2(str){\r\n    if(isDateString(str)) {\r\n      // 替换掉日期字符串中的T、\r\n      // 让Date构造器以本地时区解析\r\n      str = str.replace('T', ' ');\r\n      return new Date(str);\r\n    }\r\n  }\r\n  function toString2(date){\r\n    // 使用date过滤器，返回格式化的日期字符串\r\n    return $filter('date')(date, 'yyyy-MM-dd HH:mm:ss');\r\n  }\r\n}];\r\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/global/date.service.js\n// module id = 38\n// module chunks = 0","module.exports = ['$filter', 'dateService', function($filter, dateService){\r\n\r\n  return function(date){\r\n    return $filter('date')(date, 'yyyy-MM-dd HH:mm:ss');\r\n  }\r\n}];\r\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/global/date2.filter.js\n// module id = 39\n// module chunks = 0","require('./input-file.directive.css');\r\n\r\nfunction resetInput(input){\r\n  var form = document.createElement('form');\r\n  var div = document.createElement('div');\r\n  var parent = input.parentNode;\r\n\r\n  parent.replaceChild(div, input);\r\n  form.appendChild(input);\r\n  form.reset();\r\n  parent.replaceChild(input, div);\r\n}\r\n\r\ndirective.$inject = [];\r\nfunction directive(){\r\n  console.log('wa');\r\n\treturn {\r\n\t\tretrict: 'AE',\r\n\t\tscope: {\r\n      disabled: '=',\r\n      accept: '@',\r\n\t\t\tonChange: '&'\r\n\t\t},\r\n\t\ttransclude: true,\r\n\t\ttemplate: [\r\n\t\t\t'<span ng-transclude></span>',\r\n\t\t\t'<input type=\"file\">'\r\n\t\t].join(''),\r\n\t\tlink: function($scope, $ele, $attr){\r\n\t\t\tvar $input = $ele.find('input');\r\n      // console.log('ere');\r\n\t\t\t$input.bind('change', onChange);\r\n      $input.attr('accept', $scope.accept || '*');\r\n\r\n\t\t\tfunction onChange(e) {\r\n\t\t\t\tvar files = e.target.files;\r\n\r\n\t      if(files.length > 0) {\r\n          $scope.onChange({file: files[0]});\r\n\t        resetInput(e.target);\r\n\t      }\r\n\t\t\t}\r\n\t\t}\r\n\t};\r\n}\r\n\r\nmodule.exports = directive;\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/global/input-file.directive.js\n// module id = 40\n// module chunks = 0","directive.$inject = ['$timeout', '$q'];\r\nfunction directive($timeout, $q){\r\n\r\n\treturn {\r\n\t\tretrict: 'A',\r\n\t\tlink: function($scope, $ele, $attr){\r\n\t\t\tvar disabled = false;\r\n      \r\n      $ele.on('click', clickHandler);\r\n\r\n      function clickHandler(){\r\n        if(disabled) {\r\n          return;\r\n        }\r\n        var rtn = $scope.$apply($attr.xxClick);\r\n        var isPromise = !!(rtn && rtn.then);\r\n        if(isPromise) {\r\n          $ele.attr('disabled', true);\r\n          disabled = true;\r\n          $q.when(rtn).finally(function(){\r\n            disabled = false; \r\n            $ele.attr('disabled', false);\r\n          });  \r\n        }\r\n      }\r\n\t\t}\r\n\t};\r\n}\r\n\r\nmodule.exports = directive;\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/global/xx-click.directive.js\n// module id = 43\n// module chunks = 0","directive.$inject = ['$compile'];\r\nfunction directive($compile){\r\n\treturn {\r\n\t\tretrict: 'A',\r\n\t\tlink: function($scope, $ele, $attr){\r\n\t\t\t$scope.$watch(function(){\r\n        return $scope.$eval($attr.xxBindHtml);\r\n      }, function(value){\r\n        $ele.html(value);\r\n        $compile($ele.contents())($scope);\r\n      });\r\n\t\t}\r\n\t};\r\n}\r\n\r\nmodule.exports = directive;\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/global/xx-bind-html.directive.js\n// module id = 44\n// module chunks = 0","require('./xx-table.directive.css');\r\n\r\n// data: []   // 数据\r\n// firstUpdate // 是否初次自动调用update\r\n// columns // 列的配置\r\n//   head // th的模板\r\n//   data // td的模板\r\n// methods // 为独立作用域注入一些方法\r\n// getData  // 由本指令来请求数据\r\n\r\ndirective.$inject = ['$timeout', '$q'];\r\nfunction directive($timeout, $q){\r\n\r\n\treturn {\r\n\t\tretrict: 'AE',\r\n\t\tscope: {\r\n      config: '=',   // 配置\r\n      onInit: '&'\r\n\t\t},\r\n\t\ttemplate: require('./xx-table.directive.html'),\r\n\t\tlink: function($scope, $ele, $attr){\r\n\t\t\t// 0 初始\r\n      // 1 已请求\r\n      // 2 请求失败\r\n      // 3 请求成功  \r\n      \r\n      $scope.status = 0;\r\n      $scope.error = '';\r\n      $scope.data = [];\r\n      $scope.update;\r\n      $scope.columns = [];\r\n      $scope.methods = {};\r\n      var reqCount = 0;\r\n\r\n      init();\r\n\r\n      function init(){\r\n        var config = $scope.config || {};\r\n        // console.log(config);\r\n        $scope.data = config.data || [];\r\n        $scope.columns = config.columns || [];\r\n        $scope.methods = config.methods || {};\r\n        $scope.update = update;\r\n        $scope.onInit({ update: update });\r\n        if('data' in config) {\r\n          $scope.status = 3;\r\n        }\r\n        if(config.firstUpdate) {\r\n          update();\r\n        }\r\n      }\r\n\r\n\r\n      function update(){\r\n        console.log('update called')\r\n        var cb = $scope.config.getData;\r\n        if(!cb) {\r\n          return;\r\n        }\r\n        var res = cb && cb();\r\n        var curReqCount = ++reqCount;\r\n\r\n        if(angular.isArray(res)) {\r\n          $scope.status = 3;\r\n          $scope.data = res;\r\n        } else {\r\n          $scope.status = 1;\r\n          $q.all([res, timeout()]).then(function(data){\r\n            console.log('res then succ', curReqCount, reqCount)\r\n            // 请求去重\r\n            if(curReqCount !== reqCount) {\r\n              return;\r\n            }\r\n            $scope.status = 3;\r\n            $scope.data = data[0];\r\n          }, function(error){\r\n            console.log(error, curReqCount, reqCount);\r\n            if(curReqCount !== reqCount) {\r\n              return;\r\n            }\r\n            // 是否已经离线\r\n            if(error && error.status === -1) {\r\n              $scope.error = '您已离线';\r\n            } else {\r\n              $scope.error = '错误' + error;\r\n            }\r\n            $scope.status = 2;\r\n          });    \r\n        }\r\n      }\r\n\r\n      function timeout(){\r\n        return $timeout(function(){\r\n          console.log('at least 300ms');\r\n        }, 300);\r\n      }\r\n\t\t}\r\n\t};\r\n}\r\n\r\nmodule.exports = directive;\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/global/xx-table.directive.js\n// module id = 45\n// module chunks = 0","module.exports = \"<div class=\\\"xx-table\\\">\\r\\n  <table class=\\\"table table-bordered table-hover\\\">\\r\\n    <thead class=\\\"bg-default\\\">\\r\\n      <tr>\\r\\n        <td \\r\\n          ng-repeat=\\\"column in columns\\\"\\r\\n          xx-bind-html=\\\"column.head\\\"\\r\\n          ng-hide=\\\"column.hide\\\"\\r\\n        ></td>\\r\\n      </tr>\\r\\n    </thead>\\r\\n    <tbody>\\r\\n      <tr class=\\\"xx-table-tip\\\" ng-show=\\\"status!==3||data.length==0\\\">\\r\\n        <td ng-show=\\\"status==1\\\" colspan=\\\"{{columns.length}}\\\" class=\\\"text-center\\\">请求中…</td>\\r\\n        <td ng-show=\\\"status==2\\\"  colspan=\\\"{{columns.length}}\\\" class=\\\"text-center\\\">\\r\\n          请求失败，{{ error }}\\r\\n          <button class=\\\"btn btn-link btn-sm\\\" ng-click=\\\"update()\\\">\\r\\n            <span class=\\\"glyphicon glyphicon-repeat\\\"></span>\\r\\n            重新请求\\r\\n          </button>\\r\\n        </td>\\r\\n        <td ng-show=\\\"status==3&&data.length==0\\\" colspan=\\\"{{columns.length}}\\\" class=\\\"text-center\\\">空</td>\\r\\n      </tr>\\r\\n      <tr ng-repeat=\\\"row in data track by $index\\\">\\r\\n        <td \\r\\n          ng-repeat=\\\"column in columns\\\"\\r\\n          xx-bind-html=\\\"column.data\\\"\\r\\n          ng-hide=\\\"column.hide\\\"\\r\\n        ></td>\\r\\n      </tr>\\r\\n    </tbody>\\r\\n  </table> \\r\\n</div>\\r\\n\"\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/global/xx-table.directive.html\n// module id = 48\n// module chunks = 0","require('./datetime-picker.directive.css');\r\n\r\ndirective.$inject = ['$datetimeModalService'];\r\nfunction directive($datetimeModalService){\r\n\treturn {\r\n\t\tretrict: 'AE',\r\n    scope: {\r\n      minDate: '=',\r\n      maxDate: '=',\r\n      mode:    '@'\r\n    },\r\n    require: 'ngModel',\r\n\t\ttemplate: require('./datetime-picker.directive.html'),\r\n\t\tlink: function($scope, $ele, $attr, ngModel){\r\n\r\n      var mode = $scope.mode;\r\n      var format;\r\n\r\n      switch(mode) {\r\n        case 'year':  format = 'yyyy年'; break;\r\n        case 'month': format = 'yyyy-MM'; break;\r\n        case 'day':   format = 'yyyy-MM-dd'; break;\r\n        case 'time':  format = 'HH:mm:ss'; break;\r\n        default:      format = 'yyyy-MM-dd HH:mm:ss'; break;\r\n      }\r\n      $scope.format = format;\r\n      // console.log(format);\r\n\r\n      // $scope.date = ngModel.$viewValue;\r\n\r\n      $scope.selectTime = function(){\r\n\r\n        $datetimeModalService.show({\r\n          date:    toDate($scope.date),\r\n          minDate: toDate($scope.minDate),\r\n          maxDate: toDate($scope.maxDate),\r\n          mode:   $scope.mode\r\n        }).then(function(newDate){\r\n          ngModel.$setViewValue(newDate);\r\n          ngModel.$render();\r\n          // $scope.date = newDate;\r\n        });\r\n      };\r\n\r\n      // viewValue -> 视图\r\n      ngModel.$render = function() {\r\n        $scope.date  = ngModel.$viewValue;\r\n      };\r\n\r\n      // 属性required与required的监听\r\n      var required = false;\r\n      $attr.$observe('required', function(value){\r\n        if(value === true || value === 'true') {\r\n          required = true;\r\n        } else {\r\n          required = false;\r\n        }\r\n        ngModel.$validate();\r\n      });\r\n      // required validator\r\n      ngModel.$validators.required = function(value) {\r\n        return !required || !!(value);\r\n      };\r\n\r\n      function toDate(date) {\r\n        if(date && !(date instanceof Date)) {\r\n          try{ \r\n            date = new Date(date); \r\n          } catch(e) {\r\n\r\n          }\r\n        }\r\n        return date;\r\n      }\r\n\t\t}\r\n\t};\r\n}\r\n\r\nmodule.exports = directive;\r\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/global/datetime-picker.directive.js\n// module id = 49\n// module chunks = 0","module.exports = \"<div class=\\\"input-group\\\">\\r\\n    <p class=\\\"form-control\\\">{{ date | date:format }}</p>\\r\\n    <span class=\\\"input-group-btn\\\">\\r\\n      <button class=\\\"btn btn-default\\\" type=\\\"button\\\" ng-click=\\\"selectTime()\\\">\\r\\n        <span class=\\\"glyphicon glyphicon-calendar\\\"></span>\\r\\n      </button>\\r\\n    </span>\\r\\n  </div>\\r\\n</div>\"\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/global/datetime-picker.directive.html\n// module id = 52\n// module chunks = 0","require('./datetime-picker.directive.css');\r\n\r\ndirective.$inject = ['$datetimeModalService'];\r\nfunction directive($datetimeModalService){\r\n\treturn {\r\n\t\tretrict: 'AE',\r\n    require: 'ngModel',\r\n    scope: {\r\n      mode: '@'\r\n    },\r\n\t\ttemplate: require('./datetime-range.directive.html'),\r\n\t\tlink: function($scope, $ele, $attr, ngModel){\r\n\r\n      // ngModel.$formatters.push(function(modelValue){\r\n        \r\n      // });\r\n      // ngModel.$parsers.push(function(viewValue){\r\n        \r\n      // });\r\n\r\n      $scope.$watch('minDate+maxDate', function(){\r\n        var min = $scope.minDate;\r\n        var max = $scope.maxDate;\r\n        if(min && min instanceof String) {\r\n          $scope.minDate = new Date(min);\r\n        }\r\n        if(max && max instanceof String) {\r\n          $scope.maxDate = new Date(max);\r\n        }\r\n        ngModel.$setViewValue({\r\n          min: $scope.minDate,\r\n          max: $scope.maxDate\r\n        });\r\n        // ngModel.$render();\r\n      });\r\n      // viewValue -> 视图\r\n      ngModel.$render = function() {\r\n        var value = ngModel.$isEmpty(ngModel.$viewValue) ?\r\n          {} : ngModel.$viewValue;\r\n        $scope.minDate = value.min;\r\n        $scope.maxDate = value.max;\r\n      };\r\n\r\n      // 属性required与required的监听\r\n      var required = false;\r\n      $attr.$observe('required', function(value){\r\n        if(value === true || value === 'true') {\r\n          required = true;\r\n        } else {\r\n          required = false;\r\n        }\r\n        ngModel.$validate();\r\n      });\r\n      // required validator\r\n      ngModel.$validators.required = function(value) {\r\n        return !required || !!(value && value.min && value.max);\r\n      };\r\n\t\t}\r\n\t};\r\n}\r\n\r\nmodule.exports = directive;\r\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/global/datetime-range.directive.js\n// module id = 53\n// module chunks = 0","module.exports = \"<div class=\\\"datetime-range\\\">\\r\\n  <datetime-picker \\r\\n    class=\\\"datetime-range-start\\\"\\r\\n    ng-model=\\\"minDate\\\"\\r\\n    max-date=\\\"maxDate\\\"\\r\\n    mode=\\\"{{mode}}\\\"\\r\\n  ></datetime-picker>\\r\\n  <div class=\\\"datetime-range-divider\\\" style=\\\"line-height: 34px;\\\"> 至 </div>\\r\\n  <datetime-picker \\r\\n    class=\\\"datetime-range-end\\\"\\r\\n    ng-model=\\\"maxDate\\\"\\r\\n    min-date=\\\"minDate\\\"\\r\\n    mode=\\\"{{mode}}\\\"\\r\\n  ></datetime-picker>\\r\\n</div>\\r\\n\"\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/global/datetime-range.directive.html\n// module id = 54\n// module chunks = 0","// ui-bootstrap支持自定义timepicker的template-url\r\n// 为此使用$templateCache服务实现模板的打包\r\n// 除此之外的component模块均使用require引入template。\r\n\r\nexports.cacheTemplateRunBlock = ['$templateCache', function($templateCache){\r\n\r\n  $templateCache.put(\r\n    'global/datetime-modal.timepicker.html', \r\n    require('./datetime-modal.timepicker.html')\r\n  ); \r\n}];\r\n\r\n\r\n// exports.runFormlyConfig = ['formlyConfig', function(formlyConfig){\r\n//   // bootstrap formly插件提供了\r\n//   // wrapper: bootstrapLabel, has-error\r\n//   // types: checkbox, multiCheckbox, input, radio, select, textarea\r\n//   // bootstrap的form默认样式是一行label一行input\r\n  \r\n//   // 新增基本type\r\n//   // plainTimeRange\r\n  \r\n//   // .form-horizontal样式\r\n//   // 新增wrapper: horizontalBootstrapLabel\r\n//   // 新增types: input2, select2,\r\n  \r\n//   // set templates here\r\n//   formlyConfig.setWrapper({\r\n//     name: 'horizontalBootstrapLabel',\r\n//     template: [\r\n//       '<label for=\"{{::id}}\" class=\"col-sm-4 control-label\">',\r\n//         // '{{to.label}} {{to.required ? \"*\" : \"\"}}',\r\n//         '{{to.label}}',\r\n//       '</label>',\r\n//       '<div class=\"col-sm-8\">',\r\n//         '<formly-transclude></formly-transclude>',\r\n//       '</div>'\r\n//     ].join(' ')\r\n//   });\r\n  \r\n//   formlyConfig.setWrapper({\r\n//     name: 'horizontalBootstrapCheckbox',\r\n//     template: [\r\n//       '<div class=\"col-sm-4\"></div>',\r\n//       '<div class=\"col-sm-8\">',\r\n//         '<formly-transclude></formly-transclude>',\r\n//       '</div>'\r\n//     ].join(' ')\r\n//   });\r\n  \r\n//   // 水平 静态文本\r\n//   // templateOptions.label 标签 \r\n//   // templateOptions.text 内容\r\n//   formlyConfig.setType({\r\n//     name: 'static2',\r\n//     template: '<p class=\"form-control-static\">{{::to.text}}</p>',\r\n//     wrapper: ['horizontalBootstrapLabel', 'bootstrapHasError'],\r\n//     defaultOptions: {\r\n//       noFormControl: true\r\n//     }\r\n//   });\r\n//   // 水平 input\r\n//   formlyConfig.setType({\r\n//     name: 'input2',\r\n//     extends: 'input',\r\n//     wrapper: ['horizontalBootstrapLabel', 'bootstrapHasError']\r\n//   });\r\n//   // 水平 checkbox\r\n//   formlyConfig.setType({\r\n//     name: 'checkbox2',\r\n//     extends: 'checkbox',\r\n//     wrapper: ['horizontalBootstrapCheckbox', 'bootstrapHasError']\r\n//   });\r\n//   // 水平 select\r\n//   formlyConfig.setType({\r\n//     name: 'select2',\r\n//     extends: 'select',\r\n//     wrapper: ['horizontalBootstrapLabel', 'bootstrapHasError']\r\n//   });\r\n\r\n//   // 时间范围（min-max）未完成\r\n//   // 不包含label\r\n//   formlyConfig.setType({\r\n//     name: 'plainTimeRange',\r\n//     template: [\r\n//       '<div class=\"formly-time-range\">' +\r\n//         '<div class=\"formly-time-start\">' +\r\n//           '<div class=\"input-group\">' +\r\n//             '<p class=\"form-control\">{{ model[options.key].min | date:\"yyyy-MM-dd HH:mm:ss\" }}</p>' +\r\n//             '<span class=\"input-group-btn\">' +\r\n//               '<button class=\"btn btn-default\" type=\"button\" ng-click=\"selectMinTime()\">' +\r\n//                 '<span class=\"glyphicon glyphicon-calendar\"></span>' +\r\n//               '</button>' +\r\n//             '</span>' +\r\n//           '</div>' +\r\n//         '</div>' +\r\n//         '<div class=\"formly-time-divider\" style=\"line-height: 34px;\"> 至 </div>' +\r\n//         '<div class=\"formly-time-end\">' +\r\n//           '<div class=\"input-group\">' +\r\n//             '<p class=\"form-control\">{{ model[options.key].max | date:\"yyyy-MM-dd HH:mm:ss\" }}</p>' +\r\n//             '<span class=\"input-group-btn\">' +\r\n//               '<button class=\"btn btn-default\" type=\"button\" ng-click=\"selectMaxTime()\">' +\r\n//                 '<span class=\"glyphicon glyphicon-calendar\"></span>' +\r\n//               '</button>' +\r\n//             '</span>' +\r\n//           '</div>' +\r\n//         '</div>' +\r\n//       '</div>'\r\n//     ].join(''),\r\n//     // defaultOptions: {\r\n//     //   noFormControl: false\r\n//     // },\r\n//     controller: ['$scope', '$datetimeModalService', function($scope, $datetimeModalService){\r\n//       var model = $scope.model;\r\n//       var key = $scope.options.key;\r\n//       // console.log($scope.options);\r\n//       // console.log($scope);\r\n\r\n//       $scope.selectMinTime = function(){\r\n//         var date = model[key] = model[key] || {};\r\n//         $datetimeModalService.show({\r\n//           date: date.min,\r\n//           maxDate: date.max\r\n//         }).then(function(newDate){\r\n//           date.min = newDate;\r\n//           checkValidity();\r\n//         });\r\n//       };\r\n\r\n//       $scope.selectMaxTime = function(){\r\n//         var date = model[key] = model[key] || {};\r\n//         $datetimeModalService.show({\r\n//           date: date.max,\r\n//           minDate: date.min\r\n//         }).then(function(newDate){\r\n//           date.max = newDate;\r\n//           checkValidity();\r\n//         });\r\n//       };  \r\n\r\n//       function checkValidity() {\r\n//         var valid = !!(model[key] && model[key].min && model[key].max);\r\n//         if($scope.to.required) {\r\n//           $scope.form.$setValidity('required', valid);\r\n//         }\r\n//       }\r\n\r\n//       checkValidity();\r\n//     }]\r\n//   });\r\n  \r\n//   formlyConfig.setType({\r\n//     name: 'timeRange',\r\n//     extends: 'plainTimeRange',\r\n//     wrapper: ['bootstrapLabel', 'bootstrapHasError']\r\n//   });\r\n\r\n//   formlyConfig.setType({\r\n//     name: 'timeRange2',\r\n//     extends: 'plainTimeRange',\r\n//     wrapper: ['horizontalBootstrapLabel', 'bootstrapHasError']\r\n//   });\r\n\r\n//   // 测试用\r\n//   formlyConfig.setType({\r\n//     name: 'alert',\r\n//     template: '<button class=\"btn btn-default\" ng-click=\"alert();\">{{to.text}}</button>',\r\n//     controller: ['$scope', function($scope){\r\n//       $scope.alert = function(){\r\n//         alert('alert from TEST');\r\n//       };\r\n//     }]\r\n//   });\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n//   // // http://angular-formly.com/#/example/integrations/ui-select-angular-1-4\r\n//   // // NOTE: This next line is highly recommended. \r\n//   // // Otherwise Chrome's autocomplete will appear over your options!\r\n//   // formlyConfig.extras.removeChromeAutoComplete = true;\r\n  \r\n//   // // Configure custom types\r\n//   // formlyConfig.setType({\r\n//   //   name: 'ui-select-single',\r\n//   //   extends: 'select',\r\n//   //   template: require('./ui-select-single.html')\r\n//   // });\r\n//   // formlyConfig.setType({\r\n//   //   name: 'ui-select-single-select2',\r\n//   //   extends: 'select',\r\n//   //   template: require('./ui-select-single-select2.html')\r\n//   // });\r\n//   // formlyConfig.setType({\r\n//   //   name: 'ui-select-single-search',\r\n//   //   extends: 'select',\r\n//   //   template: require('./ui-select-single-async-search.html')\r\n//   // });\r\n\r\n//   // formlyConfig.setType({\r\n//   //   name: 'ui-select-multiple',\r\n//   //   extends: 'select',\r\n//   //   template: require('./ui-select-multiple.html')\r\n//   // });\r\n\r\n//   // // 实现表单中的重复区域\r\n//   // // http://angular-formly.com/#/example/advanced/repeating-section\r\n//   // var unique = 1;\r\n//   // formlyConfig.setType({\r\n//   //   name: 'repeatSection',\r\n//   //   templateUrl: 'repeatSection.html',\r\n//   //   controller: function($scope) {\r\n//   //     $scope.formOptions = {formState: $scope.formState};\r\n//   //     $scope.addNew = addNew;\r\n      \r\n//   //     $scope.copyFields = copyFields;\r\n      \r\n      \r\n//   //     function copyFields(fields) {\r\n//   //       fields = angular.copy(fields);\r\n//   //       addRandomIds(fields);\r\n//   //       return fields;\r\n//   //     }\r\n      \r\n//   //     function addNew() {\r\n//   //       $scope.model[$scope.options.key] = $scope.model[$scope.options.key] || [];\r\n//   //       var repeatsection = $scope.model[$scope.options.key];\r\n//   //       var lastSection = repeatsection[repeatsection.length - 1];\r\n//   //       var newsection = {};\r\n//   //       if (lastSection) {\r\n//   //         newsection = angular.copy(lastSection);\r\n//   //       }\r\n//   //       repeatsection.push(newsection);\r\n//   //     }\r\n      \r\n//   //     function addRandomIds(fields) {\r\n//   //       unique++;\r\n//   //       angular.forEach(fields, function(field, index) {\r\n//   //         if (field.fieldGroup) {\r\n//   //           addRandomIds(field.fieldGroup);\r\n//   //           return; // fieldGroups don't need an ID\r\n//   //         }\r\n          \r\n//   //         if (field.templateOptions && field.templateOptions.fields) {\r\n//   //           addRandomIds(field.templateOptions.fields);\r\n//   //         }\r\n          \r\n//   //         field.id = field.id || (field.key + '_' + index + '_' + unique + getRandomInt(0, 9999));\r\n//   //       });\r\n//   //     }\r\n      \r\n//   //     function getRandomInt(min, max) {\r\n//   //       return Math.floor(Math.random() * (max - min)) + min;\r\n//   //     }\r\n//   //   }\r\n//   // });\r\n  \r\n//   console.log('run config....');\r\n\r\n// }];\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/global/configs.js\n// module id = 55\n// module chunks = 0","module.exports = \"<table class=\\\"uib-timepicker\\\">\\r\\n  <tbody>\\r\\n    <tr>\\r\\n      <td rowspan=\\\"2\\\" class=\\\"form-group uib-time hours\\\" ng-class=\\\"{'has-error': invalidHours}\\\">\\r\\n        <input type=\\\"text\\\" placeholder=\\\"HH\\\" ng-model=\\\"hours\\\" ng-change=\\\"updateHours()\\\" class=\\\"form-control text-center\\\" ng-readonly=\\\"::readonlyInput\\\" maxlength=\\\"2\\\" tabindex=\\\"{{::tabindex}}\\\" ng-disabled=\\\"noIncrementHours()\\\" ng-blur=\\\"blur()\\\">\\r\\n      </td>\\r\\n      <td class=\\\"uib-increment hours\\\"><a ng-click=\\\"incrementHours()\\\" ng-class=\\\"{disabled: noIncrementHours()}\\\" class=\\\"btn\\\" ng-disabled=\\\"noIncrementHours()\\\" tabindex=\\\"-1\\\"><span class=\\\"glyphicon glyphicon-chevron-up\\\"></span></a></td>\\r\\n      <td rowspan=\\\"2\\\" class=\\\"uib-time-name\\\">时</td>\\r\\n      <td rowspan=\\\"2\\\" class=\\\"form-group uib-time minutes\\\" ng-class=\\\"{'has-error': invalidMinutes}\\\">\\r\\n        <input type=\\\"text\\\" placeholder=\\\"MM\\\" ng-model=\\\"minutes\\\" ng-change=\\\"updateMinutes()\\\" class=\\\"form-control text-center\\\" ng-readonly=\\\"::readonlyInput\\\" maxlength=\\\"2\\\" tabindex=\\\"{{::tabindex}}\\\" ng-disabled=\\\"noIncrementMinutes()\\\" ng-blur=\\\"blur()\\\">\\r\\n      </td>\\r\\n      <td class=\\\"uib-increment minutes\\\"><a ng-click=\\\"incrementMinutes()\\\" ng-class=\\\"{disabled: noIncrementMinutes()}\\\" class=\\\"btn\\\" ng-disabled=\\\"noIncrementMinutes()\\\" tabindex=\\\"-1\\\"><span class=\\\"glyphicon glyphicon-chevron-up\\\"></span></a></td>\\r\\n      <td rowspan=\\\"2\\\" class=\\\"uib-time-name\\\">分</td>\\r\\n      <td rowspan=\\\"2\\\" class=\\\"form-group uib-time seconds\\\" ng-class=\\\"{'has-error': invalidSeconds}\\\" ng-show=\\\"showSeconds\\\">\\r\\n        <input type=\\\"text\\\" placeholder=\\\"SS\\\" ng-model=\\\"seconds\\\" ng-change=\\\"updateSeconds()\\\" class=\\\"form-control text-center\\\" ng-readonly=\\\"readonlyInput\\\" maxlength=\\\"2\\\" tabindex=\\\"{{::tabindex}}\\\" ng-disabled=\\\"noIncrementSeconds()\\\" ng-blur=\\\"blur()\\\">\\r\\n      </td>\\r\\n      <td ng-show=\\\"showSeconds\\\" class=\\\"uib-increment seconds\\\"><a ng-click=\\\"incrementSeconds()\\\" ng-class=\\\"{disabled: noIncrementSeconds()}\\\" class=\\\"btn\\\" ng-disabled=\\\"noIncrementSeconds()\\\" tabindex=\\\"-1\\\"><span class=\\\"glyphicon glyphicon-chevron-up\\\"></span></a></td>\\r\\n      <td rowspan=\\\"2\\\" ng-show=\\\"showSeconds\\\" class=\\\"uib-time-name\\\">秒</td>\\r\\n      <td rowspan=\\\"2\\\" ng-show=\\\"showMeridian\\\" class=\\\"uib-time am-pm\\\"><button type=\\\"button\\\" ng-class=\\\"{disabled: noToggleMeridian()}\\\" class=\\\"btn btn-default text-center\\\" ng-click=\\\"toggleMeridian()\\\" ng-disabled=\\\"noToggleMeridian()\\\" tabindex=\\\"{{::tabindex}}\\\">{{meridian}}</button></td>\\r\\n    </tr>\\r\\n    <tr>\\r\\n      <td class=\\\"uib-decrement hours\\\"><a ng-click=\\\"decrementHours()\\\" ng-class=\\\"{disabled: noDecrementHours()}\\\" class=\\\"btn\\\" ng-disabled=\\\"noDecrementHours()\\\" tabindex=\\\"-1\\\"><span class=\\\"glyphicon glyphicon-chevron-down\\\"></span></a></td>\\r\\n      <td class=\\\"uib-decrement minutes\\\"><a ng-click=\\\"decrementMinutes()\\\" ng-class=\\\"{disabled: noDecrementMinutes()}\\\" class=\\\"btn\\\" ng-disabled=\\\"noDecrementMinutes()\\\" tabindex=\\\"-1\\\"><span class=\\\"glyphicon glyphicon-chevron-down\\\"></span></a></td>\\r\\n      <td ng-show=\\\"showSeconds\\\" class=\\\"uib-decrement seconds\\\"><a ng-click=\\\"decrementSeconds()\\\" ng-class=\\\"{disabled: noDecrementSeconds()}\\\" class=\\\"btn\\\" ng-disabled=\\\"noDecrementSeconds()\\\" tabindex=\\\"-1\\\"><span class=\\\"glyphicon glyphicon-chevron-down\\\"></span></a></td>\\r\\n    </tr>\\r\\n    <!-- <tr class=\\\"text-center\\\" ng-show=\\\"::showSpinners\\\">\\r\\n      \\r\\n      \\r\\n      <td ng-show=\\\"showSeconds\\\">&nbsp;</td>\\r\\n      <td ng-show=\\\"showSeconds\\\" class=\\\"uib-increment seconds\\\"><a ng-click=\\\"incrementSeconds()\\\" ng-class=\\\"{disabled: noIncrementSeconds()}\\\" class=\\\"btn btn-link\\\" ng-disabled=\\\"noIncrementSeconds()\\\" tabindex=\\\"-1\\\"><span class=\\\"glyphicon glyphicon-chevron-up\\\"></span></a></td>\\r\\n      <td ng-show=\\\"showMeridian\\\"></td>\\r\\n    </tr>\\r\\n    <tr>\\r\\n    \\r\\n\\r\\n      <td ng-show=\\\"showSeconds\\\" class=\\\"uib-separator\\\">:</td>\\r\\n      <td class=\\\"form-group uib-time seconds\\\" ng-class=\\\"{'has-error': invalidSeconds}\\\" ng-show=\\\"showSeconds\\\">\\r\\n        <input type=\\\"text\\\" placeholder=\\\"SS\\\" ng-model=\\\"seconds\\\" ng-change=\\\"updateSeconds()\\\" class=\\\"form-control text-center\\\" ng-readonly=\\\"readonlyInput\\\" maxlength=\\\"2\\\" tabindex=\\\"{{::tabindex}}\\\" ng-disabled=\\\"noIncrementSeconds()\\\" ng-blur=\\\"blur()\\\">\\r\\n      </td>\\r\\n      <td ng-show=\\\"showMeridian\\\" class=\\\"uib-time am-pm\\\"><button type=\\\"button\\\" ng-class=\\\"{disabled: noToggleMeridian()}\\\" class=\\\"btn btn-default text-center\\\" ng-click=\\\"toggleMeridian()\\\" ng-disabled=\\\"noToggleMeridian()\\\" tabindex=\\\"{{::tabindex}}\\\">{{meridian}}</button></td>\\r\\n    </tr>\\r\\n    <tr class=\\\"text-center\\\" ng-show=\\\"::showSpinners\\\">\\r\\n      <td class=\\\"uib-decrement hours\\\"><a ng-click=\\\"decrementHours()\\\" ng-class=\\\"{disabled: noDecrementHours()}\\\" class=\\\"btn btn-link\\\" ng-disabled=\\\"noDecrementHours()\\\" tabindex=\\\"-1\\\"><span class=\\\"glyphicon glyphicon-chevron-down\\\"></span></a></td>\\r\\n      <td>&nbsp;</td>\\r\\n      <td class=\\\"uib-decrement minutes\\\"><a ng-click=\\\"decrementMinutes()\\\" ng-class=\\\"{disabled: noDecrementMinutes()}\\\" class=\\\"btn btn-link\\\" ng-disabled=\\\"noDecrementMinutes()\\\" tabindex=\\\"-1\\\"><span class=\\\"glyphicon glyphicon-chevron-down\\\"></span></a></td>\\r\\n      <td ng-show=\\\"showSeconds\\\">&nbsp;</td>\\r\\n      <td ng-show=\\\"showSeconds\\\" class=\\\"uib-decrement seconds\\\"><a ng-click=\\\"decrementSeconds()\\\" ng-class=\\\"{disabled: noDecrementSeconds()}\\\" class=\\\"btn btn-link\\\" ng-disabled=\\\"noDecrementSeconds()\\\" tabindex=\\\"-1\\\"><span class=\\\"glyphicon glyphicon-chevron-down\\\"></span></a></td>\\r\\n      <td ng-show=\\\"showMeridian\\\"></td>\\r\\n    </tr> -->\\r\\n  </tbody>\\r\\n</table>\\r\\n\\r\\n<!-- \\r\\n\\r\\n<table class=\\\"uib-timepicker\\\">\\r\\n  <tbody>\\r\\n    <tr class=\\\"text-center\\\" ng-show=\\\"::showSpinners\\\">\\r\\n      <td class=\\\"uib-increment hours\\\"><a ng-click=\\\"incrementHours()\\\" ng-class=\\\"{disabled: noIncrementHours()}\\\" class=\\\"btn btn-link\\\" ng-disabled=\\\"noIncrementHours()\\\" tabindex=\\\"-1\\\"><span class=\\\"glyphicon glyphicon-chevron-up\\\"></span></a></td>\\r\\n      <td>&nbsp;</td>\\r\\n      <td class=\\\"uib-increment minutes\\\"><a ng-click=\\\"incrementMinutes()\\\" ng-class=\\\"{disabled: noIncrementMinutes()}\\\" class=\\\"btn btn-link\\\" ng-disabled=\\\"noIncrementMinutes()\\\" tabindex=\\\"-1\\\"><span class=\\\"glyphicon glyphicon-chevron-up\\\"></span></a></td>\\r\\n      <td ng-show=\\\"showSeconds\\\">&nbsp;</td>\\r\\n      <td ng-show=\\\"showSeconds\\\" class=\\\"uib-increment seconds\\\"><a ng-click=\\\"incrementSeconds()\\\" ng-class=\\\"{disabled: noIncrementSeconds()}\\\" class=\\\"btn btn-link\\\" ng-disabled=\\\"noIncrementSeconds()\\\" tabindex=\\\"-1\\\"><span class=\\\"glyphicon glyphicon-chevron-up\\\"></span></a></td>\\r\\n      <td ng-show=\\\"showMeridian\\\"></td>\\r\\n    </tr>\\r\\n    <tr>\\r\\n      <td class=\\\"form-group uib-time hours\\\" ng-class=\\\"{'has-error': invalidHours}\\\">\\r\\n        <input type=\\\"text\\\" placeholder=\\\"HH\\\" ng-model=\\\"hours\\\" ng-change=\\\"updateHours()\\\" class=\\\"form-control text-center\\\" ng-readonly=\\\"::readonlyInput\\\" maxlength=\\\"2\\\" tabindex=\\\"{{::tabindex}}\\\" ng-disabled=\\\"noIncrementHours()\\\" ng-blur=\\\"blur()\\\">\\r\\n      </td>\\r\\n      <td class=\\\"uib-separator\\\">:</td>\\r\\n      <td class=\\\"form-group uib-time minutes\\\" ng-class=\\\"{'has-error': invalidMinutes}\\\">\\r\\n        <input type=\\\"text\\\" placeholder=\\\"MM\\\" ng-model=\\\"minutes\\\" ng-change=\\\"updateMinutes()\\\" class=\\\"form-control text-center\\\" ng-readonly=\\\"::readonlyInput\\\" maxlength=\\\"2\\\" tabindex=\\\"{{::tabindex}}\\\" ng-disabled=\\\"noIncrementMinutes()\\\" ng-blur=\\\"blur()\\\">\\r\\n      </td>\\r\\n      <td ng-show=\\\"showSeconds\\\" class=\\\"uib-separator\\\">:</td>\\r\\n      <td class=\\\"form-group uib-time seconds\\\" ng-class=\\\"{'has-error': invalidSeconds}\\\" ng-show=\\\"showSeconds\\\">\\r\\n        <input type=\\\"text\\\" placeholder=\\\"SS\\\" ng-model=\\\"seconds\\\" ng-change=\\\"updateSeconds()\\\" class=\\\"form-control text-center\\\" ng-readonly=\\\"readonlyInput\\\" maxlength=\\\"2\\\" tabindex=\\\"{{::tabindex}}\\\" ng-disabled=\\\"noIncrementSeconds()\\\" ng-blur=\\\"blur()\\\">\\r\\n      </td>\\r\\n      <td ng-show=\\\"showMeridian\\\" class=\\\"uib-time am-pm\\\"><button type=\\\"button\\\" ng-class=\\\"{disabled: noToggleMeridian()}\\\" class=\\\"btn btn-default text-center\\\" ng-click=\\\"toggleMeridian()\\\" ng-disabled=\\\"noToggleMeridian()\\\" tabindex=\\\"{{::tabindex}}\\\">{{meridian}}</button></td>\\r\\n    </tr>\\r\\n    <tr class=\\\"text-center\\\" ng-show=\\\"::showSpinners\\\">\\r\\n      <td class=\\\"uib-decrement hours\\\"><a ng-click=\\\"decrementHours()\\\" ng-class=\\\"{disabled: noDecrementHours()}\\\" class=\\\"btn btn-link\\\" ng-disabled=\\\"noDecrementHours()\\\" tabindex=\\\"-1\\\"><span class=\\\"glyphicon glyphicon-chevron-down\\\"></span></a></td>\\r\\n      <td>&nbsp;</td>\\r\\n      <td class=\\\"uib-decrement minutes\\\"><a ng-click=\\\"decrementMinutes()\\\" ng-class=\\\"{disabled: noDecrementMinutes()}\\\" class=\\\"btn btn-link\\\" ng-disabled=\\\"noDecrementMinutes()\\\" tabindex=\\\"-1\\\"><span class=\\\"glyphicon glyphicon-chevron-down\\\"></span></a></td>\\r\\n      <td ng-show=\\\"showSeconds\\\">&nbsp;</td>\\r\\n      <td ng-show=\\\"showSeconds\\\" class=\\\"uib-decrement seconds\\\"><a ng-click=\\\"decrementSeconds()\\\" ng-class=\\\"{disabled: noDecrementSeconds()}\\\" class=\\\"btn btn-link\\\" ng-disabled=\\\"noDecrementSeconds()\\\" tabindex=\\\"-1\\\"><span class=\\\"glyphicon glyphicon-chevron-down\\\"></span></a></td>\\r\\n      <td ng-show=\\\"showMeridian\\\"></td>\\r\\n    </tr>\\r\\n  </tbody>\\r\\n</table>\\r\\n -->\"\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/global/datetime-modal.timepicker.html\n// module id = 56\n// module chunks = 0","var appComponent = require('./app.component');\r\nvar constants = require('./constants');\r\nvar states = require('./states');\r\nvar configs = require('./configs');\r\nvar filters = require('./filters');\r\n\r\nrequire('./main.css');\r\n\r\nmodule.exports = {\r\n\tconstants: {\r\n    store: constants.store,\r\n    apiBaseUrl: constants.apiBaseUrl,\r\n\t\trulesTypes: constants.rulesTypes,\r\n\t\truleTypes: constants.ruleTypes,\r\n\t\ttaskStatus: constants.taskStatus,\r\n\t\tboolOptions: constants.boolOptions,\r\n\t\ttimeOptions: constants.timeOptions,\r\n\t\tcompareOptions: constants.compareOptions,\r\n\t\tsexOptions: constants.sexOptions,\r\n\t\tpointsOptions: constants.pointsOptions,\r\n\t\tcouponOptions: constants.couponOptions\r\n\t},\r\n  components: {\r\n    app: appComponent,\r\n  },\r\n  filters: {\r\n    taskStatusFilter: filters.taskStatusFilter\r\n  },\r\n  states: [states.appState],\r\n  configBlocks: [\r\n    configs.otherwiseConfigBlock, \r\n    configs.httpConfigBlock\r\n  ],\r\n  runBlocks: [\r\n    \r\n  ]\r\n};\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/main/index.js\n// module id = 57\n// module chunks = 0","controller.$inject = ['$rootScope', '$state', '$transitions', 'store'];\r\nfunction controller($rootScope, $state, $transitions, store){\r\n  var $ctrl = this;\r\n  $ctrl.$state = $state;\r\n  $ctrl.store = store;\r\n  $ctrl.isRulesList = false; // 规则组列表 + 未加入任务的规则组详情\r\n  $ctrl.isViewRulesList = false; // 已加入任务的规则组详情\r\n  $ctrl.isNewRules = false;\r\n  var viewRulesType = 0;\r\n\r\n  $transitions.onSuccess({}, function(){\r\n    isNewRules();\r\n    isRulesList();\r\n  });\r\n  // view-rules-list.component.js\r\n  // type = 1 显示为执行期规则组 \r\n  // type = 2 显示为规则组列表\r\n  $rootScope.$on('VIEW_RULES_TYPE', function(e, type){\r\n    viewRulesType = type;\r\n    isRulesList();\r\n  });\r\n\r\n  isNewRules();\r\n  isRulesList();\r\n  function isNewRules(){\r\n    var is = $state.is('newRules') || $state.is('newRuleList') || $state.is('newRule');\r\n    $ctrl.isNewRules = is;\r\n  }\r\n\r\n  function isRulesList(){\r\n    $ctrl.isRulesList = $state.is('rulesList') || \r\n      $state.is('viewRules') && viewRulesType == 2;\r\n    $ctrl.isViewRulesList = $state.is('viewRulesList') || \r\n      $state.is('viewRules') && viewRulesType == 1;\r\n  }\r\n}\r\nmodule.exports = {\r\n  template: require('./app.component.html'),\r\n  controller: controller\r\n};\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/main/app.component.js\n// module id = 58\n// module chunks = 0","module.exports = \"<div class=\\\"app-main\\\">\\r\\n  <div class=\\\"app-main-nav\\\">\\r\\n    <h1 class=\\\"page-title\\\">任务管理</h1>\\r\\n<!--     <p>\\r\\n      <label>\\r\\n        <input type=\\\"checkbox\\\" ng-model=\\\"$ctrl.store.hideEditArea\\\">隐藏\\r\\n      </label>\\r\\n    </p> -->\\r\\n    <ul class=\\\"nav nav-pills nav-stacked\\\">\\r\\n      <li ui-sref-active=\\\"active\\\"><a ui-sref=\\\"tasksList\\\">任务列表</a></li>\\r\\n      <li ui-sref-active=\\\"active\\\"><a ui-sref=\\\"newTask\\\">新建任务</a></li>\\r\\n      <li ng-class=\\\"{'active': $ctrl.isRulesList}\\\"><a ui-sref=\\\"rulesList\\\">规则组列表</a></li>\\r\\n      <li ng-class=\\\"{'active': $ctrl.isViewRulesList}\\\"><a ui-sref=\\\"viewRulesList\\\">执行期规则组</a></li>\\r\\n      <li ng-class=\\\"{'active': $ctrl.isNewRules}\\\" ng-hide=\\\"$ctrl.store.hideEditArea\\\"><a ui-sref=\\\"newRules\\\">新建规则组</a></li>\\r\\n      <li ui-sref-active=\\\"active\\\"><a ui-sref=\\\"importRules\\\">导入规则组</a></li>\\r\\n      <li ui-sref-active=\\\"active\\\" ng-hide=\\\"$ctrl.store.hideEditArea\\\"><a ui-sref=\\\"test\\\">测试</a></li>\\r\\n    </ul>\\r\\n  </div>\\r\\n  <div class=\\\"app-main-content\\\">\\r\\n    <h1 class=\\\"page-title\\\">{{$ctrl.$state.$current.title}}</h1>\\r\\n    <ui-view class=\\\"app-ui-view\\\"></ui-view>\\r\\n  </div>\\r\\n</div>\"\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/main/app.component.html\n// module id = 59\n// module chunks = 0","// 全局常量\r\nexports.store = {\r\n  hideEditArea: true,\r\n  viewRulesNav: false\r\n};\r\nexports.apiBaseUrl = 'http://dmp.arlakitchen.com';\r\n\r\n// 规则组类型\r\nexports.rulesTypes = [\r\n  { \r\n    id: '网站', \r\n    title: '网站',\r\n    types: [\r\n      { id: 1, title: '页面' },\r\n      { id: 2, title: '点击' },\r\n      { id: 3, title: '订单' },\r\n      { id: 4, title: '购物车' },\r\n      { id: 5, title: '微信' },\r\n      { id: 6, title: '会员积分' },\r\n      { id: 7, title: '搜索' },\r\n      { id: 8, title: '活动' },\r\n      { id: 9, title: '优惠券' },\r\n      { id: 10, title: '中奖' },\r\n      { id: 11, title: '关联型' }\r\n    ] \r\n  },\r\n  { \r\n    id: '广告', \r\n    title: '广告',\r\n    types: [\r\n      { id: 1, title: '广告主题/特征' },\r\n      { id: 2, title: '广告曝光量' },\r\n      { id: 3, title: '广告点击量' },\r\n      { id: 4, title: '广告投放媒体' }\r\n    ]\r\n  },\r\n  { \r\n    id: '呼叫中心', \r\n    title: '呼叫中心',\r\n    types: [\r\n      { id: 1, title: '电话归属地' },\r\n      { id: 2, title: '呼入手机号' },\r\n      { id: 3, title: '呼入手机号运营商' },\r\n      { id: 4, title: '呼入时段' },\r\n      { id: 5, title: '呼叫内容关键字' }\r\n    ] \r\n  },\r\n  { \r\n    id: '社会化媒体', \r\n    title: '社会化媒体',\r\n    types: []\r\n  }\r\n];\r\n// 规则类型\r\nexports.ruleTypes = [\r\n  {\r\n    id: 1,\r\n    title: '网站',\r\n    types: [\r\n      { id: 1, title: '页面' },\r\n      { id: 2, title: '点击' },\r\n      { id: 3, title: '订单' },\r\n      { id: 4, title: '购物车' },\r\n      { id: 5, title: '微信' },\r\n      { id: 6, title: '会员积分' },\r\n      { id: 7, title: '搜索' },\r\n      { id: 8, title: '活动' },\r\n      { id: 9, title: '优惠券' },\r\n      { id: 10, title: '中奖' },\r\n      { id: 11, title: '关联型' }\r\n    ]\r\n  },\r\n  {\r\n    id: 2,\r\n    title: '网站',\r\n    types: [\r\n      { id: 1, title: '页面' },\r\n      { id: 2, title: '点击' },\r\n      { id: 3, title: '订单' },\r\n      { id: 4, title: '购物车' },\r\n      { id: 5, title: '微信' },\r\n      { id: 6, title: '会员积分' },\r\n      { id: 7, title: '搜索' },\r\n      { id: 8, title: '活动' },\r\n      { id: 9, title: '优惠券' },\r\n      { id: 10, title: '中奖' },\r\n      { id: 11, title: '关联型' }\r\n    ]\r\n  }\r\n];\r\nexports.ruleTypes = [\r\n  { id: 1, title: '页面' },\r\n  { id: 2, title: '点击' },\r\n  { id: 3, title: '订单' },\r\n  { id: 4, title: '购物车' },\r\n  { id: 5, title: '微信' },\r\n  { id: 6, title: '会员积分' },\r\n  { id: 7, title: '搜索' },\r\n  { id: 8, title: '活动' },\r\n  { id: 9, title: '优惠券' },\r\n  { id: 10, title: '中奖' },\r\n  { id: 11, title: '关联型' }\r\n];\r\n// 任务状态\r\nexports.taskStatus = [\r\n  { id: 0, title: '未开始' },\r\n  { id: 1, title: '执行中' },\r\n  { id: 2, title: '暂停中' },\r\n  { id: 3, title: '已结束' },\r\n  { id: 4, title: '未加入' }\r\n];\r\n// 真假选择\r\nexports.boolOptions = [\r\n  { id: 1, title: '震' },\r\n  { id: 2, title: '假' }\r\n];\r\n// 时间选择\r\nexports.timeOptions = [\r\n  { id: 1, title: '开始时间' },\r\n  { id: 2, title: '结束时间' }\r\n];\r\n// 时间选择\r\nexports.compareOptions = [\r\n  { id: 1, title: '大于' },\r\n  { id: 2, title: '小于等于' },\r\n  { id: 2, title: '小于' },\r\n  { id: 2, title: '小于等于' },\r\n  { id: 3, title: '等于' }\r\n];\r\n// 行别选择\r\nexports.sexOptions = [\r\n  { id: 1, title: '男' },\r\n  { id: 2, title: '女' },\r\n  { id: 3, title: '保密' }\r\n];\r\n// 积分选择\r\nexports.pointsOptions = [\r\n  { id: 1, title: '购买积分' },\r\n  { id: 2, title: '行为积分' }\r\n];\r\n// 优惠券选择\r\nexports.couponOptions = [\r\n  { id: 1, title: '领取优惠券' },\r\n  { id: 2, title: '使用优惠券' }\r\n];\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/main/constants.js\n// module id = 60\n// module chunks = 0","exports.appState = {\r\n  name: 'app',\r\n  redirectTo: 'tasksList',\r\n  component: 'app'\r\n};\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/main/states.js\n// module id = 61\n// module chunks = 0","// $state otherwise\r\nexports.otherwiseConfigBlock = ['$urlRouterProvider', function ($urlRouterProvider) { \r\n  $urlRouterProvider.otherwise('/task'); \r\n}];\r\n\r\n// $http interceptor\r\nexports.httpConfigBlock = ['$httpProvider', 'dateServiceProvider', \r\nfunction ($httpProvider, dateServiceProvider) { \r\n\r\n  var dateService = dateServiceProvider.$get();\r\n  \r\n  $httpProvider.defaults.transformRequest = function(data, headersGetter){\r\n    var str = [];\r\n    var key, value, output;\r\n    for(key in data){\r\n      value = data[key];\r\n      str.push(encodeURIComponent(key) + '=' + encodeURIComponent(value));\r\n    }\r\n    return str.join('&');\r\n  };\r\n  // 修改post的默认请求头\r\n  $httpProvider.defaults.headers.post = {\r\n    'Content-Type': 'application/x-www-form-urlencoded'\r\n  };\r\n  // 请求拦截器\r\n  $httpProvider.interceptors.push(['$q', function($q){\r\n    return {\r\n      'request': function(req) {\r\n        var fromApi = /^http/.test(req.url);\r\n\r\n        if(!fromApi) {\r\n          return req;\r\n        }\r\n\r\n        // console.log(req);\r\n\r\n        // 转换local time为server time\r\n        req.params = recurse(\r\n          req.params, \r\n          angular.isDate, \r\n          dateService.toString);\r\n        req.data = recurse(\r\n          req.data, \r\n          angular.isDate, \r\n          dateService.toString);\r\n\r\n        return req;\r\n      },\r\n      'response': function(res) {\r\n        var fromApi = /^http/.test(res.config.url);\r\n\r\n        // console.log(res);\r\n        if(!fromApi) {\r\n          return res;\r\n        }\r\n\r\n        // 请求状态码\r\n        // var resStatus = res.status;\r\n        // if(resStatus !== 200) {\r\n          // throw new Error(resStatus);\r\n          // return $q.reject(new Error(resStatus));\r\n        // }\r\n\r\n        var data = res.data;\r\n        var status = data && data.Status;\r\n        var information = data && data.Information;\r\n        var _data = data && data.Data || {};\r\n        \r\n        if(status == 1) {\r\n\r\n          // 转换server time为local time\r\n          // console.log(_data);\r\n          _data = recurse(\r\n            _data, \r\n            dateService.isDateString, \r\n            dateService.fromString);\r\n\r\n          // 列表接口还有一层嵌套的Data\r\n          var __data = _data.Data;\r\n          if(angular.isArray(__data)) {\r\n            if(_data.hasOwnProperty('count')) {\r\n              __data.count = _data.count;\r\n            }\r\n            _data = __data;\r\n          }\r\n\r\n          _data.Information = information;\r\n          return $q.resolve(_data);\r\n        }\r\n\r\n        return $q.reject(information);\r\n      }\r\n    };\r\n  }]); \r\n  \r\n  // 递归方法，递归处理一个object里的所有属性\r\n  // 返回一个新的object\r\n  // condition 终止条件\r\n  // callback 终止回调\r\n  function recurse(obj, condition, callback){\r\n    if(condition(obj)) {\r\n      return callback(obj);\r\n    }\r\n    // 无视文件\r\n    if(obj instanceof File) {\r\n      return obj;\r\n    }\r\n    if(angular.isObject(obj)) {\r\n      var _obj;\r\n      if(angular.isArray(obj)) {\r\n        _obj = [];\r\n      } else {\r\n        _obj = {};\r\n      }\r\n      angular.forEach(obj, function(value, key){\r\n        _obj[key] = recurse(value, condition, callback);\r\n      });\r\n      return _obj;\r\n    }\r\n    return obj; \r\n  }\r\n}];\r\n\r\n// $httpBackend 模拟返回\r\n// exports.httpBackendRunBlock = ['$httpBackend', function ($httpBackend) { \r\n  \r\n//   $httpBackend.whenGET(/^\\/api\\/findtask/).respond(200, { \r\n//     \"Status\": \"1\",\r\n//     \"Information\": \"成功！ \",\r\n//     \"Data\":{\r\n//       \"count\":1,\r\n//       \"Data\":[{\r\n//         \"SiteID\":1542,\r\n//         \"RuleGroupType\":\"规则组类型\",\r\n//         \"RuleGroupName\":\"规则组名称\",\r\n//         \"StartDate\":\"开始时间\",\r\n//         \"EndDate\":\"结束时间\",\r\n//         \"Status\":\"状态\",\r\n//         \"CreateTime\":\"创建时间\"\r\n//       }]\r\n//     }\r\n//   });\r\n\r\n//   // $httpBackend.whenGET(/\\/uib/).passThrough();\r\n// }];\r\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/main/configs.js\n// module id = 62\n// module chunks = 0","exports.taskStatusFilter = ['taskStatus', function(taskStatus){\r\n  return function(input){\r\n    if(!input) {\r\n      return '';\r\n    }\r\n    var status = taskStatus.find(function(item){\r\n      return item.id == input;\r\n    });\r\n    return status && status.title;\r\n  };\r\n}];\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/main/filters.js\n// module id = 63\n// module chunks = 0","var taskListComponent = require('./task-list.component');\r\nvar editTaskComponent = require('./edit-task.component');\r\nvar testComponent = require('./test.component');\r\nvar states = require('./states');\r\nvar services = require('./services');\r\n\r\nmodule.exports = {\r\n  components: {\r\n    taskList: taskListComponent,\r\n    editTask: editTaskComponent,\r\n    test: testComponent,\r\n  },\r\n  states: [\r\n    states.taskListState,\r\n    states.newTaskState,\r\n    states.editTaskState,\r\n    states.testState,\r\n  ],\r\n  factories: {\r\n    tasksService: services.tasksService\r\n  }\r\n};\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/tasks/index.js\n// module id = 66\n// module chunks = 0","require('./task-list.component.css');\r\n\r\ncontroller.$inject = ['tasksService', 'rulesTypes', 'taskStatus', 'store'];\r\nfunction controller(tasksService, rulesTypes, taskStatus, store){\r\n  var $ctrl = this;\r\n  $ctrl.store = store;\r\n  $ctrl.data = [];\r\n  $ctrl.update = null; // 等xx-table初始化后填充\r\n  // $ctrl.filter = filter;\r\n\r\n  var _taskStatus = taskStatus.slice(0, -1); // 去掉未加入任务\r\n\r\n  // formly配置 \r\n  $ctrl.model = {\r\n    timeOption: 0\r\n  };\r\n  $ctrl.options = {};\r\n  $ctrl.fields = [\r\n    { \r\n      className: 'row',\r\n      fieldGroup: [\r\n        {\r\n          key: 'siteid',\r\n          type: 'input2',\r\n          className: 'col-sm-6 col-lg-3',\r\n          templateOptions: {\r\n            label: 'site ID/广告ID'\r\n          }\r\n        },\r\n        {\r\n          key: 'rulegroupname',\r\n          type: 'input2',\r\n          className: 'col-sm-6 col-lg-3',\r\n          templateOptions: {\r\n            label: '规则组名称'\r\n          }\r\n        },\r\n        {\r\n          key: 'rulegrouptype',\r\n          type: 'select2',\r\n          className: 'col-sm-6 col-lg-3',\r\n          templateOptions: {\r\n            label: '规则组类型',\r\n            valueProp: 'id',\r\n            labelProp: 'title',\r\n            options: [{id: undefined, title: '全部'}].concat(rulesTypes)\r\n          }\r\n        },\r\n        {\r\n          key: 'status',\r\n          type: 'select2',\r\n          className: 'col-sm-6 col-lg-3',\r\n          templateOptions: {\r\n            label: '任务状态',\r\n            valueProp: 'id',\r\n            labelProp: 'title',\r\n            options: [{id: undefined, title: '全部'}].concat(_taskStatus)\r\n          }\r\n        }\r\n      ]\r\n    },\r\n    {\r\n      className: 'row',\r\n      fieldGroup: [\r\n        {\r\n          key: 'timeOption',\r\n          type: 'select',\r\n          className: 'col-sm-2',\r\n          templateOptions: {\r\n            label: '',\r\n            valueProp: 'id',\r\n            labelProp: 'title',\r\n            options: [\r\n              {id: 0, title: '开始时间'},\r\n              {id: 1, title: '结束时间'},\r\n            ]\r\n          }\r\n        },\r\n        {\r\n          key: 'time',\r\n          type: 'timeRange',\r\n          className: 'col-sm-8 col-md-6 pl30',\r\n          templateOptions: {\r\n            label: ''\r\n          }\r\n        }\r\n      ]\r\n    }\r\n  ];\r\n\r\n  // xx-table配置\r\n  $ctrl.tableConfig = {\r\n    data: [],\r\n    firstUpdate: true,\r\n    getData: getData,\r\n    columns: [\r\n      {\r\n        head: 'site ID/广告ID',\r\n        data: '{{ row.SiteID }}'\r\n      }, {\r\n        head: '规则组名称',\r\n        data: '{{ row.RuleGroupName }}'\r\n      }, {\r\n        head: '规则组类型',\r\n        data: '{{ row.RuleGroupType }}'\r\n      }, {\r\n        head: '开始时间',\r\n        data: '{{ row.StartDate | date2 }}'\r\n      }, {\r\n        head: '结束时间',\r\n        data: '{{ row.EndDate | date2 }}'\r\n      }, {\r\n        head: '状态',\r\n        data: '{{ methods.getStatusTitle(row.Status) }}'\r\n      }, {\r\n        // hide: store.hideEditArea,\r\n        head: '任务进度',\r\n        data: '<div class=\"text-center\">{{methods.getPercent(row.Percentage)}}%</div>' +\r\n          '<uib-progressbar value=\"methods.getPercent(row.Percentage)\" type=\"success\"></uib-progressbar>'\r\n      }, {\r\n        head: '创建时间',\r\n        data: '{{ row.CreateTime | date2 }}'\r\n      }, {\r\n        head: '操作',\r\n        data: '<a ui-sref=\"editTask({taskId: row.TaskID})\">编辑任务时间</a>'\r\n      }\r\n    ],\r\n    methods: {\r\n      getStatusTitle: getStatusTitle,\r\n      getPercent: getPercent\r\n    }\r\n  };\r\n  $ctrl.onTableInit = onTableInit;\r\n\r\n  function getData(){\r\n    var timeOption = $ctrl.model.timeOption;\r\n    var time = $ctrl.model.time || {};\r\n    var params = {\r\n      siteid: $ctrl.model.siteid,\r\n      rulegroupname: $ctrl.model.rulegroupname,\r\n      rulegrouptype: $ctrl.model.rulegrouptype,\r\n      status: $ctrl.model.status,\r\n      startdate: timeOption == 0 && time.min || null,\r\n      startdate1: timeOption == 0 && time.max || null,\r\n      enddate: timeOption == 1 && time.min || null,\r\n      enddate1: timeOption == 1 && time.max || null\r\n    };\r\n\r\n    return tasksService.getTasks(params);\r\n  }\r\n  function onTableInit(update){\r\n    console.log('on table init');\r\n    $ctrl.update = update;\r\n  }\r\n  function getStatusTitle(_status){\r\n    var status = taskStatus.find(function(status){\r\n      return status.id == _status;\r\n    });\r\n    if(status) {\r\n      return status.title;\r\n    }\r\n    return '';\r\n  }\r\n  // 0.99 -> 99\r\n  function getPercent(number){\r\n    var p = parseFloat(number + '');\r\n    return Math.round(p * 100)\r\n  }\r\n\r\n  // filter();\r\n  // function filter(){\r\n  //   var timeOption = $ctrl.model.timeOption;\r\n  //   var time = $ctrl.model.time || {};\r\n  //   var params = {\r\n  //     siteid: $ctrl.model.siteid,\r\n  //     rulegroupname: $ctrl.model.rulegroupname,\r\n  //     rulegrouptype: $ctrl.model.rulegrouptype,\r\n  //     status: $ctrl.model.status,\r\n  //     startdate: timeOption == 0 && time.min || null,\r\n  //     startdate1: timeOption == 0 && time.max || null,\r\n  //     enddate: timeOption == 1 && time.min || null,\r\n  //     enddate1: timeOption == 1 && time.max || null\r\n  //   };\r\n\r\n  //   tasksService.getTasks(params).then(function(data){\r\n  //     $ctrl.data = data || [];\r\n  //     $ctrl.data.forEach(function(row){\r\n  //       var status = taskStatus.find(function(status){\r\n  //         return status.id == row.Status;\r\n  //       });\r\n  //       if(status) {\r\n  //         row.StatusTitle = status.title;\r\n  //       }\r\n  //     });\r\n  //   }, function(reason){\r\n  //     console.log(reason);\r\n  //   });\r\n  // }\r\n}\r\n\r\nmodule.exports = {\r\n  template: require('./task-list.component.html'),\r\n  controller: controller\r\n};\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/tasks/task-list.component.js\n// module id = 67\n// module chunks = 0","module.exports = \"<div class=\\\"task-list\\\">\\r\\n  <!-- 筛选 -->\\r\\n  <div class=\\\"well well-default\\\">\\r\\n    <form class=\\\"form-horizontal\\\" name=\\\"$ctrl.form\\\" novalidate>\\r\\n      <formly-form model=\\\"$ctrl.model\\\" fields=\\\"$ctrl.fields\\\" form=\\\"$ctrl.form\\\" options=\\\"$ctrl.options\\\">\\r\\n      </formly-form>\\r\\n      <button class=\\\"btn btn-success\\\" ng-click=\\\"$ctrl.update()\\\">筛选</button>\\r\\n      <button class=\\\"btn btn-default\\\" ng-click=\\\"$ctrl.options.resetModel()\\\">重置</button>  \\r\\n    </form>\\r\\n    <!-- <div>{{ $ctrl.model | json }}</div> -->\\r\\n  </div>\\r\\n  <p><a ui-sref=\\\"newTask\\\" class=\\\"btn btn-success\\\">新建任务</a></p>\\r\\n  <!-- 任务列表 -->\\r\\n<!--   <table class=\\\"table table-bordered table-hover\\\">\\r\\n    <thead class=\\\"bg-default\\\">\\r\\n      <tr>\\r\\n        <td>site ID/广告ID</td>\\r\\n        <td>规则组名称</td>\\r\\n        <td>规则组类型</td>\\r\\n        <td>开始时间</td>\\r\\n        <td>结束时间</td>\\r\\n        <td>状态</td>\\r\\n        <td ng-hide=\\\"$ctrl.store.hideEditArea\\\">任务进度</td>\\r\\n        <td>创建时间</td>\\r\\n        <td>操作</td>\\r\\n      </tr>\\r\\n    </thead>\\r\\n    <tbody>\\r\\n      <tr ng-repeat=\\\"row in $ctrl.data\\\">\\r\\n        <td>{{ row.SiteID }}</td>\\r\\n        <td>{{ row.RuleGroupName }}</td>\\r\\n        <td>{{ row.RuleGroupType }}</td>\\r\\n        <td>{{ row.StartDate | date2 }}</td>\\r\\n        <td>{{ row.EndDate | date2 }}</td>\\r\\n        <td>\\r\\n          {{ row.StatusTitle }}\\r\\n          <span  ng-hide=\\\"$ctrl.store.hideEditArea\\\" ng-if=\\\"row.Status==1 || row.Status==2\\\">\\r\\n            <switch name=\\\"enabled\\\" ng-model=\\\"enabled\\\" class=\\\"green\\\"></switch></div>\\r\\n          </span>\\r\\n        </td>\\r\\n        <td ng-hide=\\\"$ctrl.store.hideEditArea\\\">\\r\\n          <div class=\\\"text-center\\\">22%</div>\\r\\n          <uib-progressbar value=\\\"22\\\"></uib-progressbar>\\r\\n        </td>\\r\\n        <td>{{ row.CreateTime | date2 }}</td>\\r\\n        <td>\\r\\n          <a ui-sref=\\\"editTask({taskId: row.TaskID})\\\">编辑任务时间</a>\\r\\n        </td>\\r\\n      </tr>\\r\\n      <tr ng-if=\\\"!$ctrl.data.length\\\" class=\\\"text-center\\\">\\r\\n        <td colspan=\\\"9\\\">空</td>\\r\\n      </tr>\\r\\n    </tbody>\\r\\n  </table> \\r\\n\\r\\n  <div class=\\\"hr\\\"></div> -->\\r\\n  <xx-table config=\\\"$ctrl.tableConfig\\\" on-init=\\\"$ctrl.onTableInit(update)\\\"></xx-table>\\r\\n<!--   <div ng-init=\\\"bigTotalItems=175;bigCurrentPage=1;maxSize=3;\\\"></div>\\r\\n  <ul uib-pagination \\r\\n    total-items=\\\"bigTotalItems\\\" \\r\\n    ng-model=\\\"bigCurrentPage\\\" \\r\\n    max-size=\\\"maxSize\\\" \\r\\n    boundary-link-numbers=\\\"true\\\" \\r\\n    previous-text=\\\"上一页\\\" next-text=\\\"下一页\\\"\\r\\n  ></ul> --> \\r\\n</div>\\r\\n\\r\\n\"\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/tasks/task-list.component.html\n// module id = 70\n// module chunks = 0","controller.$inject = ['$modalService', '$state', 'tasksService', '$modalService'];\r\nfunction controller($modalService, $state, tasksService, $modalService){\r\n  var $ctrl = this;\r\n  $ctrl.options = {\r\n    // formState用于各field之间传值\r\n    formState: {\r\n      hideSiteId: false\r\n    }\r\n  };\r\n  $ctrl.fields = [];\r\n  $ctrl.model = {};\r\n  $ctrl.submit = submit;\r\n  $ctrl.data = {}; // 编辑任务用\r\n  var rulesOptions = [];\r\n\r\n  // 当前是否是创建任务页\r\n  var isNewTask = $state.is('newTask');\r\n\r\n  if(isNewTask) {\r\n    $ctrl.model.ruleType = 1;\r\n    $ctrl.fields = [\r\n      {\r\n        key: 'RuleGroupID',\r\n        type: 'select2',\r\n        templateOptions: {\r\n          label: '选择标签规则组',\r\n          valueProp: 'RuleGroupID',\r\n          labelProp: 'RuleGroupName',\r\n          options: [],\r\n          required: true\r\n        },\r\n        controller: ['$scope', 'rulesService', function($scope, rulesService){\r\n          rulesService.getRules({ Status: 4 })\r\n          .then(function(data){\r\n            console.log(data);\r\n            // RuleGroupType\r\n            // 1.如选择的标签规则组类型是呼叫中心或社会化媒体\r\n            // 则隐藏输入site ID/广告ID一项。\r\n            rulesOptions = data || [];\r\n\r\n            $scope.to.options = rulesOptions;\r\n            if(rulesOptions.length) {\r\n              $scope.model.RuleGroupID = rulesOptions[0].RuleGroupID;\r\n            }\r\n          });\r\n        }],\r\n        watcher: {\r\n          listener: function(field, newValue, oldValue, scope, stopWatching) {\r\n            if(newValue) {\r\n              var rules = (rulesOptions || []).find(function(rules){\r\n                return rules.RuleGroupID == newValue;\r\n              });\r\n              if(rules) {\r\n                var type = rules.RuleGroupType;\r\n                if(type === '网站' || type === '广告') {\r\n                  scope.options.formState.hideSiteId = false;\r\n                } else {\r\n                  scope.options.formState.hideSiteId = true;\r\n                }\r\n              }\r\n            }\r\n          }\r\n        }\r\n      },\r\n      {\r\n        key: 'SiteID',\r\n        type: 'input2',\r\n        hideExpression: 'formState.hideSiteId',\r\n        templateOptions: {\r\n          label: 'site ID/广告ID'\r\n        },\r\n        expressionProperties: {\r\n          'templateOptions.required': '!formState.hideSiteId'\r\n        }\r\n      },\r\n      {\r\n        key: 'time',\r\n        type: 'timeRange2',\r\n        templateOptions: {\r\n          label: '设置任务周期',\r\n          required: true\r\n        }\r\n      }\r\n    ];\r\n  } else {\r\n    tasksService.getTasks({HYUniqueid: $state.params.taskId})\r\n    .then(function(data){\r\n      var _data = data && data.length ? data[0] : {};\r\n      $ctrl.data = _data;\r\n      $ctrl.model = {\r\n        TaskID: _data.TaskID,\r\n        time: {\r\n          min: _data.StartDate,\r\n          max: _data.EndDate\r\n        }\r\n      };\r\n      $ctrl.fields = [\r\n        {\r\n          type: 'static2',\r\n          templateOptions: {\r\n            label: '标签规则组',\r\n            text: _data.RuleGroupName\r\n          }\r\n        }, \r\n        {\r\n          type: 'static2',\r\n          hideExpression: '!model.SiteID',\r\n          templateOptions: {\r\n            label: 'site ID/广告ID',\r\n            text: _data.SiteID\r\n          }\r\n        },\r\n        {\r\n          key: 'time',\r\n          type: 'timeRange2',\r\n          templateOptions: {\r\n            label: '设置任务周期',\r\n            required: true\r\n          }\r\n        }\r\n      ];\r\n    });\r\n  }\r\n\r\n  function submit(){\r\n    if($ctrl.form.$invalid) {\r\n      return;\r\n    }\r\n\r\n    var data = {\r\n      RuleGroupID: $ctrl.model.RuleGroupID,\r\n      TaskID:      $ctrl.model.TaskID,\r\n      SiteID:      $ctrl.model.SiteID,\r\n      StartDate:   $ctrl.model.time.min,\r\n      EndDate:     $ctrl.model.time.max\r\n    };\r\n    console.log(data);\r\n    if(isNewTask) {\r\n      return tasksService.createTask(data).then(function(data){\r\n        $modalService.alert({\r\n          content: '创建成功', \r\n          hideCancel: true\r\n        }).then(gotoList);\r\n      }, function(reason){\r\n        $modalService.alert({content: reason});\r\n      });  \r\n    } else {\r\n      return tasksService.editTask(data).then(function(data){\r\n        $modalService.alert({\r\n          content: '修改成功', \r\n          hideCancel: true\r\n        }).then(gotoList);\r\n      }, function(reason){\r\n        if(reason && reason.status == -1) {\r\n          reason = '您已离线';\r\n        }\r\n        $modalService.alert({content: reason});\r\n      });  \r\n    }\r\n  }\r\n\r\n  function gotoList(){\r\n    $state.go('tasksList');\r\n  }\r\n}\r\n\r\nmodule.exports = {\r\n  template: require('./edit-task.component.html'),\r\n  controller: controller\r\n};\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/tasks/edit-task.component.js\n// module id = 71\n// module chunks = 0","module.exports = \"<div class=\\\"well well-default\\\">\\r\\n  <form class=\\\"form-horizontal\\\" name=\\\"$ctrl.form\\\" novalidate style=\\\"max-width: 680px;\\\">\\r\\n    <formly-form model=\\\"$ctrl.model\\\" fields=\\\"$ctrl.fields\\\" form=\\\"$ctrl.form\\\" options=\\\"$ctrl.options\\\">\\r\\n    </formly-form>\\r\\n    <div class=\\\"text-right\\\">\\r\\n      <button type=\\\"submit\\\" class=\\\"btn btn-success\\\" xx-click=\\\"$ctrl.submit()\\\">保存</button>\\r\\n      <button type=\\\"button\\\" class=\\\"btn btn-default\\\" ng-click=\\\"$ctrl.options.resetModel()\\\">重置</button>  \\r\\n    </div>\\r\\n  </form>  \\r\\n</div>\"\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/tasks/edit-task.component.html\n// module id = 72\n// module chunks = 0","controller.$inject = ['tasksService', '$timeout', '$q'];\r\nfunction controller(tasksService, $timeout, $q){\r\n  var $ctrl = this;\r\n \r\n  this.day = new Date();\r\n  this.maxDate = new Date(2016, 11,20);\r\n\r\n  this.range = {\r\n    min: new Date(2016, 10, 3),\r\n    max: new Date(2016, 10, 27)\r\n  };\r\n\r\n  $ctrl.click = function(){\r\n    console.log('controller: click');\r\n    // var deferred = $q.defer();\r\n    return $timeout(function(){\r\n      // deferred.resolve();\r\n    }, 1000).then(function(){\r\n      console.log('controller: resolve');\r\n    });\r\n    // return deferred.promise;\r\n  };\r\n\r\n  \r\n\r\n}\r\n\r\nmodule.exports = {\r\n  template: require('./test.component.html'),\r\n  controller: controller\r\n};\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/tasks/test.component.js\n// module id = 73\n// module chunks = 0","module.exports = \"<button class=\\\"btn btn-success\\\" xx-click=\\\"$ctrl.click()\\\">点击</button>\\r\\n\\r\\n<form action=\\\"\\\" class=\\\"form-horizontal\\\">\\r\\n  <datetime-picker ng-model=\\\"$ctrl.day\\\" max-date=\\\"$ctrl.maxDate\\\" mode=\\\"{{$ctrl.mode}}\\\"></datetime-picker>\\r\\n  <p>{{ $ctrl.day }}</p>\\r\\n\\r\\n  <datetime-range ng-model=\\\"$ctrl.range\\\" mode=\\\"{{$ctrl.mode}}\\\"></datetime-range>\\r\\n  <p>{{ $ctrl.range }}</p>\\r\\n</form>\\r\\n<button class=\\\"btn btn-primary\\\" ng-click=\\\"$ctrl.alert()\\\">打开</button>\\r\\n\"\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/tasks/test.component.html\n// module id = 74\n// module chunks = 0","exports.taskListState = {\r\n  parent: 'app',\r\n  name: 'tasksList',\r\n  url: '/task',\r\n  title: '任务列表',\r\n  component: 'taskList'\r\n};\r\nexports.newTaskState = {\r\n  parent: 'app',\r\n  name: 'newTask',\r\n  url: '/task/new',\r\n  title: '新建任务列表',\r\n  component: 'editTask'\r\n};\r\nexports.editTaskState = {\r\n  parent: 'app',\r\n  name: 'editTask',\r\n  url: '/task/:taskId/edit',\r\n  title: '编辑任务列表',\r\n  component: 'editTask'\r\n};\r\nexports.testState = {\r\n  parent: 'app',\r\n  name: 'test',\r\n  url: '/test',\r\n  title: '测试',\r\n  component: 'test'\r\n};\r\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/tasks/states.js\n// module id = 75\n// module chunks = 0","tasksService.$inject = ['$q', '$http', 'apiBaseUrl'];\r\nfunction tasksService($q, $http, apiBaseUrl){\r\n  \r\n  return {\r\n    getTasks: getTasks,\r\n    createTask: createTask,\r\n    editTask: editTask\r\n  };\r\n\r\n  function getTasks(params){\r\n    params = params || {};\r\n    return $http.get(apiBaseUrl + '/task/api/findtask', {params: params});\r\n  }\r\n\r\n  function createTask(_data){\r\n    var data = {\r\n      RuleGroupID: _data.RuleGroupID,\r\n      SiteID:      _data.SiteID,\r\n      StartDate:   _data.StartDate,\r\n      EndDate:     _data.EndDate\r\n    };\r\n    return $http.post(apiBaseUrl + '/task/api/task', data);\r\n  }\r\n\r\n  function editTask(_data) {\r\n    var data = {\r\n      HYUniqueID:  _data.TaskID,\r\n      StartDate:   _data.StartDate,\r\n      EndDate:     _data.EndDate\r\n    };\r\n    return $http.post(apiBaseUrl + '/task/api/task?method=1', data);\r\n  }\r\n}\r\n\r\nexports.tasksService = tasksService;\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/tasks/services.js\n// module id = 76\n// module chunks = 0","var newRuleComponent = require('./new-rule.component');\r\nvar newRuleListComponent = require('./new-rule-list.component');\r\nvar newRulesComponent = require('./new-rules.component');\r\nvar rulesListComponent = require('./rules-list.component');\r\nvar viewRulesComponent = require('./view-rules.component');\r\nvar viewRulesListComponent = require('./view-rules-list.component');\r\nvar importRulesComponent = require('./import-rules.component');\r\nvar importRulesModalComponent = require('./import-rules-modal.component');\r\nvar states = require('./states');\r\nvar configs = require('./configs');\r\nvar services = require('./services');\r\n\r\nmodule.exports = {\r\n  components: {\r\n    rulesList: rulesListComponent,\r\n    viewRulesList: viewRulesListComponent,\r\n    viewRules: viewRulesComponent,\r\n    newRules: newRulesComponent,\r\n    newRuleList: newRuleListComponent,\r\n    newRule: newRuleComponent,\r\n    importRules: importRulesComponent,\r\n    importRulesModal: importRulesModalComponent,\r\n  },\r\n  states: [\r\n    states.rulesListState,\r\n    states.newRulesState,\r\n    states.newRuleListState,\r\n    states.newRuleState,\r\n    states.viewRulesListState,\r\n    states.viewRulesState,\r\n    states.importRuleState,\r\n  ],\r\n  factories: {\r\n    rulesService: services.rulesService\r\n  },\r\n  runBlocks: [ configs.runFormlyConfig ]\r\n};\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/rules/index.js\n// module id = 77\n// module chunks = 0","require('./new-rule.css');\r\n\r\ncontroller.$inject = ['ruleTypes'];\r\nfunction controller(ruleTypes){\r\n  var $ctrl = this;\r\n  $ctrl.ruleTypes = ruleTypes;\r\n  // formly\r\n  $ctrl.fields = [];\r\n  $ctrl.formList = [];\r\n  $ctrl.addSection = addSection;\r\n  $ctrl.removeSection = removeSection;\r\n\r\n  // 测试用fields\r\n  $ctrl.fields = [{\r\n    key: 'test',\r\n    type: 'input2',\r\n    templateOptions: {\r\n      label: 'site ID/广告ID',\r\n      required: true\r\n    }\r\n  }, {\r\n    key: 'test2',\r\n    type: 'bindTag',\r\n    templateOptions: {\r\n      required: true\r\n    }\r\n  }];\r\n\r\n  addSection();\r\n  $ctrl.formList[0].model = {\r\n    // test2: [ \r\n    //   { \"weight\": \"1\", \"tagId\": 5, \"tagTitle\": \"eee\" },\r\n    //   { \"weight\": \"0.8\", \"tagId\": 6, \"tagTitle\": \"ee22e\" },\r\n    // ]\r\n  };\r\n\r\n\r\n  function addSection(){\r\n    $ctrl.formList.push({\r\n      options: {},\r\n      model: {},\r\n      fields: angular.copy($ctrl.fields)\r\n    });\r\n  }\r\n\r\n  function removeSection(index){\r\n    $ctrl.formList.splice(index, 1);\r\n  }\r\n\r\n}\r\n\r\nmodule.exports = {\r\n  template: require('./new-rule.component.html'),\r\n  controller: controller\r\n};\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/rules/new-rule.component.js\n// module id = 78\n// module chunks = 0","module.exports = \"<div>\\r\\n\\t<div class=\\\"btn btn-default\\\">提交规则组</div>\\r\\n</div>\\r\\n<div class=\\\"well\\\" ng-repeat=\\\"form in $ctrl.formList track by $index\\\">\\r\\n\\t<button class=\\\"close\\\" ng-click=\\\"$ctrl.removeSection($index)\\\">&times;</button>\\r\\n\\t<form class=\\\"form-horizontal\\\" name=\\\"form.form\\\" novalidate style=\\\"max-width: 680px;\\\">\\r\\n\\t\\t<div class=\\\"text-right\\\">\\r\\n      <button class=\\\"btn btn-default\\\">保存</button>\\r\\n\\\"\\r\\n      <button class=\\\"btn btn-default\\\" ng-click=\\\"form.options.resetModel()\\\">清除规则</button>\\r\\n    </div>\\r\\n    <formly-form model=\\\"form.model\\\" fields=\\\"form.fields\\\" form=\\\"form.form\\\" options=\\\"form.options\\\">\\r\\n    </formly-form>\\r\\n  </form>\\t\\r\\n  <div>{{ form.model | json}}</div>\\r\\n</div>\\r\\n<div>\\r\\n\\t<button class=\\\"btn btn-default\\\" ng-click=\\\"$ctrl.addSection()\\\">\\r\\n\\t\\t<span class=\\\"glyphicon glyphicon-plus-sign\\\"></span>添加规则</button>\\r\\n</div>\"\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/rules/new-rule.component.html\n// module id = 81\n// module chunks = 0","require('./new-rule.css');\r\n\r\ncontroller.$inject = ['$state', 'rulesService'];\r\nfunction controller($state, rulesService){\r\n  var $ctrl = this;\r\n  $ctrl.ruleTypes = [];\r\n\r\n  var rulesId = $state.params.rulesId;\r\n  \r\n  getRule();\r\n  function getRule(){\r\n    rulesService.getRule(rulesId).then(function(data){\r\n      if(data) {\r\n\r\n        $ctrl.ruleTypes = rulesService.getRuleTypes(data.GroupType);\r\n\r\n        if($state.is('newRuleList') && $ctrl.ruleTypes.length) {\r\n          $state.go('newRule', { ruleType: $ctrl.ruleTypes[0].id });\r\n        }\r\n      }\r\n    });\r\n  }\r\n}\r\n\r\nmodule.exports = {\r\n  template: require('./new-rule-list.component.html'),\r\n  controller: controller\r\n};\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/rules/new-rule-list.component.js\n// module id = 82\n// module chunks = 0","module.exports = \"<div class=\\\"new-rule\\\">\\r\\n\\t<div class=\\\"app-main-nav\\\">\\r\\n    <ul class=\\\"nav nav-pills nav-stacked\\\">\\r\\n      <li ui-sref-active=\\\"active\\\" ng-repeat=\\\"type in $ctrl.ruleTypes\\\">\\r\\n      \\t<a ui-sref=\\\"{ruleType: type.id}\\\">{{ type.title }}</a>\\r\\n      </li>\\r\\n    </ul>\\r\\n\\t</div>\\r\\n\\t<div class=\\\"app-main-content\\\">\\r\\n\\t\\t<ui-view class=\\\"app-ui-view\\\"></ui-view>\\r\\n\\t</div>\\r\\n</div>\"\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/rules/new-rule-list.component.html\n// module id = 83\n// module chunks = 0","controller.$inject = ['$state', 'rulesTypes', 'ruleTypes'];\r\nfunction controller($state, rulesTypes, ruleTypes){\r\n  var $ctrl = this;\r\n  $ctrl.options = {};\r\n  $ctrl.model = {\r\n    rulesType: rulesTypes[0].id\r\n  };\r\n\r\n  $ctrl.fields = [\r\n    {\r\n      key: 'rulesType',\r\n      type: 'select2',\r\n      templateOptions: {\r\n        label: '选择规则组类型',\r\n        valueProp: 'id',\r\n        labelProp: 'title',\r\n        options: rulesTypes,\r\n        required: true\r\n      }\r\n    },\r\n    {\r\n      key: 'asdf',\r\n      type: 'input2',\r\n      templateOptions: {\r\n        label: 'site ID（选填）',\r\n      }\r\n    },\r\n    {\r\n      key: 'ffff',\r\n      type: 'input2',\r\n      templateOptions: {\r\n        label: '规则组名称',\r\n        required: true\r\n      }\r\n    }\r\n  ];\r\n\r\n  $ctrl.go = function(){\r\n    $state.go('newRuleList', {rulesId: 'test'});\r\n  };\r\n}\r\n\r\nmodule.exports = {\r\n  template: require('./new-rules.component.html'),\r\n  controller: controller\r\n};\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/rules/new-rules.component.js\n// module id = 84\n// module chunks = 0","module.exports = \"<div class=\\\"well well-default new-rules\\\">\\r\\n  <form class=\\\"form-horizontal\\\" ng-submit=\\\"$ctrl.onSubmit()\\\" name=\\\"$ctrl.form\\\" novalidate style=\\\"max-width: 680px;\\\">\\r\\n    <formly-form model=\\\"$ctrl.model\\\" fields=\\\"$ctrl.fields\\\" form=\\\"$ctrl.form\\\" options=\\\"$ctrl.options\\\">\\r\\n    </formly-form>\\r\\n    <div class=\\\"row\\\">\\r\\n      <div class=\\\"col-sm-8 col-sm-offset-4\\\">\\r\\n        <button type=\\\"submit\\\" class=\\\"btn btn-success\\\" ng-disabled=\\\"$ctrl.form.$invalid\\\">下一步</button>\\r\\n        创建规则组，去设置标签规则\\r\\n      </div>\\r\\n    </div>\\r\\n  </form>\\r\\n  <p><a ng-click=\\\"$ctrl.go()\\\">测试用：创建规则</a></p>\\r\\n</div>\\r\\n\"\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/rules/new-rules.component.html\n// module id = 85\n// module chunks = 0","controller.$inject = ['rulesService', 'store'];\r\nfunction controller(rulesService, store){\r\n  var $ctrl = this;\r\n  $ctrl.store = store;\r\n\r\n  $ctrl.data = [];\r\n  $ctrl.rulesTitles = [\r\n    { id: 0, title: '加入任务-未开启' },\r\n    { id: 1, title: '加入任务-执行中' },\r\n    { id: 2, title: '加入任务-暂停中' },\r\n    { id: 3, title: '加入任务-已结束' },\r\n    { id: 4, title: '未加入任务' }\r\n  ];\r\n\r\n  // xx-table配置\r\n  var baseTableConfig = {\r\n    data: [],\r\n    firstUpdate: true,\r\n    columns: [\r\n      {\r\n        head: 'site ID/广告ID',\r\n        data: '{{ row.SiteID }}'\r\n      }, {\r\n        head: '规则组名称',\r\n        data: '<a ui-sref=\"viewRules({rulesId: row.RuleGroupID})\">{{ row.RuleGroupName }}</a>'\r\n      }, {\r\n        head: '规则组类型',\r\n        data: '{{ row.RuleGroupType }}'\r\n      }, {\r\n        head: '创建时间',\r\n        data: '{{ row.CreateTime | date2 }}'\r\n      }, {\r\n        head: '加入任务时间',\r\n        data: '{{ row.JoinTaskTime | date2 }}'\r\n      }, {\r\n        hide: store.hideEditArea,\r\n        head: ' ',\r\n        data: '<a href=\"\">复制规则组</a><br><a href=\"\">导入规则组</a>'\r\n      }\r\n    ]\r\n  };\r\n  $ctrl.tableConfigs = [];\r\n\r\n  $ctrl.rulesTitles.forEach(function(rules, index){\r\n    var getData = createGetData(rules.id, index);\r\n    $ctrl.tableConfigs[index] = angular.extend({}, baseTableConfig, {\r\n      getData: getData\r\n    });\r\n  });\r\n\r\n  function createGetData(status, index){\r\n    return function(){\r\n      return rulesService.getRules({ Status: status });\r\n    };\r\n  }\r\n}\r\n\r\nmodule.exports = {\r\n  template: require('./rules-list.component.html'),\r\n  controller: controller\r\n};\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/rules/rules-list.component.js\n// module id = 86\n// module chunks = 0","module.exports = \"<div class=\\\"rules-list\\\">\\r\\n  <div ng-repeat=\\\"rules in $ctrl.rulesTitles\\\">\\r\\n    <div class=\\\"panel panel-default\\\" ng-init=\\\"rules.isCollapsed=false\\\">\\r\\n      <div class=\\\"panel-heading\\\">\\r\\n        {{ rules.title }}\\r\\n        <button class=\\\"btn btn-link pull-right\\\" ng-click=\\\"rules.isCollapsed = !rules.isCollapsed\\\">\\r\\n          <span class=\\\"glyphicon\\\" ng-class=\\\"{'glyphicon-menu-down': rules.isCollapsed, 'glyphicon-menu-up': !rules.isCollapsed}\\\"></span>\\r\\n        </button>\\r\\n      </div>\\r\\n      <div uib-collapse=\\\"rules.isCollapsed\\\">\\r\\n        <div class=\\\"panel-body\\\">\\r\\n          <xx-table config=\\\"$ctrl.tableConfigs[$index]\\\"></xx-table>\\r\\n          <!-- <table class=\\\"table table-bordered table-hover\\\">\\r\\n            <thead class=\\\"bg-default\\\">\\r\\n              <tr>\\r\\n                <td>site ID/广告ID</td>\\r\\n                <td>规则组名称</td>\\r\\n                <td>规则组类型</td>\\r\\n                <td>创建时间</td>\\r\\n                <td>加入任务时间</td>\\r\\n                <td ng-hide=\\\"$ctrl.store.hideEditArea\\\">&nbsp;</td>\\r\\n              </tr>\\r\\n            </thead>\\r\\n            <tbody>\\r\\n              <tr ng-repeat=\\\"row in $ctrl.data[$index]\\\">\\r\\n                <td>{{ row.SiteID }}</td>\\r\\n                <td>{{ row.RuleGroupName }}</td>\\r\\n                <td>{{ row.RuleGroupType }}</td>\\r\\n                <td>{{ row.CreateTime | date2 }}</td>\\r\\n                <td>{{ row.CreateTaskTime | date2 }}</td>\\r\\n                <td ng-hide=\\\"$ctrl.store.hideEditArea\\\">\\r\\n                  <a href=\\\"\\\">复制规则组</a>\\r\\n                  <br>\\r\\n                  <a href=\\\"\\\">导入规则组</a>\\r\\n                </td>\\r\\n              </tr>\\r\\n              <tr ng-if=\\\"!$ctrl.data[$index].length\\\">\\r\\n                <td colspan=\\\"6\\\" class=\\\"text-center\\\">空</td>\\r\\n              </tr>\\r\\n            </tbody>\\r\\n          </table>   -->\\r\\n        </div>\\r\\n      </div>\\r\\n    </div>\\r\\n  </div>\\r\\n</div>\"\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/rules/rules-list.component.html\n// module id = 87\n// module chunks = 0","require('./view-rules.css');\r\n\r\ncontroller.$inject = ['$state', 'rulesService', 'store'];\r\nfunction controller($state, rulesService, store){\r\n  var $ctrl = this;\r\n  $ctrl.data = {};\r\n  $ctrl.ruleTypes = [];\r\n  $ctrl.store = store;\r\n\r\n  var rulesId = $state.params.rulesId;\r\n  console.log('enter view-rules');\r\n\r\n  // xx-table配置\r\n  var baseTableConfig = {\r\n    data: [],\r\n    columns: [\r\n      {\r\n        head: 'Key',\r\n        data: '<span uib-tooltip-html=\"row.Tips\">{{ row.Key }}</span>'\r\n      }, {\r\n        head: 'Tag',\r\n        data: '<div ng-bind-html=\"row.Tag\"></div>'\r\n      }, {\r\n        head: '权重',\r\n        data: '{{ row.Weight }}'\r\n      }, {\r\n        head: '执行次数',\r\n        data: '{{ row.ExecCount }}'\r\n      }, {\r\n        hide: store.hideEditArea,\r\n        head: '状态 <button class=\"btn btn-sm btn-success\" ng-hide=\"$ctrl.store.hideEditArea\">保存</button>',\r\n        data: '{{ row.Status }}'\r\n      }\r\n    ]\r\n  };\r\n\r\n  getRule();\r\n  function getRule(){\r\n    rulesService.getRule(rulesId).then(function(data){\r\n      if(data) {\r\n        $ctrl.data = data;\r\n        store.viewRulesType = data.GroupStatus == '已加入任务' ? 1 : 4;\r\n\r\n        $ctrl.ruleTypes = rulesService.getRuleTypes(data.GroupType);\r\n        (data.Module || []).forEach(function(module){\r\n          var type = $ctrl.ruleTypes.find(function(type){\r\n            return type.title == module.Name;\r\n          });\r\n          console.log(module.Name);\r\n          if(type) {\r\n            type.rules = (type.rules || []).concat(module.Content);\r\n            // type.rules = module.Content;\r\n          }\r\n        });\r\n\r\n        $ctrl.tableConfigs = $ctrl.ruleTypes.map(function(type, index){\r\n          return angular.extend({}, baseTableConfig, {\r\n            data: type.rules || []\r\n          });\r\n        });\r\n      }\r\n    });\r\n  }\r\n}\r\n\r\nmodule.exports = {\r\n  template: require('./view-rules.component.html'),\r\n  controller: controller\r\n};\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/rules/view-rules.component.js\n// module id = 88\n// module chunks = 0","module.exports = \"<div class=\\\"view-rules\\\">\\r\\n  <div class=\\\"clearfix\\\">\\r\\n    <button class=\\\"btn btn-success pull-right\\\">导出规则组</button>\\r\\n  </div>\\r\\n  <dl class=\\\"dl-horizontal\\\">\\r\\n    <dt>规则组类型：</dt>\\r\\n    <dd>{{ $ctrl.data.GroupType }}</dd>\\r\\n    <dt>site ID：</dt>\\r\\n    <dd>{{ $ctrl.data.SiteID }}</dd>\\r\\n    <dt>规则组名称：</dt>\\r\\n    <dd>{{ $ctrl.data.GroupName }}</dd>\\r\\n    <dt>规则组状态：</dt>\\r\\n    <dd>{{ $ctrl.data.GroupStatus }}</dd>\\r\\n    <dt>加入任务时间：</dt>\\r\\n    <dd>{{ $ctrl.data.JoinTaskTime | date2 }}</dd>\\r\\n    <dt>创建时间：</dt>\\r\\n    <dd>{{ $ctrl.data.CreateTime | date2 }}</dd>\\r\\n  </dl>  \\r\\n  <div ng-repeat=\\\"ruleType in $ctrl.ruleTypes\\\">\\r\\n    <div class=\\\"panel panel-default\\\" ng-init=\\\"ruleType.isCollapsed=false\\\" ng-show=\\\"ruleType.rules.length\\\">\\r\\n      <div class=\\\"panel-heading\\\">\\r\\n        {{ ruleType.title }}\\r\\n        <button class=\\\"btn btn-link pull-right\\\" ng-click=\\\"ruleType.isCollapsed = !ruleType.isCollapsed\\\">\\r\\n          <span class=\\\"glyphicon\\\" ng-class=\\\"{'glyphicon-menu-down': ruleType.isCollapsed, 'glyphicon-menu-up': !ruleType.isCollapsed}\\\"></span>\\r\\n        </button>\\r\\n        <button class=\\\"btn btn-sm btn-success pull-right\\\" ng-hide=\\\"$ctrl.store.hideEditArea\\\">添加规则</button>\\r\\n      </div>\\r\\n      <div uib-collapse=\\\"ruleType.isCollapsed\\\">\\r\\n        <div class=\\\"panel-body\\\">\\r\\n          <xx-table config=\\\"$ctrl.tableConfigs[$index]\\\"></xx-table>\\r\\n          <!-- <table class=\\\"table table-bordered table-hover\\\">\\r\\n            <thead class=\\\"bg-default\\\">\\r\\n              <tr>\\r\\n                <td>Key</td>\\r\\n                <td>Tag</td>\\r\\n                <td>权重</td>\\r\\n                <td>执行次数</td>\\r\\n                <td>\\r\\n                  状态\\r\\n                  <button class=\\\"btn btn-sm btn-success\\\" ng-hide=\\\"$ctrl.store.hideEditArea\\\">保存</button>\\r\\n                </td>\\r\\n              </tr>\\r\\n            </thead>\\r\\n            <tbody>\\r\\n              <tr ng-repeat=\\\"row in ruleType.rules\\\">\\r\\n                <td>\\r\\n                  <span uib-tooltip-html=\\\"row.Tips\\\">{{ row.Key }}</span>\\r\\n                </td>\\r\\n                <td ng-bind-html=\\\"row.Tag\\\"></td>\\r\\n                <td>{{ row.Weight }}</td>\\r\\n                <td>{{ row.ExecCount }}</td>\\r\\n                <td>\\r\\n                  {{ row.Status }}\\r\\n                </td>\\r\\n              </tr>\\r\\n              <tr ng-if=\\\"!ruleType.rules.length\\\">\\r\\n                <td colspan=\\\"5\\\" class=\\\"text-center\\\">空</td>\\r\\n              </tr>\\r\\n            </tbody>\\r\\n          </table>   -->\\r\\n        </div>\\r\\n      </div>\\r\\n    </div>\\r\\n  </div>\\r\\n</div>\\r\\n\"\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/rules/view-rules.component.html\n// module id = 91\n// module chunks = 0","controller.$inject = ['$rootScope', '$scope', '$state', '$transitions', 'rulesService', 'store'];\r\nfunction controller($rootScope, $scope, $state, $transitions, rulesService, store){\r\n  var $ctrl = this;\r\n  $ctrl.data = [];\r\n  $ctrl.store = store;\r\n  $ctrl.showNav = false;\r\n  $ctrl.currentId = '';\r\n\r\n  console.log('enter view rules list');\r\n  rulesService.getRules({ Status: 1 }).then(function(data){\r\n    $ctrl.data = data || [];\r\n    $ctrl.data.forEach(function(rules){\r\n      var title = '';\r\n      if(rules.SiteID) {\r\n        title += rules.SiteID + ' - ';\r\n      }\r\n      title += rules.RuleGroupName;\r\n      rules.title = title;\r\n    });\r\n    init();\r\n  });\r\n\r\n  var deregister = $transitions.onSuccess({}, function(){\r\n    // console.log('view rules list on success');\r\n    init();\r\n  });\r\n  // console.log(deregister);\r\n  $ctrl.$onDestroy = function(){\r\n    deregister();\r\n  };\r\n\r\n  $scope.$watch('$ctrl.currentId', function(){\r\n    if($ctrl.currentId) {\r\n      $state.go('viewRules', { \r\n        rulesId: $ctrl.currentId\r\n      });\r\n    }\r\n  })\r\n\r\n  console.log($scope);\r\n\r\n  // init();\r\n  function init(){\r\n    if($state.is('viewRules')) {\r\n      var rulesId = $state.params.rulesId;\r\n      var index = $ctrl.data.findIndex(function(rules){\r\n        return rulesId == rules.RuleGroupID;\r\n      });\r\n      $ctrl.showNav = index >= 0;\r\n      $ctrl.currentId = rulesId;\r\n    } else {\r\n      // 列表页 自动跳转到第一个\r\n      $ctrl.showNav = true;\r\n      if($ctrl.data.length) {\r\n        $ctrl.currentId = $ctrl.data[0].RuleGroupID;\r\n        $state.go('viewRules', { \r\n          rulesId: $ctrl.data[0].RuleGroupID\r\n        });\r\n      }\r\n    }\r\n    $rootScope.$emit('VIEW_RULES_TYPE', $ctrl.showNav ? 1 : 2);\r\n  }\r\n}\r\n\r\nmodule.exports = {\r\n  template: require('./view-rules-list.component.html'),\r\n  controller: controller\r\n};\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/rules/view-rules-list.component.js\n// module id = 92\n// module chunks = 0","module.exports = \"<ui-select ng-model=\\\"$ctrl.currentId\\\"\\r\\n       theme=\\\"bootstrap\\\"\\r\\n       reset-search-input=\\\"false\\\"\\r\\n       title=\\\"\\\">\\r\\n  <ui-select-match allow-clear=\\\"false\\\">{{$select.selected.title}}</ui-select-match>\\r\\n  <ui-select-choices repeat=\\\"row.RuleGroupID as row in $ctrl.data | filter: $select.search\\\">\\r\\n    <div>{{ row.title }}</div>\\r\\n  </ui-select-choices>\\r\\n</ui-select>\\r\\n<div style=\\\"height:15px;\\\"></div>\\r\\n<!-- <ul class=\\\"nav nav-tabs\\\" style=\\\"margin-bottom:-1px;\\\" ng-show=\\\"$ctrl.showNav\\\">\\r\\n  <li ng-repeat=\\\"row in $ctrl.data track by $index\\\" ui-sref-active=\\\"active\\\">\\r\\n    <a ui-sref=\\\"viewRules({ rulesId: row.RuleGroupID })\\\">\\r\\n      <span ng-hide=\\\"!row.SiteID\\\">\\r\\n        {{ row.SiteID }}-\\r\\n      </span>\\r\\n      {{ row.RuleGroupName }}\\r\\n    </a>\\r\\n  </li>\\r\\n</ul> -->\\r\\n<div class=\\\"panel panel-default\\\">\\r\\n  <div class=\\\"panel-body\\\">\\r\\n    <ui-view></ui-view>\\r\\n  </div>\\r\\n</div>\"\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/rules/view-rules-list.component.html\n// module id = 93\n// module chunks = 0","controller.$inject = ['$uibModal', 'rulesService'];\r\nfunction controller($uibModal, rulesService){\r\n\r\n  var $ctrl = this;\r\n  $ctrl.selectFile = selectFile;\r\n  $ctrl.showImportModal = showImportModal;\r\n\r\n  $ctrl.errMsg = '';\r\n  $ctrl.succMsg = '';\r\n  $ctrl.uploading = false;\r\n\r\n  function selectFile(file){\r\n    if($ctrl.uploading) {\r\n      return;\r\n    }\r\n    $ctrl.errMsg = '';\r\n    $ctrl.succMsg = '';\r\n    $ctrl.uploading = true;\r\n    rulesService.importFile(file)\r\n    .then(function(data){\r\n      $ctrl.uploading = false;\r\n      $ctrl.succMsg = data.Information;\r\n    }, function(reason){\r\n      $ctrl.uploading = false;\r\n      $ctrl.errMsg = reason;\r\n    });\r\n  }\r\n  function showImportModal() {\r\n    var modalInstance = $uibModal.open({\r\n      size: '400',\r\n      component: 'importRulesModal',\r\n    });\r\n    modalInstance.result.then(function(file){\r\n      console.log('xxxxxxxxxxxxxx');\r\n      console.log(file);\r\n    });\r\n  }\r\n\r\n}\r\n\r\nmodule.exports = {\r\n  template: require('./import-rules.component.html'),\r\n  controller: controller\r\n};\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/rules/import-rules.component.js\n// module id = 94\n// module chunks = 0","module.exports = \"<div style=\\\"min-height: 200px;\\\">\\r\\n  <!-- 打开弹窗选择文件 -->\\r\\n  <p class=\\\"hide\\\">\\r\\n    <button class=\\\"btn btn-primary\\\" ng-click=\\\"$ctrl.showImportModal()\\\">\\r\\n      导入规则组\\r\\n    </button>\\r\\n  </p>\\r\\n  <!-- 直接选择文件 -->\\r\\n  <p>\\r\\n    <input-file class=\\\"btn btn-primary\\\" on-change=\\\"$ctrl.selectFile(file)\\\" accept=\\\".xls,.xlsx\\\" ng-disabled=\\\"$ctrl.uploading\\\"> \\r\\n      选择文件\\r\\n    </input-file>\\r\\n  </p>\\r\\n  <p class=\\\"text-warn hide\\\">\\r\\n    数据上传中47%\\r\\n  </p>\\r\\n  <p ng-show=\\\"$ctrl.succMsg\\\">\\r\\n    导入成功：{{ $ctrl.succMsg }}\\r\\n    <a>查看规则组详情&gt;&gt;</a>\\r\\n  </p>\\r\\n  <p ng-show=\\\"$ctrl.errMsg\\\">\\r\\n    导入失败：{{ $ctrl.errMsg }}\\r\\n  </p>\\r\\n</div>\\r\\n<div class=\\\"hide\\\">\\r\\n  <h5>导入规则组历史</h5>\\r\\n  <div class=\\\"hr\\\"></div>\\r\\n  <div style=\\\"text-align:center;line-height:200px;\\\">暂无导入规则组历史</div>\\r\\n  <table class=\\\"table table-bordered table-hover\\\">\\r\\n    <thead class=\\\"bg-default\\\">\\r\\n      <tr>\\r\\n        <th>导入时间</th>\\r\\n        <th>导入结果</th>\\r\\n        <th>规则组名称</th>\\r\\n        <th>规则模块</th>\\r\\n      </tr>\\r\\n    </thead>\\r\\n    <tbody>\\r\\n      <tr>\\r\\n        <td>2016-10-27  10:55:23</td>\\r\\n        <td>导入失败</td>\\r\\n        <td>Arla官网打标签规则</td>\\r\\n        <td>点击</td>\\r\\n      </tr>\\r\\n    </tbody>\\r\\n  </table>\\r\\n</div>\"\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/rules/import-rules.component.html\n// module id = 95\n// module chunks = 0","controller.$inject = ['$scope'];\r\nfunction controller($scope){\r\n\r\n  var $ctrl = this;\r\n\r\n  var testData = [\r\n    {\r\n      \"id\": 1,\r\n      \"label\":\"Option 1\"\r\n    },\r\n    {\r\n      \"id\": 2,\r\n      \"label\":\"Option 2\"\r\n    },\r\n    {\r\n      \"id\": 3,\r\n      \"label\":\"Option 3\"\r\n    }\r\n  ];\r\n\r\n  var modulesOptions = [\r\n    { id: 1, label: '页面'},\r\n    { id: 2, label: '点击'},\r\n    { id: 3, label: '订单'},\r\n    { id: 4, label: '购物车'},\r\n    { id: 5, label: '会员'},\r\n    { id: 6, label: '微信'},\r\n    { id: 7, label: '会员积分'},\r\n    { id: 8, label: '搜索'},\r\n    { id: 9, label: '活动'},\r\n    { id: 10, label: '优惠卷'},\r\n    { id: 11, label: '中奖'},\r\n    { id: 12, label: '答题'}\r\n  ];\r\n\r\n  $ctrl.model = {\r\n    selectRules: testData[0].id,\r\n    selectModule: modulesOptions[0].id,\r\n  };\r\n  \r\n  $ctrl.options = {\r\n\r\n  };\r\n\r\n  $ctrl.fields = [{\r\n    key: 'selectRules',\r\n    type: 'select2',\r\n    templateOptions: {\r\n      label: '选择标签规则组',\r\n      valueProp: 'id',\r\n      labelProp: 'label',\r\n      options: testData,\r\n      required: true\r\n    }\r\n  }, {\r\n    key: 'selectModule',\r\n    type: 'select2',\r\n    templateOptions: {\r\n      label: '选择网站模块',\r\n      valueProp: 'id',\r\n      labelProp: 'label',\r\n      options: modulesOptions,\r\n      required: true\r\n    }\r\n  }];\r\n\r\n  $ctrl.selectFile = function(file){\r\n    $ctrl.close({$value: file});\r\n  }\r\n\r\n}\r\n\r\nmodule.exports = {\r\n  template: require('./import-rules-modal.component.html'),\r\n  controller: controller,\r\n  bindings: {\r\n    resolve: '<',\r\n    close: '&',\r\n    dismiss: '&'\r\n  }\r\n};\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/rules/import-rules-modal.component.js\n// module id = 96\n// module chunks = 0","module.exports = \"<div class=\\\"modal-body\\\">\\r\\n  <form class=\\\"form-horizontal\\\" name=\\\"$ctrl.form\\\" novalidate>\\r\\n    <formly-form model=\\\"$ctrl.model\\\" fields=\\\"$ctrl.fields\\\" form=\\\"$ctrl.form\\\" options=\\\"$ctrl.options\\\">\\r\\n  </formly-form>\\r\\n  </form>\\r\\n</div>\\r\\n<div class=\\\"modal-footer\\\">\\r\\n  <input-file class=\\\"btn btn-primary\\\" on-change=\\\"$ctrl.selectFile(file)\\\">选择文件</input-file>\\r\\n  <button class=\\\"btn btn-default\\\" type=\\\"button\\\" ng-click=\\\"$ctrl.dismiss();\\\">取消</button>\\r\\n</div>\"\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/rules/import-rules-modal.component.html\n// module id = 97\n// module chunks = 0","exports.rulesListState = {\r\n  parent: 'app',\r\n  name: 'rulesList',\r\n  url: '/rules',\r\n  title: '规则组列表',\r\n  component: 'rulesList'\r\n};\r\nexports.newRulesState = {\r\n  parent: 'app',\r\n  name: 'newRules',\r\n  url: '/rules/new',\r\n  title: '新建规则组',\r\n  component: 'newRules'\r\n};\r\nexports.viewRulesListState = {\r\n  parent: 'app',\r\n  name: 'viewRulesList',\r\n  url: '/rules/view',\r\n  title: '规则组详情',\r\n  component: 'viewRulesList'\r\n};\r\nexports.viewRulesState = {\r\n  parent: 'viewRulesList',\r\n  name: 'viewRules',\r\n  url: '/:rulesId',\r\n  title: '规则组详情',\r\n  component: 'viewRules'\r\n};\r\nexports.newRuleListState = {\r\n  parent: 'app',\r\n  name: 'newRuleList',\r\n  url: '/rules/:rulesId/rule',\r\n  title: '新建规则组',\r\n  component: 'newRuleList'\r\n};\r\nexports.newRuleState = {\r\n  parent: 'newRuleList',\r\n  name: 'newRule',\r\n  url: '/:ruleType',\r\n  title: '新建规则组',\r\n  component: 'newRule'\r\n};\r\nexports.importRuleState = {\r\n  parent: 'app',\r\n  name: 'importRules',\r\n  url: '/rule/import',\r\n  title: '导入规则组',\r\n  component: 'importRules'\r\n};\r\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/rules/states.js\n// module id = 98\n// module chunks = 0","exports.runFormlyConfig = ['formlyConfig', 'formlyValidationMessages',\r\n function(formlyConfig, formlyValidationMessages){\r\n\r\n  formlyConfig.setType(require('./types/bindTag'));\r\n\r\n}];\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/rules/configs.js\n// module id = 99\n// module chunks = 0","module.exports = {\r\n  name: 'bindTag',\r\n  template: require('./bindTag.html'),\r\n  defaultOptions: {\r\n    noFormControl: true,\r\n    wrapper: ['bootstrapLabel', 'bootstrapHasError']\r\n  },\r\n  controller: ['$scope', '$timeout', function($scope, $timeout) {\r\n    $scope.copyItemOptions = copyItemOptions;\r\n    $scope.selectTag = selectTag;\r\n\r\n    // 独立表单\r\n    $scope.hideModel = {}; // 存放search\r\n    $scope.hideFields = [{\r\n      key: 'search',\r\n      type: 'uiSelectAsync2',\r\n      templateOptions: {\r\n        // angular 1.4+ 只允许select使用ng-options\r\n        // 所以必须显示设定替代的bs-options\r\n        optionsAttr: 'bs-options',\r\n        label: '关联标签',\r\n        options: [],\r\n        valueProp: 'id',\r\n        labelProp: 'title',\r\n        refresh: search,\r\n        refreshDelay: 100\r\n      }\r\n    }];\r\n    var options;\r\n\r\n    var model = $scope.model;\r\n    var key = $scope.options.key;\r\n\r\n    $scope.$watch('hideModel.search', function(val){\r\n      if(!options) {\r\n        return;\r\n      }\r\n      options.forEach(function(option, index){\r\n        if(option.id === val) {\r\n          selectTag(option);\r\n        }\r\n      });\r\n    });\r\n\r\n\r\n    function copyItemOptions(index) {\r\n      return { \r\n        // model.key[0].weight\r\n        key: key + '[' + index + '].weight', \r\n        type: 'input',\r\n        className: 'no-label',\r\n        templateOptions: {\r\n          required: true\r\n        } \r\n      };\r\n    }\r\n\r\n    function search(keyword, field){\r\n      return $timeout(function(){\r\n        options = field.templateOptions.options = [\r\n          { id: 1, title: 'aaa' },\r\n          { id: 2, title: 'bbb' },\r\n          { id: 3, title: 'ccc' },\r\n          { id: 4, title: 'ddd' },\r\n          { id: 5, title: 'eee' },\r\n          { id: 6, title: 'fff' }\r\n        ];\r\n      }, 1000);\r\n    }\r\n\r\n    function selectTag(tag){\r\n      model[key] = model[key] || [];\r\n      model[key].push({\r\n        weight: '',\r\n        tagId: tag.id,\r\n        tagTitle: tag.title\r\n      });\r\n    }\r\n  }]\r\n};\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/rules/types/bindTag.js\n// module id = 100\n// module chunks = 0","module.exports = \"<div class=\\\"col-xs-12\\\">\\r\\n  <formly-form fields=\\\"hideFields\\\" model=\\\"hideModel\\\">\\r\\n  </formly-form>\\r\\n  <div ng-show=\\\"model[options.key].length\\\">\\r\\n    <div class=\\\"clearfix text-center\\\" style=\\\"margin-bottom:15px\\\">\\r\\n      <div class=\\\"col-xs-4\\\">权重</div>\\r\\n      <div class=\\\"col-xs-8\\\">已选标签</div>\\r\\n    </div>\\r\\n    <div class=\\\"clearfix\\\"\\r\\n         ng-repeat=\\\"item in model[options.key] track by $index\\\"\\r\\n         ng-init=\\\"itemOptions = copyItemOptions($index)\\\">\\r\\n      <div class=\\\"col-xs-4\\\">\\r\\n        <formly-field class=\\\"no-padding\\\"\\r\\n                      options=\\\"itemOptions\\\"\\r\\n                      model=\\\"model\\\"\\r\\n                      form=\\\"form\\\">\\r\\n        </formly-field>\\r\\n      </div>\\r\\n      <div class=\\\"col-xs-8\\\" style=\\\"line-height: 32px;\\\">\\r\\n        <div>\\r\\n          {{ model[options.key][$index].tagTitle }}\\r\\n          <a ng-click=\\\"model[options.key].splice($index, 1)\\\">\\r\\n            <span class=\\\"glyphicon glyphicon-trash\\\"></span>\\r\\n          </a>\\r\\n        </div>\\r\\n      </div>\\r\\n    </div>  \\r\\n  </div>\\r\\n</div>\"\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/rules/types/bindTag.html\n// module id = 101\n// module chunks = 0","rulesService.$inject = ['$q', '$http', 'apiBaseUrl', 'rulesTypes'];\r\nfunction rulesService($q, $http, apiBaseUrl, rulesTypes){\r\n  \r\n  return {\r\n    getRules: getRules,\r\n    getRule: getRule,\r\n    getRuleTypes: getRuleTypes,\r\n    importFile: importFile\r\n  };\r\n\r\n  // { Status: status }\r\n  function getRules(params){\r\n    params = params || {};\r\n    return $http.get(apiBaseUrl + '/task/api/findrulegroup', {params: params});\r\n  }\r\n\r\n  function getRule(id){\r\n    return $http.get(apiBaseUrl + '/task/api/TaskDetail/' + id);\r\n\r\n    var data = {\r\n      \"GroupType\":\"网站\",\r\n      \"SiteID\":\"1700\",\r\n      \"GroupName\":\"奶芙官网打标签规则\",\r\n      \"GroupStatus\":\"已加入任务\",\r\n      \"JoinTaskTime\":\"2016-10-10 12:22:05\",\r\n      \"CreateTime\":\"2016-10-08 15:09:24\",\r\n      \"Module\": [\r\n        {\r\n          \"Name\":\"页面\",\r\n          \"Content\":\r\n            [\r\n              {\r\n                \"ID\":\"53b9f64b-abd5-11e6-8096-06fab88a43c3\",\r\n                \"Key\":\"点击首页-立即购买\",\r\n                \"Tag\":\"树1-树2-树3-奶芙爱好者<br>树1-树2-树3-树4-轻食爱好者\",\r\n                \"Weight\":0.1,\r\n                \"ExecCount\":5,\r\n                \"Status\":\"启用\"\r\n              },\r\n              {\r\n                \"ID\":\"53b9f64b-abd5-11e6-8096-06fab88a43c3\",\r\n                \"Key\":\"点击首页-立即购买\",\r\n                \"Tag\":\"树1-树2-树3-奶芙爱好者<br>树1-树2-树3-树4-轻食爱好者\",\r\n                \"Weight\":0.1,\r\n                \"ExecCount\":5,\r\n                \"Status\":\"启用\"\r\n              }\r\n            ]\r\n        },\r\n        {\r\n          \"Name\":\"订单\",\r\n          \"Content\":\r\n            [\r\n              {\r\n                \"ID\":\"53b9f64b-abd5-11e6-8096-06fab88a43c3\",\r\n                \"Key\":\"点击首页-立即购买\",\r\n                \"Tag\":\"树1-树2-树3-奶芙爱好者<br>树1-树2-树3-树4-轻食爱好者\",\r\n                \"Weight\":0.1,\r\n                \"ExecCount\":5,\r\n                \"Status\":\"启用\"\r\n              },\r\n              {\r\n                \"ID\":\"53b9f64b-abd5-11e6-8096-06fab88a43c3\",\r\n                \"Key\":\"点击首页-立即购买\",\r\n                \"Tag\":\"树1-树2-树3-奶芙爱好者<br>树1-树2-树3-树4-轻食爱好者\",\r\n                \"Weight\":0.1,\r\n                \"ExecCount\":5,\r\n                \"Status\":\"启用\"\r\n              }\r\n            ]\r\n        }\r\n      ]\r\n    };\r\n    return $q.resolve(data);\r\n  }\r\n\r\n  function getRuleTypes(rulesType){\r\n    var type = rulesTypes.find(function(type){\r\n      return type.title === rulesType;\r\n    });\r\n    if(type) {\r\n      return angular.copy(type.types);\r\n    }\r\n    return [];\r\n  }\r\n\r\n  function importFile(file){\r\n    var data = { pic: file };\r\n    return $http.post(apiBaseUrl + '/rule/api/RuleImport', data, {\r\n      headers: {\r\n        'Content-Type': undefined\r\n      },\r\n      transformRequest: function(data, headersGetter){\r\n        console.log(data);\r\n        var formData = new FormData();\r\n        angular.forEach(data, function(value, key){\r\n          formData.append(key, value);\r\n        });\r\n        return formData;\r\n      }\r\n    });\r\n  }\r\n}\r\n\r\nexports.rulesService = rulesService;\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/rules/services.js\n// module id = 102\n// module chunks = 0"],"sourceRoot":""}