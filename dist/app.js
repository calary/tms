!function(t){function e(r){if(n[r])return n[r].exports;var s=n[r]={exports:{},id:r,loaded:!1};return t[r].call(s.exports,s,s.exports,e),s.loaded=!0,s.exports}var n={};return e.m=t,e.c=n,e.p="",e(0)}([function(t,e,n){var r=n(1),s=n(2),i=n(30),o=n(44),l=n(53),a=n(64),c={states:[],constants:{},components:{},directives:{},services:{},factories:{},filters:{},configBlocks:[],runBlocks:[]},d=[s,i,o,l,a].map(function(t){return Object.assign({},c,t)});d.forEach(function(t){r.config(["$stateProvider",function(e){return t.states.forEach(function(t){return e.state(t)})}]),Object.keys(t.constants).forEach(function(e){return r.constant(e,t.constants[e])}),Object.keys(t.components).forEach(function(e){return r.component(e,t.components[e])}),Object.keys(t.directives).forEach(function(e){return r.directive(e,t.directives[e])}),Object.keys(t.services).forEach(function(e){return r.service(e,t.services[e])}),Object.keys(t.factories).forEach(function(e){return r.factory(e,t.factories[e])}),Object.keys(t.filters).forEach(function(e){return r.filter(e,t.filters[e])}),t.configBlocks.forEach(function(t){return r.config(t)}),t.runBlocks.forEach(function(t){return r.run(t)})})},function(t,e){t.exports=angular.module("app",["ngAnimate","ngMessages","ngSanitize","ui.bootstrap","ui.select","ui.router","uiSwitch","formly","formlyBootstrap"])},function(t,e,n){var r=n(3);t.exports={runBlocks:[r.runFormlyConfig]}},function(t,e,n){n(4),e.runFormlyConfig=["formlyConfig","formlyValidationMessages",function(t,e){t.setWrapper(n(8)),t.setWrapper(n(10)),t.setWrapper(n(12)),t.setType(n(14)),t.setType(n(15)),t.setType(n(16)),t.setType(n(18)),t.setType(n(19)),t.setType(n(20)),t.setType(n(21)),t.setType(n(22)),t.setType(n(24)),t.setType(n(26)),t.setType(n(27)),t.setType(n(29)),t.extras.ngModelAttrsManipulatorPreferBound=!0,e.addStringMessage("required","必填"),e.addStringMessage("maxlength","输入太长了"),e.messages.pattern=function(t,e,n){return t+" is invalid"},e.addTemplateOptionValueMessage("minlength","minlength","","is the minimum length","Too short")}]},function(t,e){},,,,function(t,e,n){t.exports={name:"bootstrapHasError",template:n(9),overwriteOk:!0}},function(t,e){t.exports='<div class="formly-template-wrapper form-group" ng-class="{\'has-error\': showError}">\r\n  <formly-transclude></formly-transclude>\r\n  <div class="validation"\r\n    ng-if="fc.$touched"\r\n    ng-messages="fc.$error">\r\n    <div ng-message="{{::name}}" ng-repeat="(name, message) in ::options.validation.messages">\r\n    \t<span class="glyphicon glyphicon-exclamation-sign"></span>\r\n      {{message(fc.$viewValue, fc.$modelValue, this)}}\r\n    </div>\r\n  </div>\r\n</div>'},function(t,e,n){t.exports={name:"horizontalBootstrapWrapper",template:n(11)}},function(t,e){t.exports='<div class="col-sm-4"></div>\r\n<div class="col-sm-8">\r\n  <formly-transclude></formly-transclude>\r\n</div>'},function(t,e,n){t.exports={name:"horizontalBootstrapLabel",template:n(13)}},function(t,e){t.exports='<label for="{{::id}}" class="col-xs-4 control-label">\r\n  {{to.label}}\r\n</label>\r\n<div class="col-xs-8">\r\n  <formly-transclude></formly-transclude>\r\n</div>'},function(t,e){t.exports={name:"checkbox2",extends:"checkbox",wrapper:["horizontalBootstrapWrapper","bootstrapHasError"]}},function(t,e){t.exports={name:"input2",extends:"input",wrapper:["horizontalBootstrapLabel","bootstrapHasError"]}},function(t,e,n){t.exports={name:"plainTimeRange",template:n(17),controller:["$scope","$datetimeModalService",function(t,e){function n(){var e=!!(r[s]&&r[s].min&&r[s].max);t.to.required&&t.form.$setValidity("required",e)}var r=t.model,s=t.options.key;t.selectMinTime=function(){var t=r[s]=r[s]||{};e.show({date:t.min,maxDate:t.max}).then(function(e){t.min=e,n()})},t.selectMaxTime=function(){var t=r[s]=r[s]||{};e.show({date:t.max,minDate:t.min}).then(function(e){t.max=e,n()})},n()}]}},function(t,e){t.exports='<div class="formly-time-range">\r\n  <div class="formly-time-start">\r\n    <div class="input-group">\r\n      <p class="form-control">{{ model[options.key].min | date:"yyyy-MM-dd HH:mm:ss" }}</p>\r\n      <span class="input-group-btn">\r\n        <button class="btn btn-default" type="button" ng-click="selectMinTime()">\r\n          <span class="glyphicon glyphicon-calendar"></span>\r\n        </button>\r\n      </span>\r\n    </div>\r\n  </div>\r\n  <div class="formly-time-divider" style="line-height: 34px;"> 至 </div>\r\n  <div class="formly-time-end">\r\n    <div class="input-group">\r\n      <p class="form-control">{{ model[options.key].max | date:"yyyy-MM-dd HH:mm:ss" }}</p>\r\n      <span class="input-group-btn">\r\n        <button class="btn btn-default" type="button" ng-click="selectMaxTime()">\r\n          <span class="glyphicon glyphicon-calendar"></span>\r\n        </button>\r\n      </span>\r\n    </div>\r\n  </div>\r\n</div>\r\n'},function(t,e){t.exports={name:"timeRange",extends:"plainTimeRange",wrapper:["bootstrapLabel","bootstrapHasError"]}},function(t,e){t.exports={name:"timeRange2",extends:"plainTimeRange",wrapper:["horizontalBootstrapLabel","bootstrapHasError"]}},function(t,e){t.exports={name:"select2",extends:"select",wrapper:["horizontalBootstrapLabel","bootstrapHasError"]}},function(t,e){t.exports={name:"static2",template:'<p class="form-control-static">{{::to.text}}</p>',wrapper:["horizontalBootstrapLabel","bootstrapHasError"],defaultOptions:{noFormControl:!0}}},function(t,e,n){var r=1;t.exports={name:"repeatSection",template:n(23),controller:function(t){function e(t){return t=angular.copy(t),s(t),t}function n(){t.model[t.options.key]=t.model[t.options.key]||[];var e=t.model[t.options.key],n=e[e.length-1],r={};n&&(r=angular.copy(n)),e.push(r)}function s(t){r++,angular.forEach(t,function(t,e){return t.fieldGroup?void s(t.fieldGroup):(t.templateOptions&&t.templateOptions.fields&&s(t.templateOptions.fields),void(t.id=t.id||t.key+"_"+e+"_"+r+i(0,9999)))})}function i(t,e){return Math.floor(Math.random()*(e-t))+t}t.formOptions={formState:t.formState},t.addNew=n,t.copyFields=e}}},function(t,e){t.exports='<div>\r\n  <!--loop through each element in model array-->\r\n  <div class="{{hideRepeat}}">\r\n    <div class="repeatsection" ng-repeat="element in model[options.key]" ng-init="fields = copyFields(to.fields)">\r\n      <formly-form fields="fields"\r\n                   model="element"\r\n                   form="form">\r\n      </formly-form>\r\n      <div style="margin-bottom:20px;">\r\n        <button type="button" class="btn btn-sm btn-danger" ng-click="model[options.key].splice($index, 1)">\r\n          Remove\r\n        </button>\r\n      </div>\r\n      <hr>\r\n  </div>\r\n  <p class="AddNewButton">\r\n    <button type="button" class="btn btn-primary" ng-click="addNew()" >{{to.btnText}}</button>\r\n  </p>\r\n</div>'},function(t,e,n){t.exports={name:"uiSelect",extends:"select",template:n(25)}},function(t,e){t.exports='<ui-select ng-model="model[options.key]" required="{{to.required}}" disabled="{{to.disabled}}" search-enabled="false" theme="bootstrap">\r\n  <ui-select-match placeholder="{{to.placeholder}}" allow-clear="true">{{$select.selected[to.labelProp || \'name\']}}</ui-select-match>\r\n  <ui-select-choices group-by="to.groupBy" repeat="option[to.valueProp || \'value\'] as option in to.options">\r\n    <div ng-bind-html="option[to.labelProp] | highlight: $select.search"></div>\r\n  </ui-select-choices>\r\n</ui-select>'},function(t,e,n){t.exports={name:"uiSelect2",extends:"select2",template:n(25)}},function(t,e,n){t.exports={name:"uiSelectAsync",extends:"select",template:n(28)}},function(t,e){t.exports='<ui-select ng-model="model[options.key]" required="{{to.required}}" disabled="{{to.disabled}}" theme="bootstrap" spinner-enabled="true">\r\n  <ui-select-match placeholder="{{to.placeholder}}">{{$select.selected[to.labelProp || \'name\']}}</ui-select-match>\r\n  <ui-select-choices repeat="option[to.valueProp || \'value\'] as option in to.options" refresh="to.refresh($select.search, options)" refresh-delay="{{to.refreshDelay}}">\r\n    <div ng-bind-html="option[to.labelProp] | highlight: $select.search"></div>\r\n  </ui-select-choices>\r\n  <ui-select-no-choices>无匹配结果</ui-select-no-choices>\r\n</ui-select>'},function(t,e,n){t.exports={name:"uiSelectAsync2",extends:"select2",template:n(28)}},function(t,e,n){var r=n(31),s=n(33),i=n(37),o=n(38),l=n(39),a=n(42);t.exports={components:{baseModal:r,datetimeModal:s},directives:{inputFile:l},factories:{$modalService:i,$datetimeModalService:o},runBlocks:[a.cacheTemplateRunBlock,a.runFormlyConfig]}},function(t,e,n){function r(t){function e(){if(r.handleOk){if(r.lock)return;r.lock=!0,r.handleOk().then(function(){r.close()}).finally(function(){r.lock=!1})}else r.close()}function n(){r.dismiss()}var r=this,s=r.resolve.config;console.log(s),r.title=s.title||"",r.content=s.content||"",r.okLabel=s.okLabel||"确定",r.cancelLabel=s.cancelLabel||"取消",r.hideOk=s.hideOk||!1,r.hideCancel=s.hideCancel||!1,r.handleOk=s.handleOk||null,r.isToast=s.isToast||null,r.timeout=s.timeout||3e3,r.ok=e,r.cancel=n,r.lock=!1,r.isToast&&t(n,vm.timeout)}r.$inject=["$timeout"],t.exports={template:n(32),controller:r,bindings:{resolve:"<",close:"&",dismiss:"&"}}},function(t,e){t.exports='<div class="modal-header bg-primary" ng-show="$ctrl.title" >\r\n\t<button type="button" class="close" ng-click="$ctrl.cancel();"><span>&times;</span></button>\r\n    <h4 class="modal-title">{{ $ctrl.title }}</h4>\r\n</div>\r\n<div class="modal-body" ng-class="{\'modal-toast\': $ctrl.isToast}">\r\n    <div>{{ $ctrl.content }}</div>\r\n</div>\r\n<div class="modal-footer" ng-hide="$ctrl.isToast">\r\n    <button class="btn btn-primary" type="button" ng-disabled="$ctrl.lock" ng-hide="$ctrl.hideOk" ng-click="$ctrl.ok();">{{ $ctrl.okLabel }}</button>\r\n    <button class="btn btn-default" type="button" ng-hide="$ctrl.hideCancel" ng-click="$ctrl.cancel();">{{ $ctrl.cancelLabel }}</button>\r\n</div>'},function(t,e,n){function r(t){function e(){r.close({$value:r.date})}function n(){r.dismiss()}var r=this;r.ok=e,r.cancel=n;var s=r.resolve.config,i=s.date?angular.copy(s.date):new Date,o=s.minDate?angular.copy(s.minDate):null,l=s.maxDate?angular.copy(s.maxDate):null;console.log(s),r.date=i,r.options={showWeeks:!1,minDate:o,maxDate:l},t.$watch("$ctrl.date",function(t){o&&o.getTime()>=r.date.getTime()&&r.date.setTime(o.getTime()+1e3),l&&l.getTime()<=r.date.getTime()&&r.date.setTime(l.getTime()-1e3)})}n(34),r.$inject=["$scope"],t.exports={template:n(36),controller:r,bindings:{resolve:"<",close:"&",dismiss:"&"}}},function(t,e){},,function(t,e){t.exports='<div class="modal-header bg-default">\r\n\t<button type="button" class="close" ng-click="$ctrl.dismiss();"><span>&times;</span></button>\r\n    <h4 class="modal-title">选择时间</h4>\r\n</div>\r\n<div class="modal-body">\r\n  <div uib-datepicker \r\n    ng-model="$ctrl.date" \r\n    datepicker-options="$ctrl.options"></div>\r\n  <div uib-timepicker \r\n    ng-model="$ctrl.date"\r\n    readonly-input="true"\r\n    show-meridian="false"\r\n    template-url="global/datetime-modal.timepicker.html"\r\n    show-seconds="true"></div>\r\n<!--   <div>当前时间{{ $ctrl.date | date:\'yyyy-MM-dd HH:mm:ss\' }}</div>\r\n  <div>最小日期{{ $ctrl.options.minDate | date:\'yyyy-MM-dd HH:mm:ss\' }}</div>\r\n  <div>最大日期{{ $ctrl.options.maxDate | date:\'yyyy-MM-dd HH:mm:ss\' }}</div>\r\n  <div>最小时间{{ $ctrl.minTime | date:\'yyyy-MM-dd HH:mm:ss\' }}</div>\r\n  <div>最大时间{{ $ctrl.maxTime | date:\'yyyy-MM-dd HH:mm:ss\' }}</div> -->\r\n</div>\r\n<div class="modal-footer">\r\n  <button class="btn btn-primary" type="button" ng-click="$ctrl.ok();">确定</button>\r\n  <button class="btn btn-default" type="button" ng-click="$ctrl.dismiss();">取消</button>\r\n</div>'},function(t,e){t.exports=["$uibModal",function(t){function e(e){var n=t.open({size:"sm",component:"baseModal",resolve:{config:function(){return e}}});return n.result}function n(t){return t=t||{},t.hideCancel=!0,e(t)}function r(t){return t=t||{},t.isToast=!0,e(t)}return{confirm:e,alert:n,toast:r}}]},function(t,e){t.exports=["$uibModal",function(t){function e(e){var n=t.open({size:"sm",component:"datetimeModal",windowClass:"datetime-modal",resolve:{config:e||{}}});return n.result}return{show:e}}]},function(t,e,n){function r(t){var e=document.createElement("form"),n=document.createElement("div"),r=t.parentNode;r.replaceChild(n,t),e.appendChild(t),e.reset(),r.replaceChild(t,n)}function s(){return console.log("wa"),{retrict:"AE",scope:{onChange:"&"},transclude:!0,template:["<span ng-transclude></span>",'<input type="file">'].join(""),link:function(t,e,n){function s(e){var n=e.target.files;n.length>0&&(t.onChange({file:n[0]}),r(e.target))}var i=e.find("input");console.log("ere"),i.bind("change",s)}}}n(40),s.$inject=[],t.exports=s},function(t,e){},,function(t,e,n){e.cacheTemplateRunBlock=["$templateCache",function(t){t.put("global/datetime-modal.timepicker.html",n(43))}]},function(t,e){t.exports='<table class="uib-timepicker">\r\n  <tbody>\r\n    <tr>\r\n      <td rowspan="2" class="form-group uib-time hours" ng-class="{\'has-error\': invalidHours}">\r\n        <input type="text" placeholder="HH" ng-model="hours" ng-change="updateHours()" class="form-control text-center" ng-readonly="::readonlyInput" maxlength="2" tabindex="{{::tabindex}}" ng-disabled="noIncrementHours()" ng-blur="blur()">\r\n      </td>\r\n      <td class="uib-increment hours"><a ng-click="incrementHours()" ng-class="{disabled: noIncrementHours()}" class="btn" ng-disabled="noIncrementHours()" tabindex="-1"><span class="glyphicon glyphicon-chevron-up"></span></a></td>\r\n      <td rowspan="2" class="uib-time-name">时</td>\r\n      <td rowspan="2" class="form-group uib-time minutes" ng-class="{\'has-error\': invalidMinutes}">\r\n        <input type="text" placeholder="MM" ng-model="minutes" ng-change="updateMinutes()" class="form-control text-center" ng-readonly="::readonlyInput" maxlength="2" tabindex="{{::tabindex}}" ng-disabled="noIncrementMinutes()" ng-blur="blur()">\r\n      </td>\r\n      <td class="uib-increment minutes"><a ng-click="incrementMinutes()" ng-class="{disabled: noIncrementMinutes()}" class="btn" ng-disabled="noIncrementMinutes()" tabindex="-1"><span class="glyphicon glyphicon-chevron-up"></span></a></td>\r\n      <td rowspan="2" class="uib-time-name">分</td>\r\n      <td rowspan="2" class="form-group uib-time seconds" ng-class="{\'has-error\': invalidSeconds}" ng-show="showSeconds">\r\n        <input type="text" placeholder="SS" ng-model="seconds" ng-change="updateSeconds()" class="form-control text-center" ng-readonly="readonlyInput" maxlength="2" tabindex="{{::tabindex}}" ng-disabled="noIncrementSeconds()" ng-blur="blur()">\r\n      </td>\r\n      <td ng-show="showSeconds" class="uib-increment seconds"><a ng-click="incrementSeconds()" ng-class="{disabled: noIncrementSeconds()}" class="btn" ng-disabled="noIncrementSeconds()" tabindex="-1"><span class="glyphicon glyphicon-chevron-up"></span></a></td>\r\n      <td rowspan="2" ng-show="showSeconds" class="uib-time-name">秒</td>\r\n      <td rowspan="2" ng-show="showMeridian" class="uib-time am-pm"><button type="button" ng-class="{disabled: noToggleMeridian()}" class="btn btn-default text-center" ng-click="toggleMeridian()" ng-disabled="noToggleMeridian()" tabindex="{{::tabindex}}">{{meridian}}</button></td>\r\n    </tr>\r\n    <tr>\r\n      <td class="uib-decrement hours"><a ng-click="decrementHours()" ng-class="{disabled: noDecrementHours()}" class="btn" ng-disabled="noDecrementHours()" tabindex="-1"><span class="glyphicon glyphicon-chevron-down"></span></a></td>\r\n      <td class="uib-decrement minutes"><a ng-click="decrementMinutes()" ng-class="{disabled: noDecrementMinutes()}" class="btn" ng-disabled="noDecrementMinutes()" tabindex="-1"><span class="glyphicon glyphicon-chevron-down"></span></a></td>\r\n      <td ng-show="showSeconds" class="uib-decrement seconds"><a ng-click="decrementSeconds()" ng-class="{disabled: noDecrementSeconds()}" class="btn" ng-disabled="noDecrementSeconds()" tabindex="-1"><span class="glyphicon glyphicon-chevron-down"></span></a></td>\r\n    </tr>\r\n    <!-- <tr class="text-center" ng-show="::showSpinners">\r\n      \r\n      \r\n      <td ng-show="showSeconds">&nbsp;</td>\r\n      <td ng-show="showSeconds" class="uib-increment seconds"><a ng-click="incrementSeconds()" ng-class="{disabled: noIncrementSeconds()}" class="btn btn-link" ng-disabled="noIncrementSeconds()" tabindex="-1"><span class="glyphicon glyphicon-chevron-up"></span></a></td>\r\n      <td ng-show="showMeridian"></td>\r\n    </tr>\r\n    <tr>\r\n    \r\n\r\n      <td ng-show="showSeconds" class="uib-separator">:</td>\r\n      <td class="form-group uib-time seconds" ng-class="{\'has-error\': invalidSeconds}" ng-show="showSeconds">\r\n        <input type="text" placeholder="SS" ng-model="seconds" ng-change="updateSeconds()" class="form-control text-center" ng-readonly="readonlyInput" maxlength="2" tabindex="{{::tabindex}}" ng-disabled="noIncrementSeconds()" ng-blur="blur()">\r\n      </td>\r\n      <td ng-show="showMeridian" class="uib-time am-pm"><button type="button" ng-class="{disabled: noToggleMeridian()}" class="btn btn-default text-center" ng-click="toggleMeridian()" ng-disabled="noToggleMeridian()" tabindex="{{::tabindex}}">{{meridian}}</button></td>\r\n    </tr>\r\n    <tr class="text-center" ng-show="::showSpinners">\r\n      <td class="uib-decrement hours"><a ng-click="decrementHours()" ng-class="{disabled: noDecrementHours()}" class="btn btn-link" ng-disabled="noDecrementHours()" tabindex="-1"><span class="glyphicon glyphicon-chevron-down"></span></a></td>\r\n      <td>&nbsp;</td>\r\n      <td class="uib-decrement minutes"><a ng-click="decrementMinutes()" ng-class="{disabled: noDecrementMinutes()}" class="btn btn-link" ng-disabled="noDecrementMinutes()" tabindex="-1"><span class="glyphicon glyphicon-chevron-down"></span></a></td>\r\n      <td ng-show="showSeconds">&nbsp;</td>\r\n      <td ng-show="showSeconds" class="uib-decrement seconds"><a ng-click="decrementSeconds()" ng-class="{disabled: noDecrementSeconds()}" class="btn btn-link" ng-disabled="noDecrementSeconds()" tabindex="-1"><span class="glyphicon glyphicon-chevron-down"></span></a></td>\r\n      <td ng-show="showMeridian"></td>\r\n    </tr> -->\r\n  </tbody>\r\n</table>\r\n\r\n<!-- \r\n\r\n<table class="uib-timepicker">\r\n  <tbody>\r\n    <tr class="text-center" ng-show="::showSpinners">\r\n      <td class="uib-increment hours"><a ng-click="incrementHours()" ng-class="{disabled: noIncrementHours()}" class="btn btn-link" ng-disabled="noIncrementHours()" tabindex="-1"><span class="glyphicon glyphicon-chevron-up"></span></a></td>\r\n      <td>&nbsp;</td>\r\n      <td class="uib-increment minutes"><a ng-click="incrementMinutes()" ng-class="{disabled: noIncrementMinutes()}" class="btn btn-link" ng-disabled="noIncrementMinutes()" tabindex="-1"><span class="glyphicon glyphicon-chevron-up"></span></a></td>\r\n      <td ng-show="showSeconds">&nbsp;</td>\r\n      <td ng-show="showSeconds" class="uib-increment seconds"><a ng-click="incrementSeconds()" ng-class="{disabled: noIncrementSeconds()}" class="btn btn-link" ng-disabled="noIncrementSeconds()" tabindex="-1"><span class="glyphicon glyphicon-chevron-up"></span></a></td>\r\n      <td ng-show="showMeridian"></td>\r\n    </tr>\r\n    <tr>\r\n      <td class="form-group uib-time hours" ng-class="{\'has-error\': invalidHours}">\r\n        <input type="text" placeholder="HH" ng-model="hours" ng-change="updateHours()" class="form-control text-center" ng-readonly="::readonlyInput" maxlength="2" tabindex="{{::tabindex}}" ng-disabled="noIncrementHours()" ng-blur="blur()">\r\n      </td>\r\n      <td class="uib-separator">:</td>\r\n      <td class="form-group uib-time minutes" ng-class="{\'has-error\': invalidMinutes}">\r\n        <input type="text" placeholder="MM" ng-model="minutes" ng-change="updateMinutes()" class="form-control text-center" ng-readonly="::readonlyInput" maxlength="2" tabindex="{{::tabindex}}" ng-disabled="noIncrementMinutes()" ng-blur="blur()">\r\n      </td>\r\n      <td ng-show="showSeconds" class="uib-separator">:</td>\r\n      <td class="form-group uib-time seconds" ng-class="{\'has-error\': invalidSeconds}" ng-show="showSeconds">\r\n        <input type="text" placeholder="SS" ng-model="seconds" ng-change="updateSeconds()" class="form-control text-center" ng-readonly="readonlyInput" maxlength="2" tabindex="{{::tabindex}}" ng-disabled="noIncrementSeconds()" ng-blur="blur()">\r\n      </td>\r\n      <td ng-show="showMeridian" class="uib-time am-pm"><button type="button" ng-class="{disabled: noToggleMeridian()}" class="btn btn-default text-center" ng-click="toggleMeridian()" ng-disabled="noToggleMeridian()" tabindex="{{::tabindex}}">{{meridian}}</button></td>\r\n    </tr>\r\n    <tr class="text-center" ng-show="::showSpinners">\r\n      <td class="uib-decrement hours"><a ng-click="decrementHours()" ng-class="{disabled: noDecrementHours()}" class="btn btn-link" ng-disabled="noDecrementHours()" tabindex="-1"><span class="glyphicon glyphicon-chevron-down"></span></a></td>\r\n      <td>&nbsp;</td>\r\n      <td class="uib-decrement minutes"><a ng-click="decrementMinutes()" ng-class="{disabled: noDecrementMinutes()}" class="btn btn-link" ng-disabled="noDecrementMinutes()" tabindex="-1"><span class="glyphicon glyphicon-chevron-down"></span></a></td>\r\n      <td ng-show="showSeconds">&nbsp;</td>\r\n      <td ng-show="showSeconds" class="uib-decrement seconds"><a ng-click="decrementSeconds()" ng-class="{disabled: noDecrementSeconds()}" class="btn btn-link" ng-disabled="noDecrementSeconds()" tabindex="-1"><span class="glyphicon glyphicon-chevron-down"></span></a></td>\r\n      <td ng-show="showMeridian"></td>\r\n    </tr>\r\n  </tbody>\r\n</table>\r\n -->'},function(t,e,n){var r=n(45),s=n(47),i=n(48),o=n(49),l=n(50);n(51),t.exports={constants:{apiBaseUrl:s.apiBaseUrl,rulesTypes:s.rulesTypes,ruleTypes:s.ruleTypes,taskStatus:s.taskStatus,boolOptions:s.boolOptions,timeOptions:s.timeOptions,compareOptions:s.compareOptions,sexOptions:s.sexOptions,pointsOptions:s.pointsOptions,couponOptions:s.couponOptions},components:{app:r},filters:{taskStatusFilter:l.taskStatusFilter},states:[i.appState],configBlocks:[o.otherwiseConfigBlock,o.httpConfigBlock],runBlocks:[o.httpBackendRunBlock]}},function(t,e,n){function r(t){this.$state=t}r.$inject=["$state"],t.exports={template:n(46),controller:r}},function(t,e){t.exports='<div class="app-main">\r\n  <div class="app-main-nav">\r\n    <h1 class="page-title">任务管理</h1>\r\n    <ul class="nav nav-pills nav-stacked">\r\n      <li ui-sref-active="active"><a ui-sref="tasksList">任务列表</a></li>\r\n      <!-- <li ui-sref-active="active"><a ui-sref="newTask">新建任务</a></li> -->\r\n      <li ui-sref-active="active"><a ui-sref="rulesList">规则组列表</a></li>\r\n      <!-- <li ui-sref-active="active"><a ui-sref="newRules">新建规则组</a></li> -->\r\n      <!-- <li ui-sref-active="active"><a ui-sref="importRules">导入规则组</a></li> -->\r\n      <!-- <li ui-sref-active="active"><a ui-sref="test">测试</a></li> -->\r\n    </ul>\r\n  </div>\r\n  <div class="app-main-content">\r\n    <h1 class="page-title">{{$ctrl.$state.$current.title}}</h1>\r\n    <ui-view class="app-ui-view"></ui-view>\r\n  </div>\r\n</div>'},function(t,e){e.apiBaseUrl="http://dm2log.arlakitchen.com:8089",e.rulesTypes=[{id:"网站",title:"网站"},{id:"广告",title:"广告"},{id:"呼叫中心",title:"呼叫中心"},{id:"社会化媒体",title:"社会化媒体"}],e.ruleTypes=[{id:1,title:"页面"},{id:2,title:"点击"},{id:3,title:"订单"},{id:4,title:"购物车"},{id:5,title:"微信"},{id:6,title:"会员积分"},{id:7,title:"搜索"},{id:8,title:"活动"},{id:9,title:"优惠券"},{id:10,title:"中奖"},{id:11,title:"关联型"}],e.taskStatus=[{id:0,title:"未开始"},{id:1,title:"执行中"},{id:2,title:"暂停中"},{id:3,title:"已结束"},{id:4,title:"未加入"}],e.boolOptions=[{id:1,title:"震"},{id:2,title:"假"}],e.timeOptions=[{id:1,title:"开始时间"},{id:2,title:"结束时间"}],e.compareOptions=[{id:1,title:"大于"},{id:2,title:"小于等于"},{id:2,title:"小于"},{id:2,title:"小于等于"},{id:3,title:"等于"}],e.sexOptions=[{id:1,title:"男"},{id:2,title:"女"},{id:3,title:"保密"}],e.pointsOptions=[{id:1,title:"购买积分"},{id:2,title:"行为积分"}],e.couponOptions=[{id:1,title:"领取优惠券"},{id:2,title:"使用优惠券"}]},function(t,e){e.appState={name:"app",redirectTo:"tasksList",component:"app"}},function(t,e){e.otherwiseConfigBlock=["$urlRouterProvider",function(t){t.otherwise("/task")}],e.httpConfigBlock=["$httpProvider",function(t){t.defaults.paramSerializer="$httpParamSerializerJQLike",t.interceptors.push(["$q",function(t){return{response:function(e){var n=/^http/.test(e.config.url);if(!n)return e;var r=e.data,s=r&&r.Status,i=r&&r.Information;return 1==s?t.resolve(r.Data):t.reject(i)}}}])}]},function(t,e){e.taskStatusFilter=["taskStatus",function(t){return function(e){if(!e)return"";var n=t.find(function(t){return t.id==e});return n&&n.title}}]},function(t,e){},,function(t,e,n){var r=n(54),s=n(58),i=n(60),o=n(62),l=n(63);t.exports={components:{taskList:r,editTask:s,test:i},states:[o.taskListState,o.newTaskState,o.editTaskState,o.testState],factories:{tasksService:l.tasksService}}},function(t,e,n){function r(t,e,n){function r(){var e=s.model.timeOption,n=s.model.time||{},r={siteid:s.model.siteid,rulegroupname:s.model.rulegroupname,rulegrouptype:s.model.rulegrouptype,status:s.model.status,startdate:0==e&&n.min||null,startdate1:0==e&&n.max||null,enddate:1==e&&n.min||null,enddate1:1==e&&n.max||null};t.getTasks(r).then(function(t){s.data=t&&t.Data||[]},function(t){console.log(t)})}var s=this;s.data=[],s.filter=r;var i=n.slice(0,-1);s.model={timeOption:0},s.options={},s.fields=[{className:"row",fieldGroup:[{key:"siteid",type:"input2",className:"col-sm-6 col-lg-3",templateOptions:{label:"site ID/广告ID"}},{key:"rulegroupname",type:"input2",className:"col-sm-6 col-lg-3",templateOptions:{label:"规则组名称"}},{key:"rulegrouptype",type:"select2",className:"col-sm-6 col-lg-3",templateOptions:{label:"规则组类型",valueProp:"id",labelProp:"title",options:[{id:void 0,title:"全部"}].concat(e)}},{key:"status",type:"select2",className:"col-sm-6 col-lg-3",templateOptions:{label:"任务状态",valueProp:"id",labelProp:"title",options:[{id:void 0,title:"全部"}].concat(i)}}]},{className:"row",fieldGroup:[{key:"timeOption",type:"select",className:"col-sm-2",templateOptions:{label:"",valueProp:"id",labelProp:"title",options:[{id:0,title:"开始时间"},{id:1,title:"结束时间"}]}},{key:"time",type:"timeRange",className:"col-sm-8 col-md-6 pl30",templateOptions:{label:""}}]}],r()}n(55),r.$inject=["tasksService","rulesTypes","taskStatus"],t.exports={template:n(57),controller:r}},function(t,e){},,function(t,e){t.exports='<div class="task-list">\r\n  <!-- 筛选 -->\r\n  <div class="well well-default">\r\n    <form class="form-horizontal" name="$ctrl.form" novalidate>\r\n      <formly-form model="$ctrl.model" fields="$ctrl.fields" form="$ctrl.form" options="$ctrl.options">\r\n      </formly-form>\r\n      <button class="btn btn-primary" ng-click="$ctrl.filter()">筛选</button>\r\n      <button class="btn btn-default" ng-click="$ctrl.options.resetModel()">重置</button>  \r\n    </form>\r\n    <!-- <div>{{ $ctrl.model | json }}</div> -->\r\n  </div>\r\n  <!-- <p><a ui-href="newTask" class="btn btn-primary">新建任务</a></p> -->\r\n  <!-- 任务列表 -->\r\n  <table class="table table-bordered table-hover">\r\n    <thead class="bg-default">\r\n      <tr>\r\n        <td>site ID/广告ID</td>\r\n        <td>规则组名称</td>\r\n        <td>规则组类型</td>\r\n        <td>开始时间</td>\r\n        <td>结束时间</td>\r\n        <td>状态</td>\r\n        <td class="hide">任务进度</td>\r\n        <td>创建时间</td>\r\n        <td class="hide">操作</td>\r\n      </tr>\r\n    </thead>\r\n    <tbody>\r\n      <tr ng-repeat="row in $ctrl.data">\r\n        <td>{{ row.SiteID }}</td>\r\n        <td>{{ row.RuleGroupName }}</td>\r\n        <td>{{ row.RuleGroupType }}</td>\r\n        <td>{{ row.StartDate | date:"yyyy-MM-dd hh:mm:ss" }}</td>\r\n        <td>{{ row.EndDate | date:"yyyy-MM-dd hh:mm:ss" }}</td>\r\n        <td>\r\n          <div ng-switch="row.Status">\r\n            <div ng-switch-when="0">未开始</div>\r\n            <div ng-switch-when="1">\r\n              执行中\r\n              <switch name="enabled" ng-model="enabled" class="green"></switch></div>\r\n            <div ng-switch-when="2">\r\n              暂停中\r\n              <switch name="enabled" ng-model="enabled" class="green"></switch>\r\n            </div>\r\n            <div ng-switch-when="3">已结束</div>\r\n            <div ng-switch-when="4">未加入</div>\r\n          </div>\r\n        </td>\r\n        <td class="hide">\r\n          <div class="text-center">22%</div>\r\n          <uib-progressbar value="22"></uib-progressbar>\r\n        </td>\r\n        <td>{{ row.CreateTime | date:"yyyy-MM-dd hh:mm:ss"}}</td>\r\n        <td class="hide"><a href="">编辑任务时间</a></td>\r\n      </tr>\r\n      <tr ng-if="!$ctrl.data.length" class="text-center">\r\n        <td colspan="9">空</td>\r\n      </tr>\r\n    </tbody>\r\n  </table> \r\n<!--   <div ng-init="bigTotalItems=175;bigCurrentPage=1;maxSize=3;"></div>\r\n  <ul uib-pagination \r\n    total-items="bigTotalItems" \r\n    ng-model="bigCurrentPage" \r\n    max-size="maxSize" \r\n    boundary-link-numbers="true" \r\n    previous-text="上一页" next-text="下一页"\r\n  ></ul> --> \r\n</div>\r\n\r\n'},function(t,e,n){function r(t,e){var n=this;n.options={},n.fields=[],n.model={};var r=e.is("newTask");r?(n.model.ruleType=1,n.fields=[{key:"ruleType",type:"select2",templateOptions:{label:"选择标签规则组",valueProp:"id",labelProp:"title",options:[{id:1,title:"选项"}],required:!0}},{key:"sideId",type:"input2",templateOptions:{label:"site ID/广告ID",required:!0}},{key:"time",type:"timeRange2",templateOptions:{label:"设置任务周期",required:!0}}]):n.fields=[{type:"static2",templateOptions:{label:"标签规则组",text:"1700-奶芙官网打标签规则"}},{type:"static2",templateOptions:{label:"site ID/广告ID",text:"1700"}},{key:"time",type:"timeRange2",templateOptions:{label:"设置任务周期",required:!0}}]}r.$inject=["$modalService","$state"],t.exports={template:n(59),controller:r}},function(t,e){t.exports='<form class="form-horizontal" ng-submit="$ctrl.onSubmit()" name="$ctrl.form" novalidate style="max-width: 680px;">\r\n  <formly-form model="$ctrl.model" fields="$ctrl.fields" form="$ctrl.form" options="$ctrl.options">\r\n  </formly-form>\r\n  <div class="clearfix">\r\n    <button type="button" class="btn btn-default pull-right" ng-click="$ctrl.options.resetModel()">清除规则</button>  \r\n    <button type="submit" class="btn btn-primary submit-button pull-right" ng-disabled="$ctrl.form.$invalid">保存</button>\r\n  </div>\r\n</form>\r\n<div>{{$ctrl.model}}</div>\r\n<button class="btn btn-primary" ng-click="$ctrl.alert()">打开</button>'},function(t,e,n){function r(t,e){var n=[{id:1,label:"Option 1"},{id:2,label:"Option 2"},{id:3,label:"Option 3"}];this.options={},this.fields=[],this.fields.push({type:"static2",templateOptions:{label:"static2",text:"text"}}),this.fields.push({key:"singleOption",type:"uiSelect2",templateOptions:{optionsAttr:"bs-options",label:"select",valueProp:"id",labelProp:"label",options:n,required:!0}}),this.fields.push({key:"text",type:"input2",templateOptions:{label:"input",minlength:10,maxlength:20,required:!0}}),this.fields.push({key:"time",type:"timeRange2",optionsTypes:["timeRange2"],templateOptions:{label:"设置任务周期",required:!0}}),this.itemArray=[{id:1,name:"first"},{id:2,name:"second"},{id:3,name:"third"},{id:4,name:"fourth"},{id:5,name:"fifth"}],this.selected={value:this.itemArray[0]}}r.$inject=["$modalService","$datetimeModalService"],t.exports={template:n(61),controller:r}},function(t,e){t.exports='<form class="form-horizontal" ng-submit="$ctrl.onSubmit()" name="$ctrl.form" novalidate>\r\n  <div class="clearfix">\r\n    <button type="button" class="btn btn-default pull-right" ng-click="$ctrl.options.resetModel()">清除规则</button>  \r\n    <button type="submit" class="btn btn-primary submit-button pull-right" ng-disabled="$ctrl.form.$invalid">保存</button>\r\n  </div>\r\n  \r\n  <formly-form model="$ctrl.model" fields="$ctrl.fields" form="$ctrl.form" options="$ctrl.options">\r\n  </formly-form>\r\n</form>\r\n<div>{{$ctrl.model}}</div>\r\n\r\n\r\n<ui-select ng-model="$ctrl.selected.value">\r\n    <ui-select-match>\r\n        <span ng-bind="$select.selected.name"></span>\r\n    </ui-select-match>\r\n    <ui-select-choices repeat="item in ($ctrl.itemArray | filter: $select.search) track by item.id">\r\n        <span ng-bind="item.name"></span>\r\n    </ui-select-choices>\r\n</ui-select>\r\n\r\n<button class="btn btn-primary" ng-click="$ctrl.alert()">打开</button>';
},function(t,e){e.taskListState={parent:"app",name:"tasksList",url:"/task",title:"任务列表",component:"taskList"},e.newTaskState={parent:"app",name:"newTask",url:"/task/new",title:"新建任务列表",component:"editTask"},e.editTaskState={parent:"app",name:"editTask",url:"/task/:taskId/edit",title:"编辑任务列表",component:"editTask"},e.testState={parent:"app",name:"test",url:"/test",title:"测试",component:"test"}},function(t,e){function n(t,e,n){function r(t){return t=t||{},e.get(n+"/api/findtask",{params:t})}return{getTasks:r}}n.$inject=["$q","$http","apiBaseUrl"],e.tasksService=n},function(t,e,n){var r=n(65),s=n(69),i=n(71),o=n(73),l=n(75),a=n(77),c=n(79),d=n(80),p=n(83);t.exports={components:{rulesList:i,viewRules:o,newRule:r,newRules:s,importRules:l,importRulesModal:a},states:[c.rulesListState,c.newRulesState,c.newRuleState,c.viewRulesState,c.importRuleState],factories:{rulesService:p.rulesService},runBlocks:[d.runFormlyConfig]}},function(t,e,n){function r(t){function e(){r.formList.push({options:{},model:{},fields:angular.copy(r.fields)})}function n(t){r.formList.splice(t,1)}var r=this;r.ruleTypes=t,r.fields=[],r.formList=[],r.addSection=e,r.removeSection=n,r.fields=[{key:"test",type:"input2",templateOptions:{label:"site ID/广告ID",required:!0}},{key:"test2",type:"bindTag",templateOptions:{required:!0}}],e()}n(66),r.$inject=["ruleTypes"],t.exports={template:n(68),controller:r}},function(t,e){},,function(t,e){t.exports='<div class="new-rule">\r\n\t<div class="app-main-nav">\r\n    <ul class="nav nav-pills nav-stacked">\r\n      <li ui-sref-active="active" ng-repeat="type in $ctrl.ruleTypes">\r\n      \t<a ui-sref="{ruleType: type.id}">{{ type.title }}</a>\r\n      </li>\r\n    </ul>\r\n\t</div>\r\n\t<div class="app-main-content">\r\n\t\t<div>\r\n\t\t\t<div class="btn btn-default">提交规则组</div>\r\n\t\t</div>\r\n\t\t<div class="well" ng-repeat="form in $ctrl.formList track by $index">\r\n\t\t\t<button class="close" ng-click="$ctrl.removeSection($index)">&times;</button>\r\n\t\t\t<form class="form-horizontal" name="form.form" novalidate style="max-width: 680px;">\r\n\t\t\t\t<div class="text-right">\r\n\t\t      <button class="btn btn-default">保存</button>\r\n"\r\n\t\t      <button class="btn btn-default" ng-click="form.options.resetModel()">清除规则</button>\r\n\t\t    </div>\r\n\t\t    <formly-form model="form.model" fields="form.fields" form="form.form" options="form.options">\r\n\t\t    </formly-form>\r\n\t\t  </form>\t\r\n\t\t  <div>{{ form.model | json}}</div>\r\n\t\t</div>\r\n\t\t<div>\r\n\t\t\t<button class="btn btn-default" ng-click="$ctrl.addSection()">\r\n\t\t\t\t<span class="glyphicon glyphicon-plus-sign"></span>添加规则</button>\r\n\t\t</div>\r\n\t</div>\r\n</div>'},function(t,e,n){function r(t,e,n){var r=this;r.options={},r.model={rulesType:e[0].id},r.fields=[{key:"rulesType",type:"select2",templateOptions:{label:"选择规则组类型",valueProp:"id",labelProp:"title",options:e,required:!0}},{key:"asdf",type:"input2",templateOptions:{label:"site ID（选填）"}},{key:"ffff",type:"input2",templateOptions:{label:"规则组名称",required:!0}}],r.go=function(){t.go("newRule",{rulesId:"test",ruleType:n[0].id})}}r.$inject=["$state","rulesTypes","ruleTypes"],t.exports={template:n(70),controller:r}},function(t,e){t.exports='<div class="new-rules">\r\n  <form class="form-horizontal" ng-submit="$ctrl.onSubmit()" name="$ctrl.form" novalidate style="max-width: 680px;">\r\n    <formly-form model="$ctrl.model" fields="$ctrl.fields" form="$ctrl.form" options="$ctrl.options">\r\n    </formly-form>\r\n    <div class="row">\r\n      <div class="col-sm-8 col-sm-offset-4">\r\n        <button type="submit" class="btn btn-primary" ng-disabled="$ctrl.form.$invalid">下一步</button>\r\n        创建规则组，去设置标签规则\r\n      </div>\r\n    </div>\r\n  </form>\r\n  <p><a ng-click="$ctrl.go()">测试用：创建规则</a></p>\r\n</div>\r\n'},function(t,e,n){function r(t){function e(e,r){t.getRules({Status:e}).then(function(t){n.data[r]=t&&t.Data||[]})}var n=this;n.data=[],n.rulesTitles=[{id:0,title:"加入任务-未开启"},{id:1,title:"加入任务-执行中"},{id:2,title:"加入任务-暂停中"},{id:3,title:"加入任务-已结束"},{id:4,title:"未加入任务"}],n.rulesTitles.forEach(function(t,n){e(t.id,n)})}r.$inject=["rulesService"],t.exports={template:n(72),controller:r}},function(t,e){t.exports='<div class="rules-list">\r\n  <div ng-repeat="rules in $ctrl.rulesTitles">\r\n    <div class="panel panel-default" ng-init="rules.isCollapsed=false">\r\n      <div class="panel-heading">\r\n        {{ rules.title }}\r\n        <button class="btn btn-link pull-right" style="margin-top:-5px;" ng-click="rules.isCollapsed = !rules.isCollapsed">\r\n        <span class="glyphicon" ng-class="{\'glyphicon-menu-down\': rules.isCollapsed, \'glyphicon-menu-up\': !rules.isCollapsed}"></span>\r\n      </button>\r\n      </div>\r\n      <div uib-collapse="rules.isCollapsed">\r\n        <div class="panel-body">\r\n          <table class="table table-bordered table-hover">\r\n            <thead class="bg-default">\r\n              <tr>\r\n                <td>site ID/广告ID</td>\r\n                <td>规则组名称</td>\r\n                <td>规则组类型</td>\r\n                <td>创建时间</td>\r\n                <td>加入任务时间</td>\r\n                <td class="hide">&nbsp;</td>\r\n              </tr>\r\n            </thead>\r\n            <tbody>\r\n              <tr ng-repeat="row in $ctrl.data[$index]">\r\n                <td>{{ row.SiteID }}</td>\r\n                <td>{{ row.RuleGroupName }}</td>\r\n                <td>{{ row.RuleGroupType }}</td>\r\n                <td>{{ row.CreateTime | date:"yyyy-MM-dd hh:mm:ss" }}</td>\r\n                <td>{{ row.CreateTaskTime | date:"yyyy-MM-dd hh:mm:ss" }}</td>\r\n                <td class="hide">\r\n                  <a href="">复制规则组</a>\r\n                  <br>\r\n                  <a href="">导入规则组</a>\r\n                </td>\r\n              </tr>\r\n              <tr ng-if="!$ctrl.data[$index].length">\r\n                <td colspan="6" class="text-center">空</td>\r\n              </tr>\r\n            </tbody>\r\n          </table>  \r\n        </div>\r\n      </div>\r\n    </div>\r\n  </div>\r\n</div>'},function(t,e,n){function r(){this.content="编辑任务"}r.$inject=[],t.exports={template:n(74),controller:r}},function(t,e){t.exports="<h1>新建任务</h1>"},function(t,e,n){function r(t){function e(){var e=t.open({size:"400",component:"importRulesModal"});e.result.then(function(t){console.log("xxxxxxxxxxxxxx"),console.log(t)})}var n=this;n.showImportModal=e}r.$inject=["$uibModal"],t.exports={template:n(76),controller:r}},function(t,e){t.exports='<div style="min-height: 200px;">\r\n  <p>\r\n    <button class="btn btn-primary" ng-click="$ctrl.showImportModal()">导入规则组</button>\r\n  </p>\r\n  <p class="text-warn">\r\n    数据上传中47%\r\n  </p>\r\n  <p>\r\n    导入成功 145条数据\r\n    <a>查看规则组详情&gt;&gt;</a>\r\n  </p>\r\n  <p>\r\n    导入失败<br>\r\n    失败原因：\r\n  </p>\r\n</div>\r\n<div>\r\n  <h5>导入规则组历史</h5>\r\n  <div class="hr"></div>\r\n  <div style="text-align:center;line-height:200px;">暂无导入规则组历史</div>\r\n  <table class="table table-bordered table-hover">\r\n    <thead class="bg-default">\r\n      <tr>\r\n        <th>导入时间</th>\r\n        <th>导入结果</th>\r\n        <th>规则组名称</th>\r\n        <th>规则模块</th>\r\n      </tr>\r\n    </thead>\r\n    <tbody>\r\n      <tr>\r\n        <td>2016-10-27  10:55:23</td>\r\n        <td>导入失败</td>\r\n        <td>Arla官网打标签规则</td>\r\n        <td>点击</td>\r\n      </tr>\r\n    </tbody>\r\n  </table>\r\n</div>'},function(t,e,n){function r(t){var e=this,n=[{id:1,label:"Option 1"},{id:2,label:"Option 2"},{id:3,label:"Option 3"}],r=[{id:1,label:"页面"},{id:2,label:"点击"},{id:3,label:"订单"},{id:4,label:"购物车"},{id:5,label:"会员"},{id:6,label:"微信"},{id:7,label:"会员积分"},{id:8,label:"搜索"},{id:9,label:"活动"},{id:10,label:"优惠卷"},{id:11,label:"中奖"},{id:12,label:"答题"}];e.model={selectRules:n[0].id,selectModule:r[0].id},e.options={},e.fields=[{key:"selectRules",type:"select2",templateOptions:{label:"选择标签规则组",valueProp:"id",labelProp:"label",options:n,required:!0}},{key:"selectModule",type:"select2",templateOptions:{label:"选择网站模块",valueProp:"id",labelProp:"label",options:r,required:!0}}],e.selectFile=function(t){e.close({$value:t})}}r.$inject=["$scope"],t.exports={template:n(78),controller:r,bindings:{resolve:"<",close:"&",dismiss:"&"}}},function(t,e){t.exports='<div class="modal-body">\r\n  <form class="form-horizontal" name="$ctrl.form" novalidate>\r\n    <formly-form model="$ctrl.model" fields="$ctrl.fields" form="$ctrl.form" options="$ctrl.options">\r\n  </formly-form>\r\n  </form>\r\n</div>\r\n<div class="modal-footer">\r\n  <input-file class="btn btn-primary" on-change="$ctrl.selectFile(file)">选择文件</input-file>\r\n  <button class="btn btn-default" type="button" ng-click="$ctrl.dismiss();">取消</button>\r\n</div>'},function(t,e){e.rulesListState={parent:"app",name:"rulesList",url:"/rules",title:"规则组列表",component:"rulesList"},e.newRulesState={parent:"app",name:"newRules",url:"/rules/new",title:"新建规则组",component:"newRules"},e.viewRulesState={parent:"app",name:"viewRules",url:"/rules/:rulesId",title:"规则组详情",component:"newRules"},e.newRuleState={parent:"app",name:"newRule",url:"/rules/:rulesId/rule/:ruleType",title:"新建规则组",component:"newRule"},e.importRuleState={parent:"app",name:"importRules",url:"/rule/import",title:"导入规则组",component:"importRules"}},function(t,e,n){e.runFormlyConfig=["formlyConfig","formlyValidationMessages",function(t,e){t.setType(n(81))}]},function(t,e,n){t.exports={name:"bindTag",template:n(82),defaultOptions:{noFormControl:!0,wrapper:["bootstrapLabel","bootstrapHasError"]},controller:["$scope","$timeout",function(t,e){function n(t){return{key:l+"["+t+"].weight",type:"input",templateOptions:{required:!0}}}function r(t,n){return e(function(){i=n.templateOptions.options=[{id:1,title:"aaa"},{id:2,title:"bbb"},{id:3,title:"ccc"},{id:4,title:"ddd"},{id:5,title:"eee"},{id:6,title:"fff"}]},1e3)}function s(t){o[l]=o[l]||[],o[l].push({weight:"",tagId:t.id,tagTitle:t.title})}t.copyItemOptions=n,t.selectTag=s,t.hideModel={},t.searchOptions={key:"search",type:"uiSelectAsync2",templateOptions:{optionsAttr:"bs-options",label:"关联标签",options:[],valueProp:"id",labelProp:"title",refresh:r,refreshDelay:100}};var i,o=t.model,l=t.options.key;t.$watch("hideModel.search",function(t){i&&i.forEach(function(e,n){e.id===t&&s(e)})})}]}},function(t,e){t.exports='<div class="col-xs-12">\r\n  <formly-field options="searchOptions" model="hideModel">\r\n  </formly-field>\r\n  <div ng-show="model[options.key].length">\r\n    <div class="clearfix text-center" style="margin-bottom:15px">\r\n      <div class="col-xs-4">权重</div>\r\n      <div class="col-xs-8">已选标签</div>\r\n    </div>\r\n    <div class="clearfix"\r\n         ng-repeat="item in model[options.key] track by $index"\r\n         ng-init="itemOptions = copyItemOptions($index)">\r\n      <div class="col-xs-4">\r\n        <formly-field class="no-padding"\r\n                      options="itemOptions"\r\n                      model="model"\r\n                      form="form">\r\n        </formly-field>\r\n      </div>\r\n      <div class="col-xs-8" style="line-height: 32px;">\r\n        <div>\r\n          {{ model[options.key][$index].tagTitle }}\r\n          <a ng-click="model[options.key].splice($index, 1)">\r\n            <span class="glyphicon glyphicon-trash"></span>\r\n          </a>\r\n        </div>\r\n      </div>\r\n    </div>  \r\n  </div>\r\n</div>'},function(t,e){function n(t,e,n){function r(t){return t=t||{},e.get(n+"/api/FindRuleGroup",{params:t})}return{getRules:r}}n.$inject=["$q","$http","apiBaseUrl"],e.rulesService=n}]);
//# sourceMappingURL=app.js.map