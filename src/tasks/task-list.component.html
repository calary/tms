<div class="task-list">
  <!-- 筛选 -->
  <div class="well well-default">
    <form class="form-horizontal" name="$ctrl.form" novalidate>
      <formly-form model="$ctrl.model" fields="$ctrl.fields" form="$ctrl.form" options="$ctrl.options">
      </formly-form>
      <button class="btn btn-primary" ng-click="$ctrl.filter()">筛选</button>
      <button class="btn btn-default" ng-click="$ctrl.options.resetModel()">重置</button>  
    </form>
    <!-- <div>{{ $ctrl.model | json }}</div> -->
  </div>
  <p ng-hide="$ctrl.store.hideEditArea"><a ui-href="newTask" class="btn btn-primary">新建任务</a></p>
  <!-- 任务列表 -->
  <table class="table table-bordered table-hover">
    <thead class="bg-default">
      <tr>
        <td>site ID/广告ID</td>
        <td>规则组名称</td>
        <td>规则组类型</td>
        <td>开始时间</td>
        <td>结束时间</td>
        <td>状态</td>
        <td ng-hide="$ctrl.store.hideEditArea">任务进度</td>
        <td>创建时间</td>
        <td ng-hide="$ctrl.store.hideEditArea">操作</td>
      </tr>
    </thead>
    <tbody>
      <tr ng-repeat="row in $ctrl.data">
        <td>{{ row.SiteID }}</td>
        <td>{{ row.RuleGroupName }}</td>
        <td>{{ row.RuleGroupType }}</td>
        <td>{{ row.StartDate | date:"yyyy-MM-dd hh:mm:ss" }}</td>
        <td>{{ row.EndDate | date:"yyyy-MM-dd hh:mm:ss" }}</td>
        <td>
          <div ng-switch="row.Status">
            <div ng-switch-when="0">未开始</div>
            <div ng-switch-when="1">
              执行中
              <switch name="enabled" ng-model="enabled" class="green"></switch></div>
            <div ng-switch-when="2">
              暂停中
              <switch name="enabled" ng-model="enabled" class="green"></switch>
            </div>
            <div ng-switch-when="3">已结束</div>
            <div ng-switch-when="4">未加入</div>
          </div>
        </td>
        <td ng-hide="$ctrl.store.hideEditArea">
          <div class="text-center">22%</div>
          <uib-progressbar value="22"></uib-progressbar>
        </td>
        <td>{{ row.CreateTime | date:"yyyy-MM-dd hh:mm:ss"}}</td>
        <td ng-hide="$ctrl.store.hideEditArea"><a href="">编辑任务时间</a></td>
      </tr>
      <tr ng-if="!$ctrl.data.length" class="text-center">
        <td colspan="9">空</td>
      </tr>
    </tbody>
  </table> 
<!--   <div ng-init="bigTotalItems=175;bigCurrentPage=1;maxSize=3;"></div>
  <ul uib-pagination 
    total-items="bigTotalItems" 
    ng-model="bigCurrentPage" 
    max-size="maxSize" 
    boundary-link-numbers="true" 
    previous-text="上一页" next-text="下一页"
  ></ul> --> 
</div>

